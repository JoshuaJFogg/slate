<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>eSuite API Reference</title>

    <style>
        .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <style>
      @import url('https://fonts.googleapis.com/css?family=Open+Sans');
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="https://www.mppglobal.com/wp-content/themes/mpp/favicon.png" rel="icon" type="image/png" />

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-549407-8', 'auto');
  ga('send', 'pageview');

</script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
          <div class="tocify-wrapper">
            <img src="images/logo.png" alt="Logo" />
    
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="javascript">jQuery</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://mppglobal.com'>Documentation Powered by eSuite</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The eSuite API is built around the architectural principle of REST (Representational State Transfer)..</p>

<p>The API allows you to interact with eSuite from both a client-side web application and a traditional server-side application. The API also uses standard HTTP features and can be used via standard HTTP clients in order to perform actions prior to integrating the functionality. All responses are returned in JSON, including error messages. </p>

<p>In order ensure the eSuite REST API is secure, certain features are not available to client-side web applications but the functions that are made availalbe will allow you to build an application to take card payments without having to have it hosted with a third party or use a hosted white label solution.</p>

<p>The API has also been built using the OpenAPI Specification (formally the Swagger Specification) which will allow you to automatically generate code. Please be aware that although Swagger is provided to speed up the rate of development, it may contain documentation issues that will be resolved in a later release of the API.</p>

<p>You can generate your bindings against our UAT swagger <a href="https://uat.mppglobal.com:443/swagger/docs/9">here</a>.</p>

<aside class="info">Please be aware the all dates and times returned via the API are presented in UTC and do not take into account your local time zone.</aside>

          <h1 id="api-authorization">API Authorization</h1>

<h2 id="client-to-server-integrations">Client-to-Server integrations</h2>

<p>Client-to-server integrations are often the quickest to complete and allow you to get live in a matter of hours. To help this process, MPP Global has developed the eSuite SDK which is an AngularJS application that contains UI elements covering the standard flows experienced by our existing clients. If you decide you would prefer to build the eSuite API into your existing technology stack directly, this is possible. Client-to-server API requests are restricted as to what features are available and the data that can be passed. For example, configuring a price from the client-side application is not possible as it should never be accessible to the end-user to change how much they pay for an item.</p>

<p>In order to authenticate with the eSuite API, you will be required to pass either two or three pieces of information dependent on the actions you are looking to complete. The values required are:</p>

<h3 id="x-tokenid">X-TokenId</h3>

<p>This is your API Key for the eSuite API. When you are set up on the eSuite platform, you will be provided with the API Key and it will be the value used by eSuite to identify you when making requests into the platform. It is possible to have multiple API Keys configured against your instance of eSuite. The API Key is a GUID (32 character non-sequential value) and will be different in both UAT and Live environments.</p>

<p><code class="prettyprint">x-tokenId: BE52ADA2064C4F9A9D90F28D066D1CEE</code></p>

<h3 id="origin">Origin</h3>

<p>As part of the API Key provisioning process, your API key will be bound to a specific Origin that reflects the location from which you will make your API requests. It is possible to bind multiple Origin domains to a single API Key, the only restriction on the domains used as Origins is that they are all HTTPS. Whilst you are getting your system set up, the API Key for the UAT environment will be bound to https://localhost so that you can begin work straight away.</p>

<p><code class="prettyprint">Origin: https://mywebsite-domain.com</code></p>

<h3 id="x-sessionid">X-SessionId</h3>

<p>In the event you are performing actions relating to a customer&rsquo;s account, whether that be account creation, retrieval or addition of payment details; you must provide a session token for that customer in the request you make. This session token can be gained from two different places: the customer authenticating themselves using their email address and password, or a server-to-server API request on behalf of the customer. The session provided will have both a short-life permission which allows the customer to carry out actions against their account and this lasts for 15 minutes since last use, and then a long-life permission which is used for checking access to content only.</p>

<p><code class="prettyprint">x-sessionId: BE52ADA2064C4F9A9D90F28D066Y6RDE</code></p>

<aside class="warning">
You must replace the <code>x-tokenId</code> value with your personal API key.
</aside>

<h2 id="server-to-server-integrations">Server-to-server Integrations</h2>

<p>eSuite uses API keys to allow access to the API. You can register a new eSuite API key by logging into eSuite HQ.</p>

<p>eSuite expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<h3 id="x-clientid">X-ClientId</h3>

<p>The header &lsquo;x-clientid&rsquo; is used to identify who is attempting to make the request to eSuite. You will only be issued with a single clientId for eSuite and this will remain consistent between both UAT and the Live system.</p>

<p><code class="prettyprint">x-clientid: 1001</code></p>

<h3 id="x-clientpassword">X-ClientPassword</h3>

<p>The client password is the authorization mechanism used to determine whether the requester has permissions to execute the API method in question. It is possible to have multiple API payments against your client but these will differ between both UAT and the Live system due to the UAT system not being a PCI compliant environment. </p>

<p>The client password should never be revealed in the public domain nor should it be written on a physical item e.g paper. When moving to the Live system, MPP Globals Client Onboarding team will provide a designated member of your organisation the client password over the phone.</p>

<p><code class="prettyprint">x-clientpassword: Str0ngP@ssword</code></p>

<aside class="warning">
The <code>x-clientId</code> should never be revealed in the public domain, nor be accessible to general members of the team.
</aside>

<aside class="warning">
If you choose to integrate the eSuite API directly into your technology stack please be aware that in the event you are processing, storing or transmitting card data, your entire application will be in scope for PCI Level one compliance.
</aside>

<h2 id="versions">Versions</h2>

<p>The eSuite API operates a semantic version policy which is denoted using MAJOR.MINOR.PATCH (9.0.0). The x-version header is a Required parameter on <em>all</em> API requests.</p>

<p>If MPP Global makes a change to the eSuite API that could result in an existing integration no longer functioning correctly, a new major version will be released, resulting in incrementing the Major version of the API. For example, a non-backwards compatible change to the API would be the change the results in responses being returned as XML rather than JSON. This would see a version 9.12.3 being the final version 9 release and a breaking change being released on version 10.0.0.</p>

<p>As part of the development of the eSuite platform, new features are released every two weeks. The introduction of new features that do not cause breaking changes will be added to the current major version of the API and a minor release. For example, this would be version 9.1.3 providing the ability to create a customer account on the eSuite platform. As part of the next release of the eSuite platform you are able to retrieve customer accounts via the eSuite API but this would be added to a new minor version and be available on version 9.2.0.</p>

<p>From time to time bugs will be discovered with the eSuite API and we will fix them as soon as technically possible. When a fix is deployed to an existing piece of functionality that does not change the details of the API from an integration level, a patch version would be released taking a version from 9.2.3 to version 9.2.4.</p>

<p>The current policy on version support for the eSuite API, MPP Global will continue to support all versions that are currently in use by clients. Once all clients have moved to a later version of the API, an end-of-life (eoL) process will begin.</p>

          <h1 id="workflow-configurations">Workflow Configurations</h1>

<h2 id="get-a-subscription-session">Get a Subscription session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/subscriptions/<span class="o">{</span>resourceReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a39758cbf084f65a192ad39378f7e1b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured subscription service.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/subscriptions</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">resourceReference</code> <br /> Reference to the subscription service being purchased.</td>
<td><span class="string">string<span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">returnUrl</code> <br /> The URL location the account should be redirected to following a purchase attempt.</td>
<td><span class="string">string<span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">processUpdateURL</code> <br /> The endpoint that should be notified of the successful purchase.</td>
<td><span class="string">string<span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-a-product-session">Get a Product session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/products/<span class="o">{</span>resourceReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/products/{resourceReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a39758cbf084f65a192ad39378f7e1b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured product.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/products</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">resourceReference</code> <br />Reference to the subscription service being purchased.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">returnUrl</code> <br />The URL location the account should be redirected to following a purchase attempt.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">processUpdateURL</code> <br />The endpoint that should be notified of the successful purchase.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retrieve-a-session-configuration">Retrieve a Session Configuration</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Sandbox"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientDefaultTimeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GMT Standard Time"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientDefaultUICulture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-GB"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createSessionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bypassConfirmationPage"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelPaymentOnProcessUpdateFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"function"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddSubscription"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access to great content on a week by week basis."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"zeroRated"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"requiresDelivery"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotSet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotSet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16026</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voucherCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"newAccount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cardTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowRepeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureForAllTransactions"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureOnFirstTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowRepeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureForAllTransactions"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureOnFirstTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"directDebitTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bacs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sepa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured product. You are required to provide a valid <code class="prettyprint">x-sessionId</code> in order for this API request to be successful.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code> <br />The associated ClientId to your eSuite instance.</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientName</code> <br />The name associated to your eSuite instance.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientDefaultTimeZone</code> <br />Friendly name of your configured time zone.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientDefaultUICulture</code> <br />ISO representation of the configured culture.</td>
<td><span class="string"><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo</code> <br />Overarching session information object.</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ bypassConfirmationPage</code> <br />An indication as to whether the payment confirmation page should be bypassed following successful purchase.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ clientUserId</code> <br />The clientUserId of the account.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ currency</code> <br />The currency configured for the workflow.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ cancelPaymentOnProcessUpdateFailure</code> <br />Whether the purchase requires external approval.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ function</code> <br />The type of workflow configured AddSubscription, BuyProduct, etc.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo \ orderItems</code>   <br />Collection of items to be purchased.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ description</code> <br />The description of each item.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ grossAmount</code> <br />The gross amount of each item.</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ netAmount</code> <br />The net amount of each item.</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ taxInfo</code>   <br />Collection of tax information for the item.</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ taxAmount</code> <br />The tax amount of each item.</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />The category of tax associated to the item.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ region</code> <br />Collection of tax region information.</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">region \ zeroRated</code> <br />Indication whether the item is non-taxable.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">region \ country</code> <br />The country tax rate to apply.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">region \ state</code> <br />The state tax rate to apply.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">region \ county</code> <br />The county tax rate to apply.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">region \ city</code> <br />The city tax rate to apply.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ requiresDelivery</code> <br />Indication as to whether the item will require delivery.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ paymentMethod</code> <br />The default payment method to display. This method could be one of the following: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">PayPal</code>, <code class="prettyprint">ServiceCredits</code>, <code class="prettyprint">Alipay</code>, <code class="prettyprint">Offline</code>, <code class="prettyprint">SmartLink</code>, <code class="prettyprint">Momo</code> and <code class="prettyprint">SPCarrierBilling</code></td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ productId</code> <br />The associated ProductId of the purchase.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ returnUrl</code> <br />The location the consumer should be returned to following purchase.</td>
<td><span class="string">string</span></span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ serviceId</code> <br />The associated ServiceId of the purchase.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo  \ voucherCode</code> <br />Any pre-entered voucher codes.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">newAccount</code> <br />An indication as to whether the flow is for a new or existing account.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentOptions</code> <br />A collection of payment options and their configuration.</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentOptions \ cardTypes</code> <br />Object detailing the specifics of the available card types</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">cardTypes \ name</code> <br />Collection of cards types available.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cardTypes \ allowRepeats</code> <br />An indication as to whether the card type can be used for one-click payments.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">cardTypes \ use3DSecureForAllTransactions</code> <br />An indication as to whether the card type requires 3D Secure.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">cardTypes \ use3DSecureOnFirstTransaction</code> <br />An indication as to whether the card type requires 3D Secure on first use only.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentOptions \ directDebitTypes</code> <br />Collection of available Direct Debits.</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">directDebitTypes \ name</code> <br />Type fo direct debit.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">directDebitTypes \ allowed</code> <br />An indication as to whether it is available.</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

<h2 id="create-a-subscription-session">Create a Subscription Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"workFlowConfiguration":{"pricing":{"priceId":18535}}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18535}}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18535}}}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a recurring subscription service, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/subscriptions</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ subscriptionId</code> <br />The configured subscription service identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ pricing</code> <br />Pricing object for the purchase</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ priceId</code> <br />The configured price identifier</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ paymentMethod</code> <br />The payment method the customer should be presented by default. This could be: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">ServiceCredits</code>, <code class="prettyprint">Offline</code>, <code class="prettyprint">SPCarrierBilling</code>, <code class="prettyprint">Momo</code>, <code class="prettyprint">SmartLink</code>, <code class="prettyprint">PayPal</code> or <code class="prettyprint">Alipay</code>.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />ISO Currency of the purchase e.g. <code class="prettyprint">EUR</code></td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ priceItems</code> <br />Collection of individual items being purchased on a dynamic subscription</td>
<td><span class="array">array[objects]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ externalReference</code> <br />Reference from a client system</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ supplierId</code> <br />Supplier identifier from a client system</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ price</code> <br />The price that will be paid for the line item</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ description</code> <br />The description that will be displayed to the account</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ processUpdateUrl</code> <br />External endpoint eSuite should notiffy of purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ cancelOnProcessUpdateFailure</code> <br />An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ returnUrl</code> <br />The location to be redirected to upon leaving the purchase flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ clientUserId</code> <br />Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ email</code> <br />Accounts email address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ voucherCode</code> <br />A pre-configured eSuite voucher code</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ securityToken</code> <br />Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ disable3DSecure</code> <br />An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ settlementType</code> <br />An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ permitUnverifiedAccountPurchase</code> <br />Prevent accounts who have not verified their emails from making a purchase</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ workFlowCustomParameters</code> <br />A collection of custom attributes associated to the configuration</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> <br />A collection of custom attributes associated to the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> <br />A collection of custom attributes associated to the subscription</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensitive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-product-session">Create a Product Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/products <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"workFlowConfiguration":{"pricing":{"priceId":18535}}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18535}}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18535}}}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/products"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a one time product, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/products</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ pricing</code> <br />Pricing object for the purchase</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ priceId</code> <br />The configured price identifier</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ paymentMethod</code> <br />The payment method the customer should be presented by default. This could be: <code class="prettyprint">CreditCard</code>,<code class="prettyprint">ServiceCredits</code>, <code class="prettyprint">Offline</code>, <code class="prettyprint">SPCarrierBilling</code>, <code class="prettyprint">PayPal</code> or <code class="prettyprint">Alipay</code>.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ processUpdateUrl</code> <br />External endpoint eSuite should notiffy of purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ cancelOnProcessUpdateFailure</code> <br />An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ returnUrl</code> <br />The location to be redirected to upon leaving the purchase flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ clientUserId</code> <br />Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ email</code> <br />Accounts email address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ voucherCode</code> <br />A pre-configured eSuite voucher code</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ securityToken</code> <br />Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ disable3DSecure</code> <br />An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ settlementType</code> <br />An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ permitUnverifiedAccountPurchase</code> <br />Prevent accounts who have not verified their emails from making a purchase</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ workFlowCustomParameters</code> <br />A collection of custom attributes associated to the configuration</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> <br />A collection of custom attributes associated to the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensitive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-one-off-charge-session">Create a One-off Charge Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"orderItems":[{"description":"Demonstration Request","priceBreakDown":{"grossAmount":10},"taxInfo":{"category":"Standard"}}],"workFlowConfiguration":{}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"orderItems\":[{\"description\":\"Demonstration Request\",\"priceBreakDown\":{\"grossAmount\":10},\"taxInfo\":{\"category\":\"Standard\"}}],\"workFlowConfiguration\":{}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"orderItems\":[{\"description\":\"Demonstration Request\",\"priceBreakDown\":{\"grossAmount\":10},\"taxInfo\":{\"category\":\"Standard\"}}],\"workFlowConfiguration\":{}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">orderItems</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Demonstration Request</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">priceBreakDown</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10},</span><span class="se">\"</span><span class="s2">taxInfo</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">category</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Standard</span><span class="se">\"</span><span class="s2">}}],</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">orderItems</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Demonstration Request</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">priceBreakDown</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10},</span><span class="se">\"</span><span class="s">taxInfo</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">category</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Standard</span><span class="se">\"</span><span class="s">}}],</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/miscellaneous-charge"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for a one off charge, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ processUpdateUrl</code> <br />External endpoint eSuite should notiffy of purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ cancelOnProcessUpdateFailure</code> <br />An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ returnUrl</code> <br />The location to be redirected to upon leaving the purchase flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ clientUserId</code> <br />Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ email</code> <br />Accounts email address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ voucherCode</code> <br />A pre-configured eSuite voucher code</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ securityToken</code> <br />Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ disable3DSecure</code> <br />An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ settlementType</code> <br />An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ permitUnverifiedAccountPurchase</code> <br />Prevent accounts who have not verified their emails from making a purchase</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ workFlowCustomParameters</code> <br />A collection of custom attributes associated to the configuration</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> <br />A collection of custom attributes associated to the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> <br />A collection ofitems that will be purchased</td>
<td><span class="array">array[object]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ description</code> <br />The description of the item being purchased</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ orderReference</code> <br />External reference for the item being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ comment</code> <br />Additional comment against the item</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ priceBreakdown</code> <br />The payment amounts related to the purchase</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown &gt; grossAmount</code> <br />The amount the account will be charged</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown &gt; netAmount</code> <br />The amount that will be available after tax</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown &gt; taxAmount</code> <br />The amount of tax associated to the item</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensitive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-credit-purchase-session">Create a Credit Purchase Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/service-credits <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"serviceCredits":{"description":"Credits to buy services","paidCredits":10,"freeCredits":0},"workFlowConfiguration":{}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"serviceCredits\":{\"description\":\"Credits to buy services\",\"paidCredits\":10,\"freeCredits\":0},\"workFlowConfiguration\":{}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"serviceCredits\":{\"description\":\"Credits to buy services\",\"paidCredits\":10,\"freeCredits\":0},\"workFlowConfiguration\":{}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">serviceCredits</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Credits to buy services</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paidCredits</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">freeCredits</span><span class="se">\"</span><span class="s2">:0},</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">serviceCredits</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Credits to buy services</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paidCredits</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">freeCredits</span><span class="se">\"</span><span class="s">:0},</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a recurring subscription service, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/service-credits</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ subscriptionId</code> <br />The configured subscription service identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ pricing</code> <br />Pricing object for the purchase</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />ISO Currency of the purchase e.g. <code class="prettyprint">EUR</code></td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><br /><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits</code>  <br />Pricing object for the purchase</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits \ description</code> <br />A description to associate to the purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits \ paidCredits</code> <br />The amount of credit which the account should pay for</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits \ freeCredits</code> <br />The amount of free credit which the account should receive</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ processUpdateUrl</code> <br />External endpoint eSuite should notify of purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ cancelOnProcessUpdateFailure</code> <br />An indication as to whether eSuite should cancel the purchase on failure to receive a call out response</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ returnUrl</code> <br />The location to be redirected to upon leaving the purchase flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ clientUserId</code> <br />Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ email</code> <br />Accounts email address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ voucherCode</code> <br />A pre-configured eSuite voucher code</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ securityToken</code> <br />Value that is passed in the <code class="prettyprint">ProcessUpdate</code> call out to allow you to verify it is a legitimate call out</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ disable3DSecure</code> <br />An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ settlementType</code> <br />An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ permitUnverifiedAccountPurchase</code> <br />Prevent accounts who have not verified their emails from making a purchase</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration \ workFlowCustomParameters</code> <br />A collection of custom attributes associated to the configuration</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> <br />A collection of custom attributes associated to the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensitive nature of some information contained in the `POST` request.
</aside>

          <h1 id="workflow-purchases">Workflow Purchases</h1>

<h2 id="standard-subscription-purchase">Standard Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/subscriptions"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001DFTBDC03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the subscription service configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<p>In order to make this request, a workflow configuration call <strong>must</strong> have been made in order to generate a valid <code class="prettyprint">x-sessionId</code> that can then be passed to this endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />eSuite generated voucher code that has been provided during the flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">renewalDay</code> <br />The date of the month the subscription should be renewed on, specifically for monthly or annual subscriptions</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">renewalDayOffset</code> <br />The number of days before or after the renewal date. This can be positive or negative</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the subscription should be purchased and started</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary*</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> <br />A collection of custom attributes associated to the subscription</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters \ parameterName</code><br /> The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> <br />Account Group information</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ groupToken</code> <br />The associated group account identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ subscriberAccounts</code> <br />A collection of accounts that should be assigned to the subscription</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ clientUserId</code> <br />The clientUserId of the account that should be assigned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ emailAddress</code> <br />The email address of the account that should be assigned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ taxInfo</code> <br />Collection of tax information for each account</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="standard-product-purchase">Standard Product Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/products"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<p>In order to make this request, a workflow configuration call <strong>must</strong> have been made in order to generate a valid <code class="prettyprint">x-sessionId</code> that can then be passed to this endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/products</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">productDetails</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">productDetails \ description</code> <br />If the product description configured in eSuite should be overridden</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">productDetails \ referenceNumber</code> <br />Client reference for the purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">productDetails \ comments</code> <br />Any additional comments on the purchase</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />eSuite generated voucher code that has been provided during the flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">settlementType</code> <br />An indication as to whether the purchase should be completed immediately or delayed</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary*</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="standard-one-off-charge">Standard One-off Charge</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<p>In order to make this request, a workflow configuration call <strong>must</strong> have been made in order to generate a valid <code class="prettyprint">x-sessionId</code> that can then be passed to this endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The payment method the account has selected to pay with if it differs from the initial configuration. The supported payment methods on this endpoint are: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">PayPal</code>, <code class="prettyprint">SPCarrierBilling</code>, <code class="prettyprint">ServiceCredits</code>, <code class="prettyprint">Alipay</code> and <code class="prettyprint">Offline</code>.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />A voucher code provided by the account during the workflow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary*</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ description</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ orderReference</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ comment</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary*</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="standard-credits-purchase">Standard Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/service-credits"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<p>In order to make this request, a workflow configuration call <strong>must</strong> have been made in order to generate a valid <code class="prettyprint">x-sessionId</code> that can then be passed to this endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The payment method the account has selected to pay with if it differs from the initial configuration. The available payment methods for this action are: <code class="prettyprint">CreditCard</code> and <code class="prettyprint">Offline</code>.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />A voucher code provided by the account during the workflow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="alternative-subscription-purchase">Alternative Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/subscriptions"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001DFTBDC03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative subscription options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/subscription</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="alternative-product-purchase">Alternative Product Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/products"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"154847"</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative product purchase options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/products</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="alternative-one-off-charge">Alternative One-off Charge</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative one-off charge, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="alternative-credits-purchase">Alternative Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/service-credits"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative credits purchase, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

          <h1 id="accounts">Accounts</h1>

<h2 id="create-account">Create Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"email":"johnsmith-api@mppglobal.com","password":"4034510a@!","clientUserId":"84AF2AAC-C1BD-4A93-AB08-57D2D7A54274"}"
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"johnsmith-api@mppglobal.com\",\"password\":\"4034510a@!\",\"clientUserId\":\"84AF2AAC-C1BD-4A93-AB08-57D2D7A54274\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"johnsmith-api@mppglobal.com\",\"password\":\"4034510a@!\",\"clientUserId\":\"84AF2AAC-C1BD-4A93-AB08-57D2D7A54274\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">johnsmith-api@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4034510a@!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">84AF2AAC-C1BD-4A93-AB08-57D2D7A54274</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">johnsmith-api@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4034510a@!</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">84AF2AAC-C1BD-4A93-AB08-57D2D7A54274</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"johnsmith-api@mppglobal.com\",\"password\":\"4034510a@!\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />The identifier used when eSuite is primary IDAM.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The value provided by the account to pair with the email.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code> <br />Available values: Mr, Mrs, Miss and Ms.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code> <br />The first name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code> <br />The last name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />The home phone number of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code> <br />The mobile number of the account (minus country code).</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />The birthday of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">gender</code> <br />Available values: Male, Female and Unspecified.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code> <br />A collection of addresses bound to the account.</td>
<td><span class="array">array</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ addressType</code> <br />Available values: Home and Billing.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseName</code> <br />The name associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseNumber</code> <br />The building number associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ street</code> <br />The street associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ townCity</code> <br />The town or city associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ district</code> <br />The district associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ state</code> <br />The state associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ county</code> <br />The county associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ postCode</code> <br />The post code associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ country</code> <br />The country the account resides</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />A collection of custom attributes stored against the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
</tbody></table>

<p><em>* It is Required to pass either a email address or a clientUserId. It is possible to provide both.</em></p>

<h2 id="retrieve-account">Retrieve Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once an account has been created within the eSuite platform, it is possible to return the account resource using the REST API.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountId</code> <br />AccountId referring to the account requested</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">resourceReferece</code> <br />Computational value of the accountId and the resource type</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">status</code> <br />The current status of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">email</code> <br />The identifier used when eSuite is primary IDAM.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The value provided by the account to pair with the email.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code> <br />Available values: Mr, Mrs, Miss and Ms.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code> <br />The first name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code> <br />The last name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />The home phone number of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code> <br />The mobile number of the account (minus country code).</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />The birthday of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">gender</code> <br />Available values: Male, Female and Unspecified.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code> <br />A collection of addresses bound to the account.</td>
<td><span class="array">array</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ addressType</code> <br />Available values: Home and Billing.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseName</code> <br />The name associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseNumber</code> <br />The building number associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ street</code> <br />The street associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ townCity</code> <br />The town or city associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ district</code> <br />The district associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ state</code> <br />The state associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ county</code> <br />The county associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ postCode</code> <br />The post code associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ country</code> <br />The country the account resides</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />A collection of custom attributes stored against the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="update-account">Update Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"email":"johnsmith-api+1@mppglobal.com","currentPassword":"4034510a@!","newPassword":"4034510aRFT453","firstName":"John","surname":"Smith"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"johnsmith-api+1@mppglobal.com\",\"currentPassword\":\"4034510a@!\",\"newPassword\":\"4034510aRFT453\",\"firstName\":\"John\",\"surname\":\"Smith\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"johnsmith-api+1@mppglobal.com\",\"currentPassword\":\"4034510a@!\",\"newPassword\":\"4034510aRFT453\",\"firstName\":\"John\",\"surname\":\"Smith\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">johnsmith-api+1@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currentPassword</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4034510a@!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newPassword</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4034510aRFT453</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">surname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">johnsmith-api+1@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currentPassword</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4034510a@!</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newPassword</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4034510aRFT453</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">surname</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"johnsmith-api+1@mppglobal.com\",\"currentPassword\":\"4034510a@!\",\"newPassword\":\"4034510aRFT453\",\"firstName\":\"John\",\"surname\":\"Smith\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-put">PUT</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />The identifier used when eSuite is primary IDAM.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The value provided by the account to pair with the email.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code> <br />Available values: Mr, Mrs, Miss and Ms.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code> <br />The first name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code> <br />The last name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />The home phone number of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code> <br />The mobile number of the account (minus country code).</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />The birthday of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">gender</code> <br />Available values: Male, Female and Unspecified.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code> <br />A collection of addresses bound to the account.</td>
<td><span class="array">array</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ addressType</code> <br />Available values: Home and Billing.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseName</code> <br />The name associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseNumber</code> <br />The building number associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ street</code> <br />The street associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ townCity</code> <br />The town or city associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ district</code> <br />The district associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ state</code> <br />The state associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ county</code> <br />The county associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ postCode</code> <br />The post code associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ country</code> <br />The country the account resides</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />A collection of custom attributes stored against the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="delete-account">Delete Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint will result in the account being removed from the eSuite platform.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h2 id="search-accounts">Search Accounts</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/ <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">500000001</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010A3EL3S2MKRSGI1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-test@specsavers.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"014785487"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joshua"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fogg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PhoneNumber"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mobileNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotKnown"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HouseName"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HouseNumber"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Street"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TownCity"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"District"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"County"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostCode"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"StoreNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to search for an account using the REST API. This is typically used when integrated into another system or managment console. It is not recommended that this endpoint be utilised using client-side authentiation.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">emailAddress</code> <br />The email associated with an account</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The unique identifier associated with one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">accountName</code> <br />The name associated to an account. This should be first and surname concatenated.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">street</code> <br />Street associated to one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">postCode</code> <br />Post code associated to one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">country</code> <br />Country associated to one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">state</code> <br />State associated to one or more accounts (US only)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />Street associated to one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />Street associated to one or more accounts</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code> <br />The number of account results to be returned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />The result set requested</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalNumberOfRecords</code> <br />Total number of accounts that have been found based on the request criteria</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />The current page of results being show</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">resultsPerPage</code> <br />The number of results being shown</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items</code> <br />Collection of account resources</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">accountId</code> <br />AccountId referring to the account requested</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">resourceReferece</code> <br />Computational value of the accountId and the resource type</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">status</code> <br />The current status of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">email</code> <br />The identifier used when eSuite is primary IDAM.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The value provided by the account to pair with the email.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code> <br />Available values: Mr, Mrs, Miss and Ms.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code> <br />The first name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code> <br />The last name associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />The home phone number of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code> <br />The mobile number of the account (minus country code).</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />The birthday of the account.</td>
<td><span class="string">dateTime</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">gender</code> <br />Available values: Male, Female and Unspecified.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code> <br />A collection of addresses bound to the account.</td>
<td><span class="array">array</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ addressType</code> <br />Available values: Home and Billing.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseName</code> <br />The name associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseNumber</code> <br />The building number associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ street</code> <br />The street associated to the address.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ townCity</code> <br />The town or city associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ district</code> <br />The district associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ state</code> <br />The state associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ county</code> <br />The county associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ postCode</code> <br />The post code associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ country</code> <br />The country the account resides</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />A collection of custom attributes stored against the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="trigger-account-verification">Trigger Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/verify</span>
</div>

<h2 id="complete-account-verification">Complete Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"verificationToken":"BE52ADA2064C4F9A9D90F28D066D1RFT"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">verificationToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">verificationToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s">}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
   <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>Following the receiving of a verification email, the link contained within will take the customer to a page which has integrated this API methods and pass the verification token to eSuite to verifiy the account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/verify</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">verificationToken</code> <br />This parameter represents the token that was contained within the email sent to the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="trigger-forgotten-password">Trigger Forgotten Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/forgotten-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"emailAddress":"john.smith@mppglobal.com"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">emailAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">emailAddress</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/forgotten-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>In the event a customer is unable to access their account due to forgetting their credentials, this API method should be called to trigger an email to be sent to the customers which contains a link that will allow them to reset their password.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/forgotten-password</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">emailAddress</code> <br />The email address associated to the customers account</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="reset-password">Reset Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/update-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-sessionid: BE52ADA2064C4F9A9D90F28D066D1RFT'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"password":"ReallyStr0ngP@ss0rd","login":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">login</span><span class="se">\"</span><span class="s2">:true}"</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">login</span><span class="se">\"</span><span class="s">:true}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">"x-sessionid"</span><span class="p">:</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/update-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns the following JSON document if login was provided as true:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b6dab2afbc4d42a385746a51b3bd2ed6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If an account has requested to reset their password, they will have recieved and email with a session token. This token should be provided into this endpoint to allow the resetting of the password. This endpoint cannot be used for general password updated. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/update-password</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">password</code> <br />The new password for the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">login</code> <br />An indication as to whether the customer should be provided a session following password update.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retrieve-transaction-summary">Retrieve Transaction Summary</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/transaction-summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalCustomerValue"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">56.20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">18.00</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.00</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalRefundsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.00</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.00</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.00</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.50</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingCreditBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.27</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will provide a breakdown of the accounts transaction summary both historically and future dated.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/accounts/{accountId}/transaction-summary</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalCustomerValue</code> <br />Customer value broken down by currency</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalCustomerValue \ totalValue</code> <br /> The sum of all payments minus any refunds</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalCustomerValue \ currency</code><br /> The currency the value represents</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code><br /> Total number of payments taken, broken down by currency</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate \ totalValue</code><br /> The sum of all payments taken against the account</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate \ averageValue</code><br /> The average transaction amount</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate \ currency</code><br /> The currency the value represents</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate \ quantity</code><br /> The number of payments which have been taken against the account</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code><br /> All refunds applied, broken down by currency</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate \ totalValue</code><br /> The sum of all refunds against the account</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate \ averageValue</code><br /> The average transaction refund amount</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate \ currency</code><br /> The currency the value represents</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate \ quantity</code><br /> Number of refunds that have taken place</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code> <br />All outstanding payments, broken down by currency</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate \ totalValue</code><br /> The sum of all payments yet to be taken against the account</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate \ averageValue</code><br /> The average transaction amount</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate \ currency</code><br /> The currency the value represents</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate \ quantity</code><br /> Total number of outstanding payments</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance</code><br /> All outstanding credit balances broken down by currency</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance \ totalValue</code><br /> The total amount credit on the account</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance \ currency</code><br /> The currency the value represents</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="group-accounts">Group Accounts</h1>

<h2 id="create-group">Create Group</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"groupName":"Example Account Group"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"groupName\":\"Example Account Group\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"groupName\":\"Example Account Group\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">groupName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Example Account Group</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">groupName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Example Account Group</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/groups"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"65e2d8d8c22e49b7b922ef48f9683f13"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"groupName\":\"Example Account Group\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"groupToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65e2d8d8-c22e-49b7-b922-ef48f9683f13"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Execution of this action on the API will allow the creation of a new group account. The name provided must be unique to your instance of eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/groups</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">groupName</code> <br />The name to be associated to the new group. This group name must be unique.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">groupToken</code> <br />The identifier for the new account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retieve-groups">Retieve Groups</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/groups"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span> <span class="p">:</span> <span class="s2">"65e2d8d8c22e49b7b922ef48f9683f13"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payee"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"groupInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accountGroupName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Account Group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountGroupToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65e2d8d8-c22e-49b7-b922-ef48f9683f13"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-15T10:48:40.907"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-15T12:54:39.687"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-test-012514215"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thoms"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.thoms@mppglobal.com"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ipRanges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.001.001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.001.001"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.000.000.000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.000.000.001"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"emailDomains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"mppglobal.com"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"permitUserPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"matchEmailOnlyAfterIpMatch"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return all groups the specific account group is associated to.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/groups</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">role</code> <br />An indication as to the role which the account in question holds within the group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo</code> <br />Object of data specific the instance of the group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ accountGroupName</code> <br />The identifiable name of the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ accountGroupToken</code> <br />The identifier for the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ created</code> <br />The The date at which the account group was created.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ lastUpdated</code> <br />The The date at which the account group was last updated.</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ payeeInfo</code> <br />Object of data relating to the payee of the group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payeeInfo \ clientUserId</code> <br />The unique identifier for the payee account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payeeInfo \ firstName</code> <br />The first name associated to the payee account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payeeInfo \ lastName</code> <br />The last name associated to the payee account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payeeInfo \ email</code> <br />Email address of the payee account registered on eSuite.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ ipRanges</code> <br />A collection of IPv4 addresses that can be used to automatically join the group.</td>
<td><span class="array">array[objects]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">ipRanges \ start</code> <br />Start of the allowed IP Range</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">ipRanges \ end</code> <br />End of the allowed IP Range</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ emailDomains</code> <br />A collection of email domains that can be used to automatically join the group.</td>
<td><span class="array">array[string]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ permitUserPayments</code> <br />This attribute represents whether the users of this group are able to make purchases on behalf of the payee</td>
<td><span class="boolean">boolean</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupInfo \ matchEmailOnlyAfterIpMatch</code> <br />An indication as to whether the email domain should only be checked if the IP has been verified</td>
<td><span class="boolean">boolean</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="update-group">Update Group</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/GroupInfo/permitUserPayments/","value":true},{"op":"replace","path":"/GroupInfo/matchEmailOnlyAfterIpMatch/","value":true}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/GroupInfo/permitUserPayments/\",\"value\":true},{\"op\":\"replace\",\"path\":\"/GroupInfo/matchEmailOnlyAfterIpMatch/\",\"value\":true}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/GroupInfo/permitUserPayments/\",\"value\":true},{\"op\":\"replace\",\"path\":\"/GroupInfo/matchEmailOnlyAfterIpMatch/\",\"value\":true}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/GroupInfo/permitUserPayments/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:true},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/GroupInfo/matchEmailOnlyAfterIpMatch/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:true}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/GroupInfo/permitUserPayments/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:true},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/GroupInfo/matchEmailOnlyAfterIpMatch/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:true}]"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/groups/{accountGroupToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span> <span class="p">:</span> <span class="s2">"65e2d8d8c22e49b7b922ef48f9683f13"</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/GroupInfo/permitUserPayments/\",\"value\":true},{\"op\":\"replace\",\"path\":\"/GroupInfo/matchEmailOnlyAfterIpMatch/\",\"value\":true}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint on the API will allow you to edit the following attributes of an account group: emailDomains, ipRange, permitUserPayments and MatchEmailOnlyAfterIP.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="retieve-candidate-groups">Retieve Candidate Groups</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups/candidates <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/candidates"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/candidates"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/candidates"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/groups/candidates"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/candidates"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span> <span class="p">:</span> <span class="s2">"65e2d8d8c22e49b7b922ef48f9683f13"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"candidateGroups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Technical Subscriptions"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96a9d26e-ddf8-4d54-9dd1-dd4ef505a814"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"manager"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James Polkowski"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corperate Subscriptions"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ad70aaab-f21e-45e5-a87c-a35e2ed2e4b2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"manager"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owen Smith"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Executing this API request will return all groups the account is applicable to join based upon IP and email domain restrictions.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/groups</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">candidateGroups</code> <br />Collection of all groups the account is a candidate to join.</td>
<td><span class="array">array[objects]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">candidateGroups \ name</code> <br />Friendly name of the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">candidateGroups \ token</code> <br />The identifier for the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">candidateGroups \ manager</code> <br />The account manager of the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="add-account-to-group">Add Account to Group</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/members <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"email":"my-example@mppglobal.com","clientUserId":"GTFGTV456TF5G"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"my-example@mppglobal.com\",\"clientUserId\":\"GTFGTV456TF5G\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"my-example@mppglobal.com\",\"clientUserId\":\"GTFGTV456TF5G\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">my-example@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GTFGTV456TF5G</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">my-example@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GTFGTV456TF5G</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns and empty response upon success</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Execution of this action on the API will allow the creation of a new group account. The name provided must be unique to your instance of eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />email of the account that should be added to the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserID</code> <br />ClientUserID of the account that should be added to the account group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retieve-group-members">Retieve Group Members</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/members <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/members"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"groupRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payee"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"821430"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"james.griffin@mppqa.co.uk"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Griffin"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return all accounts that are a member of the specific account group.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalNumberOfRecords</code> <br />Total number of members that have been found</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />The current page of results being show</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">resultsPerPage</code> <br />The number of results being shown</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items</code> <br />Collection of group members</td>
<td><span class="array">array[objects]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items \ groupRole</code> <br />The role the account has within the group.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items \ clientUserId</code> <br />Technical identifier for the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items \ email</code> <br />Email address associated to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items \ firstName</code> <br />The first name of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">items \ surname</code> <br />The surname of the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="update-accounts-group-role">Update Accounts Group Role</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/GroupRole","value":"Admin"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/GroupRole\",\"value\":\"Admin\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/GroupRole\",\"value\":\"Admin\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/GroupRole</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Admin</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/GroupRole</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Admin</span><span class="se">\"</span><span class="s">}]"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns an empty response on completion.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint on the API will allow you to edit the role the user has on the account</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. Replace is the only option available on this endpoint.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="delete-accounts-from-group">Delete Accounts from Group</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/members/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint will remove the account from the associated group. It is not possible to remove and account from the group if they are a Payee or Admin.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/members/{accountId}</span>
</div>

<h2 id="retieve-group-members">Retieve Group Members</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"accountSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstNonDiscountedBillingPointUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastDiscountedBillingPointUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurringPaymentInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">317337</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SRA891LP0HW231"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"configuredSubscriptionPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">18665</span><span class="p">,</span><span class="w">
          </span><span class="s2">"subscribedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"recurringPaymentEnable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"subscriptionLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"previousBillingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">18665</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalNetAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="s2">"billingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-23T14:19:15.27"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"regionName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"groupSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"licenseLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"overflowLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"overFlowCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fullSubscriptionsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currentUserInOverFlow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"accountGroupToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40271c08-0f7cf1b37d28"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"voucherCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"statusInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"statusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"statusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"defaultSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15991</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account Group Sub"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"licenseLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint will return all subscriptions against the account group.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptions</code> <br />Collection of all subscription an account has purchased</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions \ accountSubscriptionInfo</code> <br />Collection of subscriptions</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ expiryDate</code> <br />The date at which the subscription expired or will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ firstNonDiscountedBillingPointUtc</code> <br />The first date the account paid full price for the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ lastDiscountedBillingPointUtc</code> <br />The last date the account received a discount</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ paymentMethod</code> <br />Payment method used for the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ recurringPaymentInfo</code> <br />Specific information around the subscription recurrence</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscriptionReference</code> <br />Subscription Identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ configuredSubscriptionPrice</code> <br />Default Price of the subscription service</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscribedPrice</code> <br />Price of subscription at the point of subscribing</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ currency</code> <br />The currency the subscription is related</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ recurringPaymentEnable</code> <br />An indication whether the subscription will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscriptionLockedIn</code> <br />An indication whether the subscription can be cancelled</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ nextPaymentDate</code> <br />Date at which the next payment will be taken</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ previousBillingInfo</code> <br />Information relating to the previous payment made</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ subscriptionPriceId</code> <br />Previous price identifier used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalAmount</code> <br />Total amount paid by the account</td>
<td><span style="color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalTaxAmount</code> <br />Total tax amount paid by the account</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalNetAmount</code> <br />Total net amount paid by the account</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ billingDate</code> <br />The date the account was last billed</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ paymentDate</code> <br />The date the account was debited</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ taxInfo</code> <br />Collection of tax rates applied</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ regionName</code> <br />Name of the tax region</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ regionType</code> <br />The type of region the tax related</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ displayName</code> <br />Friendly name of the tax applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />The category of tax applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ rate</code> <br />The tax rate applied</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ amount</code> <br />The amount of tax calculated</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ priceItems</code> <br />Collection of items provided for a dynamic priced subscription</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ thirdPartyRef</code> <br />An external referenced provided</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ supplierId</code> <br />An internal supplierId if applicable</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ price</code> <br />The price to charge</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ description</code> <br />The description related to the charge</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ isGrossAmount</code> <br />An indication whether the price should be charged as gross or net</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ taxCategoryName</code> <br />The category of tax that was applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ groupSubscriptionInfo</code> <br />Information related to a group subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ licenseLevel</code> <br />The number of standard licenses the subscription has</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ overflowLevel</code> <br />The number of overflow licenses the subscription has</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ subscriberList</code> <br />Collection of all associated subscribers</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ subscriptionId</code> <br />The unique identifier to the subscription for the account</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ emailAddress</code> <br />The email address of the subscribed account</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ clientUserId</code> <br />The clientUserId of the subscribed account</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ overFlowCount</code> <br />The number of overflow licenses used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ fullSubscriptionsCount</code> <br />The number of standard licenses used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ currentUserInOverFlow</code> <br />Indication whether the account is deemed overflow</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ voucherCodes</code> <br />Voucher information associated to the subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCodes \ voucherCode</code> <br />The current voucher code against the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ voucherCodes</code> &gt; discountPrice <br />The price charged to the customer as a result of the voucher</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ statusInfo</code> <br />Information relating to subscription status</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">statusInfo \ statusId</code> <br />The status identifier for the subscription</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">statusInfo \ statusDescription</code> <br />Description of the subscriptions status</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ customParameters</code> <br />Custom parameters of the accounts subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ ParameterName</code><br />Custom parameters of the accounts subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions \ defaultSubscriptionInfo</code> <br />Collection of information relating to the overall subscription service</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ customParameters</code> <br />The associated subscription service parameters</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionId</code> <br />Subscription Service Identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionStatus</code> <br />The status of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionTitle</code> <br />The title of the subscription service purchase</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionGroup</code> <br />The group the subscription service belongs</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="add-account-to-subscription">Add Account to Subscription</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span>/members <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"clientUserId":"my-example@mppglobal.com","emailAddress":"GTFGTV456TF5G"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"clientUserId\":\"my-example@mppglobal.com\",\"emailAddress\":\"GTFGTV456TF5G\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"clientUserId\":\"my-example@mppglobal.com\",\"emailAddress\":\"GTFGTV456TF5G\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">my-example@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">emailAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GTFGTV456TF5G</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">my-example@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">emailAddress</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GTFGTV456TF5G</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns and empty response upon success</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Execution of this API will result in the account being assigned a license to consume the subscription that was purchased as part of the account group.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />Email of the account that should be added to the account group.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserID</code> <br />ClientUserID of the account that should be added to the account group.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">useOverFlowLicense</code> <br />An indication as to whether to use an overflow license if all standard licenses have been allocated.</td>
<td><span class="bool">boolean</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code>  <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code>  <br />An indication as to whether the addition does not incurr tax</td>
<td><span class="bool">boolean</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code>  <br />Specification as to which country to tax if different to the default.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code>  <br />Specification of which state tax rate to apply (US only)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code>  <br />Specification of which county tax rate to apply (US only</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code>  <br />Specification of which city tax rate to apply (US only</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="delete-accounts-from-group-subscription">Delete Accounts from Group Subscription</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span>/members/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint will remove the account from the associated group subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/groups/{accountGroupToken}/subscriptions/{subscriptionId}/members/{accountId}</span>
</div>

<h2 id="modify-subscription-license-levels">Modify Subscription License Levels</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/groups/<span class="o">{</span>accountGroupToken<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span>/licenses <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"standard":10,"overflow":2}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}/subscriptions/{subscriptionId}/licenses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"standard\":10,\"overflow\":2}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}/subscriptions/{subscriptionId}/licenses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"standard\":10,\"overflow\":2}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}/subscriptions/{subscriptionId}/licenses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">standard</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">overflow</span><span class="se">\"</span><span class="s2">:2}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">standard</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">overflow</span><span class="se">\"</span><span class="s">:2}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/groups/{accountGroupToken}/subscriptions/{subscriptionId}/licenses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns an response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint on the API will update the number of licenses assigned to the subscription. This will set the number of licenses rather than adding on the provided number.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/groups/{accountGroupToken}/subscriptions/{subscriptionId}/licenses</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">standard</code> <br />The new number of licenses that should be assigned to the subscription.</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">overflow</code> <br />The new number of overflow licenses that should be assigned to the subscription.</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

          <h1 id="account-authentication">Account Authentication</h1>

<h2 id="authenticate-via-email-and-password">Authenticate via email and password</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"email":"john.smith@mppglobal.com","password":"pWzjWktsWN8M"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pWzjWktsWN8M</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pWzjWktsWN8M</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/authenticate/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">19874854</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14BB19DD3A5509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E79D7A1FC0314BB19DD3A5509B77584C"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When eSuite is being used as a primary identity platform, authentication is handled via the use of a registered email address and password. These values are provided as part of the registration request and then used on the <code class="prettyprint">POST</code> of this request to gain a session.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/authenticate/</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />The registered address of the account being logged in</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The password provided as part of registration</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="authenticate-via-clientuserid">Authenticate via ClientUserId</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/<span class="o">{</span>clientUserId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/{clientUserId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/{clientUserId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/{clientUserId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/authenticate/{clientUserId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">19874854</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14BB19DD3A5509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E79D7A1FC0314BB19DD3A5509B77584C"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Authentication via a ClientUserId is required when eSuite is not the primary identity platform. The ClientUserId will have been set during the registration of the account and will be a unique, non-revocable value.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/authenticate/{clientUserId}</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />Unique, irrevocable link that was added to the account at the point of registration.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<aside class="info">
Due to the sensitive nature of a ClientUserId it is not possible to call this endpoint using a client-side language.
</aside>

          <h1 id="external-identity-providers">External Identity Providers</h1>

<h2 id="retrieve-available-providers">Retrieve Available Providers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/external-providers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/external-providers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"availableProviders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Twitter"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">        
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint provides a list of all available external providers that are available to the account on your instance of eSuite. The response also details whether the account has been linked to the external provider also.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/external-providers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">availableProviders</code> <br /></td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">availableProviders \ providerName</code> <br />The name of the external provider</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">availableProviders \ accountLinked</code> <br />An indication as to whether the account has been linked to this provider</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

<h2 id="create-account-via-sso">Create Account via SSO</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/external-providers"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If during the authentication process with Facebook, eSuite deems the Facebook account is not currently registered in eSuite the account is required to be created within eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/external-providers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code> <br />The identifier used when eSuite is primary IDAM.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes*</span></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code> <br />The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes*</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />The value provided by the account to pair with the email.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code> <br />Available values: Mr, Mrs, Miss and Ms.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code> <br />The first name associated to the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code> <br />The last name associated to the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code> <br />The home phone number of the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code> <br />The mobile number of the account (minus country code).</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code> <br />The birthday of the account.</td>
<td>dateTime</td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">gender</code> <br />Available values: Male, Female and Unspecified.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code> <br />A collection of addresses bound to the account.</td>
<td><span class="array">array</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ addressType</code> <br />Available values: Home and Billing.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseName</code> <br />The name associated to the address.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ houseNumber</code> <br />The building number associated to the address.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ street</code> <br />The street associated to the address.</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ townCity</code> <br />The town or city associated to the address</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ district</code> <br />The district associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ state</code> <br />The state associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ county</code> <br />The county associated to the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">address \ postCode</code> <br />The post code associated to the address</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">address \ country</code> <br />The country the account resides</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />A collection of custom attributes stored against the account</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">sessionToken</code> <br /> A session token linked to the account created</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="authenticate-via-facebook">Authenticate via Facebook</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"facebookRedirectURI":"https://uat.mppglobal.com","authorisationCode":"123FRDV56G",
  "accessToken":"EAARUdAzQ9UABAOPiYCyZB","applicationIdentifier":"fc7cc423-dd26-4d38-bd18-52e5dae8a45b"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\"
</span><span class="p">,</span><span class="err">\</span><span class="s">"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">facebookRedirectURI</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">authorisationCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123FRDV56G</span><span class="se">\"</span><span class="s2">
,</span><span class="se">\"</span><span class="s2">accessToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">applicationIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">facebookRedirectURI</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">authorisationCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123FRDV56G</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accessToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">applicationIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"api/accounts/authenticate/external-providers/facebook"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/authenticate/external-providers/facebook"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoAccountMatch"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6640ffaf3z954fdf8ba4342b51265e05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"providerProfileDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"developers@eSuite.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>An account is able to authenticate using their Facebook account and then retrieve information that will allow eSuite to create an account off those details stored with Facebook.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/external-providers/facebook</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">facebookRedirectURI</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />Code provided by Facebook</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />Code provided by Facebook</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="link-to-facebook">Link to Facebook</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/{accountId}/link/external-providers/facebook"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\"
  ,\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NewLink"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to link an existing eSuite account to their Facebook profile.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/link/external-providers/facebook</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">facebookRedirectURI</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />Code provided by Facebook</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />Code provided by Facebook</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
</tbody></table>

<h2 id="authenticate-via-yahoo-japan">Authenticate via Yahoo Japan</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/external-providers/yahoo-jp <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"yahooJapanRedirectURL":"https://uat.mppglobal.com","authorisationCode":"123FRDV56G","accessToken":"EAARUdAzQ9UABAOPiYCyZB","applicationIdentifier":"fc7cc423-dd26-4d38-bd18-52e5dae8a45b"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/yahoo-japan"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"yahooJapanRedirectURL\":\"https://uat.mppglobal.com\"
</span><span class="p">,</span><span class="err">\</span><span class="s">"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/yahoo-jp"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"yahooJapanRedirectURL\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/yahoo-jp"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">yahooJapanRedirectURL</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">authorisationCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123FRDV56G</span><span class="se">\"</span><span class="s2">
,</span><span class="se">\"</span><span class="s2">accessToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">applicationIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">yahooJapanRedirectURL</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">authorisationCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123FRDV56G</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accessToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">applicationIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"api/accounts/authenticate/external-providers/yahoo-jp"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/authenticate/external-providers/yahoo-jp"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"yahooJapanRedirectURL\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoAccountMatch"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6640ffaf3z954fdf8ba4342b51265e05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"providerProfileDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"developers@eSuite.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>An account is able to authenticate using their Yahoo Japan account and then retrieve information that will allow eSuite to create an account off those details stored with Yahoo Japan.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/external-providers/yahoo-jp</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">yahooJapanRedirectURL</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />If authorization is obtained by the user, it redirects the user to the previously registered return URL, and passes the authorization code and the specified state to the client</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />The Token endpoint authenticates the client and returns an access token</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
</tbody></table>

<h2 id="link-to-yahoo-japan">Link to Yahoo Japan</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/link/external-providers/facebook"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"yahooJapanRedirectURL\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NewLink"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to link an existing eSuite account to their Yahoo Japan profile.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/link/external-providers/yahoo-jp</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">yahooJapanRedirectURL</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />Code provided by Yahoo Japan</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />Code provided by Yahoo Japan</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="authenticate-via-google">Authenticate via Google</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/external-providers/google <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"googleRedirectURI":"https://uat.mppglobal.com","authorisationCode":"123FRDV56G",
  "accessToken":"EAARUdAzQ9UABAOPiYCyZB","applicationIdentifier":"fc7cc423-dd26-4d38-bd18-52e5dae8a45b"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/google"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"googleRedirectURI\":\"https://uat.mppglobal.com\"
</span><span class="p">,</span><span class="err">\</span><span class="s">"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/google"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"googleRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/google"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">googleRedirectURI</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">authorisationCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123FRDV56G</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accessToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">applicationIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">googleRedirectURI</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">authorisationCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123FRDV56G</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accessToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">applicationIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"api/accounts/authenticate/external-providers/google"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/authenticate/external-providers/google"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"googleRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\"
  ,\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoAccountMatch"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6640ffaf3z954fdf8ba4342b51265e05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"providerProfileDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"developers@eSuite.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>An account is able to authenticate using their Google account and then retrieve information that will allow eSuite to create an account off those details stored with Google.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/external-providers/google</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">googleRedirectURI</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />Code provided by Google</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />Code provided by Google</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
</tbody></table>

<h2 id="link-to-google">Link to Google</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/{accountId}/link/external-providers/google"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"googleRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\"
  ,\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NewLink"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to link an existing eSuite account to their Google profile.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/link/external-providers/google</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">googleRedirectURI</code> <br />The location which should be called for validation of the code and token provided</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code> <br />Code provided by Google</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code> <br />Code provided by Google</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code> <br />The identifier for the eSuite application that the account is using</td>
<td><span class="string">string</span></td>
<td><span class="required">Yes/No</span></td>
</tr>
</tbody></table>

          <h1 id="address-book">Address Book</h1>

<h2 id="create-address">Create Address</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"houseName":"Orange House","houseNumber":"119","street":"Colourful Street","townCity":"East Village","district":null,"state":null,"county":"Merseyside","postCode":"CH11 1GV","country":"United Kingdom","isDefault":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Orange House</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">119</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Colourful Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">East Village</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">state</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Merseyside</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CH11 1GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isDefault</span><span class="se">\"</span><span class="s2">:true}"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Orange House</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">119</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Colourful Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">East Village</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">state</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Merseyside</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CH11 1GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">isDefault</span><span class="se">\"</span><span class="s">:true}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The resource created is returned in the <em>Location</em> header of the response</p>
</blockquote>

<p>This endpoint allows the creation of a new address within the eSuite platform for a specific account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/addresses</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">houseName</code> <br />The name associated to the building</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">houseNumber</code> <br />The building number associated to the address</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">street</code> <br />The street the address is located</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">townCity</code> <br />The town or city the address is associated</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">district</code> <br />The district associated with the address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">state</code> <br />The state that the address is located</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">county</code> <br />The county the address is associated</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">postCode</code> <br />The postcode of the address that has been added</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">country</code> <br />The country the address is specific to</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code> <br />An indication as to whether the address is the default address for the account</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
</tbody></table>

<p>*Either <code class="prettyprint">houseName</code> or <code class="prettyprint">houseNumber</code> is required but both are not Required.</p>

<h2 id="retrieve-address-book">Retrieve Address Book</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionId"</span> <span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"addressBook"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010D04D2E807PQ953"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Orange House"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Colourful Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"East Village"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merseyside"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CH11 1GV"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows the retrieval of all addresses that are stored against a specific account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/addresses</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">addressBook</code> <br />The list of addresses</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">addressIdentifier</code><br />The address identifier that should be used to identify which address is required in future API requests</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">houseName</code><br />The name associated to the building</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">houseNumber</code> <br />The building number associated to the address</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">street</code> <br />The street the address is located</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">townCity</code> <br />The town or city the address is associated</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">district</code> <br />The district associated with the address</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">state</code> <br />The state that the address is located</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">county</code> <br />The county the address is associated</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">postCode</code> <br />The postcode of the address that has been added</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">country</code> <br />The country the address is specific to</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code> <br />An indication as to whether the address is the default address for the account</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

          <h1 id="payment-details">Payment Details</h1>

<h2 id="add-a-credit-debit-card">Add a Credit/Debit Card</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-details/card <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"cardNumber":"4111111111111111","cardType":"visa","expiryDate":"11/17","cvv":"123","setDefault":true,"skipPreAuth":false}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/card"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"visa\",\"expiryDate\":\"11/17\",\"cvv\":\"123\",\"setDefault\":true,\"skipPreAuth\":false}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/card"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"visa\",\"expiryDate\":\"11/17\",\"cvv\":\"123\",\"setDefault\":true,\"skipPreAuth\":false}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/card"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cardNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4111111111111111</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cardType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">visa</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">expiryDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">11/17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cvv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">setDefault</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">skipPreAuth</span><span class="se">\"</span><span class="s2">:false}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cardNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4111111111111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">cardType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">visa</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">expiryDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">11/17</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">cvv</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">setDefault</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">skipPreAuth</span><span class="se">\"</span><span class="s">:false}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-details/card"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/card"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"4034510a90854b1a887beec9c5675ff5"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"visa\",\"expiryDate\":\"11/17\",\"cvv\":\"123\",\"setDefault\":true,\"skipPreAuth\":false}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to make a purchase using a credit or debit card, a card must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/card</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cardNumber</code> <br />The 13-19 digit number on the face of a credit or debit card.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">cardType</code> <br />The type of card the account is adding, Visa, Mastercard, Amex, Diners, Discover.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">expiryDate</code> <br />The date at which the card will expire, mm-yy.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">issueCode</code> <br />The number of cards the acquirer has issues for the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">securityCode</code> <br />3-4 digit code on the rear of a card.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">billingHouseName</code> <br />The building name in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingHouseFlatNumber</code> <br />The building number at which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingStreet</code> <br />The street in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingDistrict</code> <br />The district in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingTownCity</code> <br />The town or city in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingPostcode</code> <br />The post code in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">billingCountry</code> <br />The country in which the card is registered.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">setDefault</code> <br />An indication as to whether this card will be the customers default card.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">associatedName</code> <br />A friendly name to identify the payment card to the account.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">skipPreAuth</code> <br />An indication as to whether the card should be authorised as part of the addition process.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="error">
Remember — you must authorise a card before it can be used
</aside>

<h2 id="add-a-bacs-direct-debit-wallet">Add a BACS Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-details/bacs <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steven Smith","accountNumber":"11111111","sortCode":"000000"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/bacs"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-tokenid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"John Smith\",  "</span><span class="err">\</span><span class="s">"accountNumber\":\"11111111\",\"sortCode\":\"000000\"}"</span><span class="p">,</span> 
  <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/bacs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-tokenid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"Steven Smith\",\"accountNumber\":\"11111111\",\"sortCode\":\"000000\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/bacs"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">11111111</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">11111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">sortCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">000000</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-details/bacs"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/bacs"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"4034510a90854b1a887beec9c5675ff5"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"accountHolderName\":\"John Smith\",\"accountNumber\":\"11111111\",\"sortCode\":\"000000\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using BACS Direct Debit, a BACS wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/bacs</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountHolderName</code> <br />The name associated to the bank account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code> <br />The UK bank account number.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">sortCode</code> <br />The bank sort code associated to the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">bacsReference</code> <br />The existing mandate reference if the account is coming from another system.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">serviceId</code> <br />The eSuite ServiceId that this BACS wallet will be used for.</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="add-a-sepa-direct-debit-wallet">Add a SEPA Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steve Smith","iban":"IE64BOFI90583812345678",
  "bic":"BOFIIE2D"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"Steve Smith\", "</span><span class="err">\</span><span class="s">"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/sepa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"John Smith\",\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/sepa"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">iban</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">bic</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BOFIIE2D</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">iban</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">bic</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BOFIIE2D</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-details/sepa"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/sepa"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"4034510a90854b1a887beec9c5675ff5"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"accountHolderName\":\"John Smith\",\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using SEPA Direct Debit, a SEPA wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-details/sepa</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountHolderName</code> <br />The name associated to the bank account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">iban</code> <br />The bank account number.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">bic</code> <br />The bank identification code associated to the account.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">serviceId</code> <br />The eSuite ServiceId that this BACS wallet will be used for.</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-payment-details">Get payment details</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-details <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientid"</span>, <span class="s2">"1001"</span><span class="o">)</span> <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientpassword"</span>, <span class="s2">"Str0ngP@ssword"</span><span class="o">)</span><span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-details"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-details"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"associatedName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Bloggs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseFlatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingStreet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wigan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingDistrict"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingTownCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolton"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCounty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingPostcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kindom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"****-****-****-1111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"issueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"payPal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135785"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves the payment details stored against an eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-details</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentDetails</code> <br />The collection of payment details available for the account.</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> <br />The collection of payment cards available for the account.</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ associatedName</code> <br />Associated name to identify the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingHouseName</code> <br />The name of the house the card is associated to.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingHouseFlatNumber</code> <br />The number of the house the card is associated to.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingStreet</code> <br />The street associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingDistrict</code> <br />The district associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingTownCity</code><br />The town or city associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingCounty</code> <br />The county associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingPostcode</code> <br />The postcode associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ billingCountry</code> <br />The country associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ cardNumber</code> <br />A masked representation of the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ cardType</code> <br />The card brand associated to the card.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ expiryDate</code> <br />The date at which the card is due to expire.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ isDefault</code> <br />An indication as to whether this card is the default for the account.</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ issueCode</code> <br />Issue number typically found on debit and bank cards.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cards \ paymentDetailId</code> <br />The identifier of the card within eSuite.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payPal</code> <br />PayPal object detailing information about the customers PayPal account.</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentDetailId</code> <br />The identifier of the PayPal wallet within eSuite.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<aside class="warning">Only credit/debit cards and repeatable PayPal tokens are returned via this endpoint.</aside>

          <h1 id="purchases">Purchases</h1>

<h2 id="standard-subscription-purchase">Standard Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"pricing":{"priceId":18763,"paymentMethod":"CreditCard"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"pricing\":{\"priceId\":18763,\"paymentMethod\":\"CreditCard\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"pricing\":{\"priceId\":18763,\"paymentMethod\":\"CreditCard\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18763,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18763,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DirectDebit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the subscription service provided. A standard payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />eSuite generated voucher code that has been provided during the flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">renewalDay</code> <br />The date of the month the subscription should be renewed on, specifically for monthly or annual subscriptions</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">renewalDayOffset</code> <br />The number of days before or after the renewal date. This can be positive or negative</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the subscription should be purchased and started</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> <br />A collection of custom attributes associated to the subscription</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> <br />Account Group information</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ groupToken</code> <br />The associated group account identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ subscriberAccounts</code> <br />A collection of accounts that should be assigned to the subscription</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ clientUserId</code> <br />The clientUserId of the account that should be assigned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ emailAddress</code> <br />The email address of the account that should be assigned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts \ taxInfo</code> <br />Collection of tax information for each account</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="standard-credits-purchase">Standard Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/service-credits <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"paymentMethod":"CreditDebitCard","currency":"GBP","paidCredits":10.12,"freeCredits":10.99}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">equest</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"paymentMethod\":\"CreditDebitCard\",\"currency\":\"GBP\",\"paidCredits\":10.12,\"freeCredits\":10.99}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"paymentMethod\":\"CreditDebitCard\",\"currency\":\"GBP\",\"paidCredits\":10.12,\"freeCredits\":10.99}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditDebitCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paidCredits</span><span class="se">\"</span><span class="s2">:10.12,</span><span class="se">\"</span><span class="s2">freeCredits</span><span class="se">\"</span><span class="s2">:10.99}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditDebitCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paidCredits</span><span class="se">\"</span><span class="s">:10.12,</span><span class="se">\"</span><span class="s">freeCredits</span><span class="se">\"</span><span class="s">:10.99}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"redirectL:ink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=12345"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the service credits. A standard payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/service-credits</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The payment method the account has selected to pay with if it differs from the initial configuration. The supported payment method for this endpoint is <code class="prettyprint">CreditCard</code> only.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />A voucher code provided by the account during the workflow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paidCredits</code> <br />The amount of credits the account is purchasing</td>
<td><span style="font-weight:bold;">number</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">freeCredits</code> <br />The amount of credits the account will receive without charge</td>
<td><span style="font-weight:bold;">number</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> <br />Parameter set provided if you would like to trigger an advanced payment type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="alternative-subscription-purchase">Alternative Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscription <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"asynchronousProcessingParameters":{"paymentToken":"ASWDE345YGT"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ASWDE345YGT</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ASWDE345YGT</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscription"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DirectDebit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative subscription options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="alternative-credits-purchase">Alternative Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/service-credits <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"asynchronousProcessingParameters":{"paymentToken":"ASWDE345YGT"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ASWDE345YGT</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ASWDE345YGT</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative credits purchase, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Parameter set provided if you would like to complete an advanced payment type</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters \ parameterName</code> <br />Parameter name specific to the alternative payment method provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="validate-a-voucher-code">Validate a voucher code</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/vouchers/<span class="o">{</span>voucherCode<span class="o">}</span>/validate <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'x-sessionId: a0c595bd26004ff4bb7d4cb1b1c81a6d'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/vouchers/{voucherCode}/validate"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionId"</span><span class="p">,</span> <span class="s">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/vouchers/{voucherCode}/validate"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionId"</span><span class="o">,</span> <span class="s">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/vouchers/{voucherCode}/validate"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'a0c595bd26004ff4bb7d4cb1b1c81a6d'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">'Str0ngP@ssword'</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span> <span class="p">:</span> <span class="s">'a0c595bd26004ff4bb7d4cb1b1c81a6d'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/vouchers/{voucherCode}/validate"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured as below. Please note the API will only return the offer type object applicable to the voucher provided.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"purchasePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nextPaymentsDates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"2017-09-09T00:21:42.810Z"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"voucherInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-09T00:21:42.810Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-09T00:21:42.810Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offerInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"applicationData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"addCredits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"lowStart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"percentageDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"freePeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"groupDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"activationCodeActivated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metaData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"qualifyingItemCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"freeItemCountOrDiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"configurationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"fixedPriceDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discountAmounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"productSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"miscellaneousChargeSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will allow the validation of a voucher against a specific purchase.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/vouchers/{voucherCode}/validate</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">purchaseInfo</code> <br />Collection of all information relating to the offer</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ purchasePrice</code> <br />The default price that would be paid without a voucher</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ discountPrice</code> <br />The price that will be paid by using a voucher</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ renewalPrice</code> <br />The price that will be paid when the subscription renews (if purchasing a subscription)</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ nextPaymentDates</code> <br />The date at which payment will be taken (only applicable to legacy payment schedules)</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo</code> <br />Information relating the the general detail associated to the offer</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ startDate</code> <br />The date at which the offer becomes active</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ expiryDate</code> <br />The date at which the offer becomes inactive</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ offerInfo</code> <br />The date at which the offer becomes inactive</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">offerInfo \ name</code> <br />The name associated to the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">offerInfo \ description</code> <br />Additional details against the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">offerInfo \ usageType</code> <br />The type of usage applicable for the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">offerInfo \ applicationData</code> <br />Alternative data to display to an end-user</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ name</code> <br />End-user name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message</code> <br />Public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message2</code> <br />Additional public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ addCredits</code> <br />Information relating to an Add Credits offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ amount</code> <br />Amount of credit the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ currency</code> <br />Currency the credit should be added in</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ lowStart</code> <br />Information relating to an Low Start offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ percentage</code> <br />The percentage discount the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ lockInPeriods</code> <br />Number of periods before the account can cancel their subscription</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ percentageDiscount</code> <br />Information relating to an Percentage Discount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ percentage</code> <br />The percentage discount that will be received</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ freePeriod</code> <br />Information relating to an free Period offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ groupDiscount</code> <br />Information relating to a Group Discount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ metaData</code> <br />Metadata of the group discount</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ qualifyingItemCount</code> <br />The number of items that must be purchased to be applicable for the offer</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ freeItemCountOrDiscountAmount</code> <br />The discount amount or the number of free items</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ productIds</code> <br />List of Products that can have the offer redeemed</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ productSource</code> <br />Product source</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ customParameters</code> <br />Dictionary of custom parameters applicable to the discount</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherInfo \ fixedPriceDiscount</code> <br />Information relating to a Fixed Price Discount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ discountAmounts</code> <br />Specific currency configuration</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ value</code> <br />Amount to be discounted</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ currency</code> <br />The associated currency</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ subscriptionSettings</code> <br />Settings associated to the service aspect of a fixed price discount</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ enabled</code> <br />Indication as to whether the offer can be used on a subscription purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ numberOfPeriods</code> <br />Number of renewing periods the offer is applicable for</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ lockInPeriods</code> <br />The number of periods an account would be locked in if the offer was redeemed</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ productSettings</code> <br />Product specific settings for the offer</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ enabled</code> <br />Indication as to whether the offer can be used on a product purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ productIds</code> <br />Collection of products that can benefit from the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ miscellaneousChargeSettings</code> <br />Details specific to one-off charge</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">miscellaneousChargeSettings \ enabled</code> <br />Indication as to whether the offer can be used on a one-off charge</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

          <h1 id="subscription-management">Subscription Management</h1>

<h2 id="retrieve-all-subscriptions">Retrieve all Subscriptions</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"accountSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstNonDiscountedBillingPointUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastDiscountedBillingPointUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurringPaymentInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">317337</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SRA891LP0HW231"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"configuredSubscriptionPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">18665</span><span class="p">,</span><span class="w">
          </span><span class="s2">"subscribedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"recurringPaymentEnable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"subscriptionLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"previousBillingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">18665</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalNetAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="s2">"billingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-23T14:19:15.27"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T14:19:10.817"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"regionName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"groupSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"licenseLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"overflowLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"overFlowCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fullSubscriptionsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currentUserInOverFlow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"accountGroupToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40271c08-0f7cf1b37d28"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"voucherCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"discountPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"statusInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"statusId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"statusDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"defaultSubscriptionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15991</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account Group Sub"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"licenseLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return the history of all subscriptions an account has or has previously had.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptions</code> <br />Collection of all subscription an account has purchased</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions \ accountSubscriptionInfo</code> <br />Collection of subscriptions</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ expiryDate</code> <br />The date at which the subscription expired or will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ firstNonDiscountedBillingPointUtc</code> <br />The first date the account paid full price for the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ lastDiscountedBillingPointUtc</code> <br />The last date the account received a discount</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ paymentMethod</code> <br />Payment method used for the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountSubscriptionInfo \ recurringPaymentInfo</code> <br />Specific information around the subscription recurrence</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscriptionReference</code> <br />Subscription Identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ configuredSubscriptionPrice</code> <br />Default Price of the subscription service</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscribedPrice</code> <br />Price of subscription at the point of subscribing</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ currency</code> <br />The currency the subscription is related</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ recurringPaymentEnable</code> <br />An indication whether the subscription will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ subscriptionLockedIn</code> <br />An indication whether the subscription can be cancelled</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ nextPaymentDate</code> <br />Date at which the next payment will be taken</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ previousBillingInfo</code> <br />Information relating to the previous payment made</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ subscriptionPriceId</code> <br />Previous price identifier used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalAmount</code> <br />Total amount paid by the account</td>
<td><span style="color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalTaxAmount</code> <br />Total tax amount paid by the account</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ totalNetAmount</code> <br />Total net amount paid by the account</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ billingDate</code> <br />The date the account was last billed</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ paymentDate</code> <br />The date the account was debited</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ taxInfo</code> <br />Collection of tax rates applied</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ regionName</code> <br />Name of the tax region</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ regionType</code> <br />The type of region the tax related</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ displayName</code> <br />Friendly name of the tax applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />The category of tax applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ rate</code> <br />The tax rate applied</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ amount</code> <br />The amount of tax calculated</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">previousBillingInfo \ priceItems</code> <br />Collection of items provided for a dynamic priced subscription</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ thirdPartyRef</code> <br />An external referenced provided</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ supplierId</code> <br />An internal supplierId if applicable</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ price</code> <br />The price to charge</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ description</code> <br />The description related to the charge</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ isGrossAmount</code> <br />An indication whether the price should be charged as gross or net</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceItems \ taxCategoryName</code> <br />The category of tax that was applied</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ groupSubscriptionInfo</code> <br />Information related to a group subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ licenseLevel</code> <br />The number of standard licenses the subscription has</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ overflowLevel</code> <br />The number of overflow licenses the subscription has</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ subscriberList</code> <br />Collection of all associated subscribers</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ subscriptionId</code> <br />The unique identifier to the subscription for the account</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ emailAddress</code> <br />The email address of the subscribed account</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriberList \ clientUserId</code> <br />The clientUserId of the subscribed account</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ overFlowCount</code> <br />The number of overflow licenses used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ fullSubscriptionsCount</code> <br />The number of standard licenses used</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo \ currentUserInOverFlow</code> <br />Indication whether the account is deemed overflow</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ voucherCodes</code> <br />Voucher information associated to the subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCodes \ voucherCode</code> <br />The current voucher code against the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ voucherCodes</code> &gt; discountPrice <br />The price charged to the customer as a result of the voucher</td>
<td><span style="color:#666;font-weight: bold;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ statusInfo</code> <br />Information relating to subscription status</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">statusInfo \ statusId</code> <br />The status identifier for the subscription</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">statusInfo \ statusDescription</code> <br />Description of the subscriptions status</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">recurringPaymentInfo \ customParameters</code> <br />Custom parameters of the accounts subscription</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ ParameterName</code><br />Custom parameters of the accounts subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptions \ defaultSubscriptionInfo</code> <br />Collection of information relating to the overall subscription service</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ customParameters</code> <br />The associated subscription service parameters</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionId</code> <br />Subscription Service Identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionStatus</code> <br />The status of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionTitle</code> <br />The title of the subscription service purchase</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">defaultSubscriptionInfo \ subscriptionGroup</code> <br />The group the subscription service belongs</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="cancel-a-subscription">Cancel a Subscription</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"status":"cancel"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"status\":\"replace\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"status\":\"cancel\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">status</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">cancel</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">status</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">cancel</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"status\":\"cancel\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint will allow you to hard cancel a subscription. The successful execution of this call will remove all associated entitlements. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}</span>
</div>

<h3 id="patch-parameters">Patch Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">status</code> <br />Passing <code class="prettyprint">cancel</code> will cancel the subscription and remove entitlements</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="manage-subscription-renewals">Manage Subscription renewals</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span>/status <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"renewals":"enable"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/status"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"renewals\":\"enable\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/status"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"renewals\":\"enable\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/status"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">renewals</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">enable</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">renewals</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">enable</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionId}/status"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/status"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"renewals\":\"enable\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204</p>
</blockquote>

<p>Calling this endpoint will allow you to enable or disable the renewal process for a specific subscription. The available values to be set are <code class="prettyprint">enable</code> and <code class="prettyprint">disable</code></p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/status</span>
</div>

<h3 id="patch-parameters">Patch Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">renewals</code> <br />Passing <code class="prettyprint">enable</code> to activate renewals, and <code class="prettyprint">disable</code> to deactivate.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="add-a-voucher-code">Add a Voucher Code</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionId<span class="o">}</span>/vouchers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"voucherCode":"ABC45FDR"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/vouchers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"voucherCode\":\"ABC45FDR\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/vouchers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"voucherCode\":\"ABC45FDR\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/vouchers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">voucherCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ABC45FDR</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">voucherCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ABC45FDR</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionId}/vouchers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionId}/vouchers"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"voucherCode\":\"ABC45FDR\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>Calling this endpoint will allow you to add a voucher code to an existing subscription that will be applied at the next renewal.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionid}/vouchers</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />Preconfigured eSuite voucher code</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="create-a-holiday">Create a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"startDate":"2017-07-04T00:00:00","endDate":"2017-07-14T23:59:59"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 200 with JSON similar to the below.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to create a holiday period for a specific subscription. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the holiday period should begin.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code> <br />The date at which the subscription should become active.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-a-holiday">Retrieve a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionHolidayReference</code> <br />Reference to the holiday.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionReference</code> <br />Reference to the subscription.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the holiday period should begin.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code> <br />The date at which the subscription should become active.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="update-a-holiday">Update a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/StartDate/","value":"2017-08-04 00:00:00Z"},{"op":"replace","path":"/EndDate/","value":"2017-09-04 00:00:00Z"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="n">patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/StartDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/EndDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/StartDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/EndDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In the event you need to update a subscription holiday, this end point should be called to edit those which have not started.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="delete-a-holiday">Delete a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon completion.</p>
</blockquote>

<p>If an account would like to cancel their subscription holiday, this endpoint should be called.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</span>
</div>

<h2 id="retrieve-all-subscription-holidays">Retrieve all subscription holidays</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>The collection of subscription holidays.</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionHolidayReference</code> <br />Reference to the holiday.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionReference</code> <br />Reference to the subscription.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the holiday period should begin.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code> <br />The date at which the subscription should become active.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

          <h1 id="payment-management">Payment Management</h1>

<h2 id="make-a-payment">Make a Payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/orders <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"pricing":{"paymentMethod":"CreditCard","currency":"GBP"},"orderItems":[{"priceBreakDown":{"grossAmount":10,"netAmount":9,"taxAmount":1},"description":"An example description"}]}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/orders"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"pricing\":{\"paymentMethod\":\"CreditCard\",\"currency\":\"GBP\"},\"orderItems\":[{\"priceBreakDown\":{\"grossAmount\":10,\"netAmount\":9,\"taxAmount\":1},\"description\":\"An example description\"}]}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/orders"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"pricing\":{\"paymentMethod\":\"CreditCard\",\"currency\":\"GBP\"},\"orderItems\":[{\"priceBreakDown\":{\"grossAmount\":10,\"netAmount\":9,\"taxAmount\":1},\"description\":\"An example description\"}]}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/orders"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">orderItems</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">priceBreakDown</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">netAmount</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">taxAmount</span><span class="se">\"</span><span class="s2">:1},</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">An example description</span><span class="se">\"</span><span class="s2">}]}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">},</span><span class="se">\"</span><span class="s">orderItems</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">priceBreakDown</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">netAmount</span><span class="se">\"</span><span class="s">:9,</span><span class="se">\"</span><span class="s">taxAmount</span><span class="se">\"</span><span class="s">:1},</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">An example description</span><span class="se">\"</span><span class="s">}]}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/orders"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M16125900"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16125900</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This end point is present for server-side integrations to take a payment against an account for a set of ad-hoc items.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/orders</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">settlementType</code> <br />An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> <br />Pricing Information object</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ paymentMethod</code> <br />The payment method the account would like to pay using. The available payment methods for this endpoint are: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">PayPal</code>, <code class="prettyprint">ServiceCredits</code>, <code class="prettyprint">Alipay</code> and <code class="prettyprint">Offline</code>.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />The currency the payment should be taken in</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />eSuite generated voucher code that has been provided during the flow</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code> <br />If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> <br />A collection of items that the account is attempting to purchase</td>
<td><span class="array">array[object]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ description</code> <br />The description associated to the item</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ orderReference</code> <br />An external reference that can be associated to each item</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ comment</code> <br />Additional metadata that may have been provided</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ priceBreakdown</code> <br />The details relating to the amount the account should pay for the item</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ grossAmount</code> <br />The gross amount for the item</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ netAmount</code> <br />The total amount minue the associated tax amount</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ taxAmount</code> <br />The amount of tax that must be paid on the item</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ customOrderParameters</code> <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters \ parameterName</code> <br />The custom attribute name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ entitlements</code> <br />A collection of additional entitlements to provide the account on purchase</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ identifier</code> <br />Identifier for the entitlement being purchased</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ startDate</code> <br />The date on which the entitlement should be valid from</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlements \ expiryDate</code> <br />The date at which the account is no longer entitled to the content</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">orderItems \ taxInfo</code> <br />Collection of tax information</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ category</code> <br />Indication as to which tax category to apply</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ zeroRated</code> <br />Indication as to whether the purchase is tax exempt</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ country</code> <br />Country specific tax rate to use</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ state</code> <br />State specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ county</code> <br />County specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo \ city</code> <br />City specific tax rate to use (US Specific)</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> <br />Asynchronous Processing Parameters</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retrieve-payments">Retrieve Payments</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://uat.mppglobal.com/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/orders?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"basketId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M154875"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15487</span><span class="p">,</span><span class="w">
          </span><span class="s2">"orderStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Complete"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"orderDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-09T12:17:30.149Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceBreakDown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxBreakDown"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard UK"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regionName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"colour"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all orders for a given account.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/orders</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">createDateFrom</code> <br />The earliest date a payment was taken that can be included in the response</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">createDateTo</code> <br />The latest date a payment was taken that can be included in the response</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code> <br />An indication as to how many records to return</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">currentPage</code> <br />The page that should be returned</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalNumberOfRecords</code> <br />Total number of records available</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />The page of results being displayed</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">resultsPerPage</code> <br />The total number of records displayed in the response</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items</code> <br />Collection of orders associated to the account</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ basketId</code> <br />The basket reference that groups the transactions together</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ subscriptionId</code>  <br />The identifier of the subscription, if the transaction is associated</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ currency</code>  <br />The ISO code for the currency used to make the purchase</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ orders</code>  <br />The collection of attributes associated to each transaction</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ orderId</code>  <br />The unique value associated to the order for identification</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ orderStatus</code>  <br />The status the order is currently in</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ orderDate</code>  <br />The date at which the order was placed</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ description</code>  <br />A summary of what the order was placed for</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ paymentMethod</code>  <br />The method of payment that has been used to process the order</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">orders \ priceBreakdown</code>  <br />Object relating to the amounts charged to the account</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ grossAmount</code>  <br />The total amount paid by the customer for the specific payment</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ netAmount</code>  <br />The gross amount minus the amount of tax paid</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ taxAmount</code>  <br />The amount of tax associated to the payment</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown \ taxBreakdown</code> <br />The detailed breakdown of the tax associated to the transaction</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ displayName</code> <br /> The friendly name of the tax region</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ regionName</code> <br />  The name associated to the tax region</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ regionType</code> <br /> The region type of the tax amount. Available options are <code class="prettyprint">country</code>, <code class="prettyprint">county</code>, <code class="prettyprint">state</code> and <code class="prettyprint">city</code></td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ category</code> <br />  The cateory of tax that the transaction is associated</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ rate</code> <br />  The rate of tax that has been applied to the order</td>
<td><span class="decimal">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">taxBreakdown \ amount</code> <br />  The amount of money that is applicable as tax</td>
<td><span class="decimal">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ customPaymentParameters</code>  <br />A collection of custom attributes associated to the payment</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters \ parameterName</code>  <br />The name of the custom attribute</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="update-a-payment">Update a Payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>//api/payments/<span class="o">{</span>paymentReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/status","value":"pending"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pending</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pending</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204.</p>
</blockquote>

<p>This endpoint allows you to edit parameters of the payment that has been returned in the GET request (including custom parameters).</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/payments/{paymentReferene}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="refund-a-payment">Refund a Payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/payments/<span class="o">{</span>paymentReference<span class="o">}</span>/refund <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data <span class="s1">'{"amount":20,"triggerBackOfficeEmail":true,"reason":"Customer has returned their goods.","reasonCode":"0012B","refundAsServiceCredits":true,"serviceCreditExpiry":"2018-07-05"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"amount\":20,\"triggerBackOfficeEmail\":true,\"reason\":\"Customer has returned their goods.\",\"reasonCode\":\"0012B\",\"refundAsServiceCredits\":true,\"serviceCreditExpiry\":\"2018-07-05\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"amount\":20,\"triggerBackOfficeEmail\":true,\"reason\":\"Customer has returned their goods.\",\"reasonCode\":\"0012B\",\"refundAsServiceCredits\":true,\"serviceCreditExpiry\":\"2018-07-05\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:20,</span><span class="se">\"</span><span class="s2">triggerBackOfficeEmail</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">reason</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Customer has returned their goods.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">reasonCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0012B</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">refundAsServiceCredits</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">serviceCreditExpiry</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2018-07-05</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">:20,</span><span class="se">\"</span><span class="s">triggerBackOfficeEmail</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">reason</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Customer has returned their goods.</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">reasonCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0012B</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">refundAsServiceCredits</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">serviceCreditExpiry</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2018-07-05</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/payments/{paymentReference}/refund"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span> <span class="nx">from</span> <span class="nx">a</span> <span class="nx">client</span><span class="o">-</span><span class="nx">side</span> <span class="nx">application</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 with a location header of the new payment reference created:</p>
</blockquote>

<p>Calling this endpoint will allow the refund of a previously processed order. This endpoint cannot be called for orders that have been imported and processed via a different provider.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/orders/{orderId}/refund</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">amount</code> <br />The amount of money that should be refunded to the account.</td>
<td><span class="decimal">decimal</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">triggerBackOfficeEmail</code> <br />An indication as to whether a back office system should be notified.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">reason</code> <br />Additional information as to why the refund is being performed</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">reasonCode</code> <br />A code specific to your business for refund types</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">refundAsServiceCredits</code> <br />Define whether you would like the refund to be executed against the originating payment method or as a credit on the account.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">serviceCreditExpiry</code> <br />The date at which the service credits would expire.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="carts">Carts</h1>

<h2 id="create-a-cart">Create a Cart</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/carts"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In order to add items to a cart, the cart must first be created by executing a request to this endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts</span>
</div>

<h2 id="retrieve-a-cart">Retrieve a Cart</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts/<span class="o">{</span>cartReference<span class="o">}</span> <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/carts/{cartReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010IP4Y47M3256M51"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"productInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"customLineItemParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint allows the retrieval of a specific cart that has been created on the eSuite platform.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts/{cartReference}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">lineItemReference</code> <br />Line Item Reference</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">description</code> <br />Description of the line item</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> <br />Collection of information regarding pricing</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ grossAmount</code> <br />The gross amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ netAmount</code> <br />The net amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxAmount</code> <br />The tax amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />Currency of the transaction</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">quantity</code> <br />Number of the line item being purchased</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">productInfo</code> <br />Collection of Product information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">productInfo &gt; productId</code> <br />The pre-configured product identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters</code> <br />Collection of custom line item parameters</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters \ parameterName</code> <br />Name associated to the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="update-a-cart">Update a Cart</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts/<span class="o">{</span>cartReference<span class="o">}</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--data <span class="s1">'[{"op":"add","path":"/accountReference","value":"0010X2Y7GLHZ0Y1JH2"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"add\",\"path\":\"/accountReference\",\"value\":\"0010X2Y7GLHZ0Y1JH2\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"add\",\"path\":\"/accountReference\",\"value\":\"0010X2Y7GLHZ0Y1JH2\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/accountReference</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0010X2Y7GLHZ0Y1JH2</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/accountReference</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0010X2Y7GLHZ0Y1JH2</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/carts/{cartReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"add\",\"path\":\"/accountReference\",\"value\":\"0010X2Y7GLHZ0Y1JH2\"}]"</span> 
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>An existing cart can be edited by calling the following endpoint. An example where this would be required is when associating a cart to a specific eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts/{cartResourceReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="delete-a-cart">Delete a Cart</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts/<span class="o">{</span>cartReference<span class="o">}</span> <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/carts/{cartReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p>In order to remove a cart from the eSuite, this endpoint must be called. If the cart is associated to an previous payment, it is deemed immutable and cannot be removed.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts/{cartResourceReference}</span>
</div>

<h2 id="create-a-line-item">Create a Line-item</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts/<span class="o">{</span>cartReference/line-items <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data <span class="s1">'{"description":"Example line item","pricing":{"grossAmount":10,"netAmount":8,"taxAmount":2,"currency":"GBP"},"quantity":1}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference/line-items"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"description\":\"Example line item\",\"pricing\":{\"grossAmount\":10,\"netAmount\":8,\"taxAmount\":2,\"currency\":\"GBP\"},\"quantity\":1}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartReference/line-items"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"description\":\"Example line item\",\"pricing\":{\"grossAmount\":10,\"netAmount\":8,\"taxAmount\":2,\"currency\":\"GBP\"},\"quantity\":1}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference/line-items"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Example line item</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">netAmount</span><span class="se">\"</span><span class="s2">:8,</span><span class="se">\"</span><span class="s2">taxAmount</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">quantity</span><span class="se">\"</span><span class="s2">:1}"</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Example line item</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">netAmount</span><span class="se">\"</span><span class="s">:8,</span><span class="se">\"</span><span class="s">taxAmount</span><span class="se">\"</span><span class="s">:2,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">},</span><span class="se">\"</span><span class="s">quantity</span><span class="se">\"</span><span class="s">:1}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/carts/{cartReference/line-items"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts/{cartReference/line-items"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"description\":\"Example line item\",\"pricing\":{\"grossAmount\":10,\"netAmount\":8,\"taxAmount\":2,\"currency\":\"GBP\"},\"quantity\":1}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In order to add a new item to a cart, this endpoint should be called. This endpoint will allow the addition of single line items, not bulk.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts/{cartReference}/line-items</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">description</code> <br />Description of the line item</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> <br />Collection of information regarding pricing</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ grossAmount</code> <br />The gross amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ netAmount</code><br />The net amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxAmount</code> <br />The tax amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />Currency of the transaction</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ priceId</code> <br />The pre-configured eSuite price identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">productId</code> <br />The pre-configured eSuite product identifier</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">quantity</code> <br />Number of the line item being purchased</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters</code> <br />Collection of custom line item parameters</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters</code> &gt; parameterName <br />Name associated to the custom parameter</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="delete-a-line-item">Delete a Line-item</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
--url https://uat.mppglobal.com/api/carts/<span class="o">{</span>cartResourceReference<span class="o">}</span>/line-items/<span class="o">{</span>lineItemResourceReference<span class="o">}</span> <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartResourceReference}/line-items/{lineItemResourceReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/carts/{cartResourceReference}/line-items/{lineItemResourceReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/carts/{cartResourceReference}/line-items/{lineItemResourceReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/carts/{cartResourceReference}/line-items/{lineItemResourceReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/carts/{cartResourceReference}/line-items/{lineItemResourceReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p>Calling this endpoint will allow you to remove an item from a cart. It will not be possible to remove an line-item from a cart has is deemed immutable due to being involved in a purchase. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/carts/{cartResourceReference}/line-items/{lineItemReference}</span>
</div>

<h2 id="retrieve-an-accounts-cart">Retrieve an Account&rsquo;s Cart</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
--url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/carts/<span class="o">{</span>cartReference<span class="o">}</span> <span class="se">\</span>
--header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
--header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
--header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
--data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/carts/{cartReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/carts/{cartReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/carts/{cartReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/carts/{cartReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/carts/{cartReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010IP4Y47M3256M51"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"productInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"customLineItemParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will allow for the retrieval of all carts associated to an account. The response will include those associated to a payment instruction and those which are still pending completion.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/carts/{cartIdentifier}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">lineItemReference</code> <br />Line Item Reference</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">description</code> <br />Description of the line item</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> <br />Collection of information regarding pricing</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ grossAmount</code> <br />The gross amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ netAmount</code> <br />The net amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ taxAmount</code> <br />The tax amount of the line item</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />Currency of the transaction</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">quantity</code> <br />Number of the line item being purchased</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">productInfo</code> <br />Collection of Product information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">productInfo &gt; productId</code> <br />The pre-configured product identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters</code> <br />Collection of custom line item parameters</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customLineItemParameters \ parameterName</code> <br />Name associated to the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

          <h1 id="payment-instructions">Payment Instructions</h1>

<h2 id="create-a-payment-instruction">Create a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"cartReference":"A12347853S","paymentMethod":"SEPA","addressReference":"B123678542","voucherCode":"5OFFABCD","fulfilmentInfo":[{"fulfilmentType":"Digital","addressReference":"B123678542GV","fulfilmentDates":["2018-03-01T00:00:00"],"leadTime":4,"associatedPayments":{"paymentDates":["2018-03-01T00:00:00","2018-05-01T00:00:00","2018-05-01T00:00:00"],"customPaymentParameters":{"originator":"DirectSale"}},"customFulfilmentParameters":{"instructions":"Leave in garage."}}],"synchronousPaymentInfo":{"paymentMethod":"CreditCard","customPaymentParameters":null},"customPaymentInstructionParameters":{"paymentType":"pre-paid"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cartReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">A12347853S</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SEPA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">voucherCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">5OFFABCD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentInfo</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">fulfilmentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Digital</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">leadTime</span><span class="se">\"</span><span class="s2">:4,</span><span class="se">\"</span><span class="s2">associatedPayments</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">originator</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">DirectSale</span><span class="se">\"</span><span class="s2">}},</span><span class="se">\"</span><span class="s2">customFulfilmentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">instructions</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Leave in garage.</span><span class="se">\"</span><span class="s2">}}],</span><span class="se">\"</span><span class="s2">synchronousPaymentInfo</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:null},</span><span class="se">\"</span><span class="s2">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pre-paid</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cartReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">A12347853S</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SEPA</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">voucherCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">5OFFABCD</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentInfo</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">fulfilmentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Digital</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">leadTime</span><span class="se">\"</span><span class="s">:4,</span><span class="se">\"</span><span class="s">associatedPayments</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">originator</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">DirectSale</span><span class="se">\"</span><span class="s">}},</span><span class="se">\"</span><span class="s">customFulfilmentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">instructions</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Leave in garage.</span><span class="se">\"</span><span class="s">}}],</span><span class="se">\"</span><span class="s">synchronousPaymentInfo</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:null},</span><span class="se">\"</span><span class="s">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pre-paid</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 201 alongside a response Header of Location.</p>
</blockquote>

<p>This endpoint allows you to create a payment instruction for a specific account. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cartReference</code> <br />The cart which is default for the payment instruction.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The default payment method for the payment instruction. The available payment methods for this endpoint are: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">BACS</code>, <code class="prettyprint">SEPA</code> and <code class="prettyprint">Offline</code>.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">addressReference</code> <br />The reference addrress the fulfilments will be delivered to.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code> <br />A discount code generated from eSuite</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> <br />Information relating to each fulfilment and associated payments</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo \ fulfilmentType</code> <br />The type of fulfilment being purchase. Only <code class="prettyprint">physical</code> is available.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo \ addressReference</code> <br />An address reference that will override the top level address</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo \ fulfilmentDates</code><br />The collection of dates the fulfilments will be shipped</td>
<td><span class="array">array[string]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo \ leadTime</code><br />The number of days lead time needed by a supplier</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo \ associatedPayments</code><br />Collection of payments associated to the fulfilment</td>
<td><span class="object">object</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">associatedPayments \ paymentDates</code><br />The dates at which payment should be taken for the fulfilment</td>
<td><span class="array">array[string]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code> <br />This is a collection of custom attributes against the payments.</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters \ parameterName</code> <br />Representation of all custom parameters against the payments.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters</code> <br />This is a collection of custom attributes against the fulfilments.</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters \ parameterName</code> <br />Representation of all custom parameters against the fulfilment.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">synchronousPaymentInfo</code> <br />An example string</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">synchronousPaymentInfo \ paymentMethod</code><br />The method by which the payment should be made. The available payment methods for synchronous payments are <code class="prettyprint">CreditCard</code> and <code class="prettyprint">Offline</code>.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">synchronousPaymentInfo \ customPaymentParameters</code> <br />This is a collection of custom attributes against the payments.</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters \ parameterName</code> <br />Representation of all custom parameters against the payments.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> <br />This is a collection of custom attributes against the payment instructions.</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters \ parameterName</code>  <br />Representation of all custom parameters against the payment instruction.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="retrieve-a-payment-instruction">Retrieve a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fulfilmentPaymentMappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fulfilments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"expectedDeliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-30T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"supplierNotificationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-27T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"addressReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010DF5QFO4XK5H0L0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customFulfilmentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"paymentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010H00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-23T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customPaymentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a specific support log, for a specific account. </p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentInstructionReference</code> <br />The identifier for the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">status</code> <br />The status of the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">currency</code> <br />The currency against the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cartReference</code> <br />The cart which is default for the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings</code> <br />An array of objects that map payments to their associated fulfilments.</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings \ fulfilments</code> <br />An array of all fulfilments for the payment instruction.</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ fulfilmentReference</code> <br />The reference identifier to the fulfilment</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ fulfilmentStatus</code> <br />The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ fulfilmentType</code> <br />Indication as to whether it is a digital or physical fulfilment.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ expectedDeliveryDate</code> <br />The date and time the account expects to receive their goods.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ supplierNotificationDate</code> <br />The date and time at which eSuite will notify the fulfilment system.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ addressReference</code> <br />The reference addrress the fulfilment will be delivered to.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ dateCreated</code> <br />The date and time the fulfilment was created.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ dateLastUpdated</code> <br />The date and time the fulfilment was last updated.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments \ customFulfilmentParameters</code> <br />This is a collection of custom attributes against the fulfilment.</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters \ parameterName</code>  <br />Representation of all custom parameters against the fulfilment.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings \ payments</code> <br />An array of all payments for the payment instruction.</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ paymentReference</code> <br />The reference identifier to the fulfilment</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ paymentDate</code> <br />The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ paymentStatus</code> <br />Indication as to whether it is a digital or physical fulfilment.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ vatAmount</code> <br />The amount apportioned to tax.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ grossAmount</code> <br />The amount charged and submitted to the merchant.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ netAmount</code> <br />The amount charged minus tax.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ dateCreated</code> <br />The date and time the payment was created.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ dateLastUpdated</code> <br />The date and time the payment was last updated.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">payments \ customPaymentParameters</code> <br />This is a collection of custom attributes against the payments.</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters \ parameterName</code>  <br />Representation of all custom parameters against the payment.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> <br />This is a collection of custom attributes against the payment instructions.</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters \ parameterName</code>  <br />Representation of all custom parameters against the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="update-a-payment-instruction">Update a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/Status","value":"Cancelled"},{"op":"add","path":"/CancellationCode","value":"0.14"},{"op":"add","path":"/CancellationReason","value":"this is a value"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cancelled</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationCode</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.14</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationReason</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">this is a value</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/Status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cancelled</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationCode</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0.14</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationReason</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">this is a value</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>

<p>In the event you need to update a payment instruction, this end point should be called to edit specific attributes of the payment instructions.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-a-summary-of-payment-instructions">Retrieve a summary of Payment Instructions</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre-paid"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a summary of all payment instructions against a specific account.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentInstructions</code> <br />The collection of payment instructions.</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentInstructionReference</code> <br />The identifier for the specific payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">cartReference</code> <br />The identifier for the Cart for the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">nextFulfilmentReference</code> <br />The identifier for the next fulfilment on the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">nextFulfilmentDate</code> <br />The next date a fulfilment will be dispatched.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">lastPaymentDate</code> <br />The date the last payment was taken against the payment instruction.</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">nextPaymentDate</code> <br />The next scheduled date a payment will be taken.</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">description</code> <br />The name/description of the payment instruction</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> <br />This is a collection of custom attributes against the payment instructions.</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters \ parameterName</code> <br />Representation of all custom parameters against the payment instruction.</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

          <h1 id="fulfilment-management">Fulfilment Management</h1>

<h2 id="edit-a-fulfilment">Edit a Fulfilment</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/fulfiment/<span class="o">{</span>fulfilmentReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/Status","value":"Cancelled"},{"op":"add","path":"/CustomFulfilmentParameters/ParameterName","value":"NewParameterValue"},{"op":"replace","path":"/AddressReference","value":"QIUQIEUQIEU8173"},{"op":"replace","path":"/ExpectedDeliveryDate","value":"2017-07-07T00:00:00"},{"op":"replace","path":"/SupplierNotificationDate","value":"2017-06-07T00:00:00"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cancelled</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CustomFulfilmentParameters/ParameterName</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NewParameterValue</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/AddressReference</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">QIUQIEUQIEU8173</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/ExpectedDeliveryDate</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-07T00:00:00</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/SupplierNotificationDate</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-06-07T00:00:00</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/Status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cancelled</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CustomFulfilmentParameters/ParameterName</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NewParameterValue</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/AddressReference</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">QIUQIEUQIEU8173</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/ExpectedDeliveryDate</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-07T00:00:00</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/SupplierNotificationDate</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-06-07T00:00:00</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>

<p>In the event you need to update a fulfilment, this end point should be called to edit specific attributes of the fulfilment.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>A collection of updates that should be made to the resource</td>
<td><span class="array">array[objects]</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">op</code> <br />The type of change that should be executed. add, replace and remove are available operations.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">path</code> <br />The name of the parameter that should be updated.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">value</code> <br />The new value to store against the parameter.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="add-additional-payment">Add additional payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/fulfilments/<span class="o">{</span>fulfilmentReference<span class="o">}</span>/payments/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"paymentDate":"2017-07-07T08:14:59.126Z","paymentMethod":"Offline","vatAmount":2,"grossAmount":10,"netAmount":8,"currency":"GBP","customPaymentParameters":{"parameterName":"parameterValue"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"paymentDate\":\"2017-07-07T08:14:59.126Z\",\"paymentMethod\":\"Offline\",\"vatAmount\":2,\"grossAmount\":10,\"netAmount\":8,\"currency\":\"GBP\",\"customPaymentParameters\":{\"parameterName\":\"parameterValue\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"paymentDate\":\"2017-07-07T08:14:59.126Z\",\"paymentMethod\":\"Offline\",\"vatAmount\":2,\"grossAmount\":10,\"netAmount\":8,\"currency\":\"GBP\",\"customPaymentParameters\":{\"parameterName\":\"parameterValue\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">paymentDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-07T08:14:59.126Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Offline</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">vatAmount</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">netAmount</span><span class="se">\"</span><span class="s2">:8,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">parameterName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">parameterValue</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">paymentDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-07T08:14:59.126Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Offline</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">vatAmount</span><span class="se">\"</span><span class="s">:2,</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">netAmount</span><span class="se">\"</span><span class="s">:8,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">parameterName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">parameterValue</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span> <span class="nx">from</span> <span class="nx">a</span> <span class="nx">client</span><span class="o">-</span><span class="nx">side</span> <span class="nx">application</span><span class="p">.</span>
</code></pre>
<p>If you need to add an additional payment to a specific fulfilment, this end point can be called. This is typically if the account has changed the contents of the fulfilment to something more expensive.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentDate</code> <br />The date the payment should be submitted.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> <br />The payment method the payment should be taken in. The available payment methods are: <code class="prettyprint">CreditCard</code>, <code class="prettyprint">BACS</code>, <code class="prettyprint">SEPA</code> and <code class="prettyprint">Offline</code></td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">grossAmount</code> <br />The amount to submit to the merchant.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">netAmount</code> <br />The amount to charge minus tax.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">vatAmount</code> <br />The amount apportioned to tax.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">currency</code> <br />ISO Currency code</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code> <br />This is a collection of custom attributes against the payments.</td>
<td><span class="dictionary">dictionary</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters \ parameterName</code> <br />Representation of each custom parameters against the payment.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="access-management">Access Management</h1>

<h2 id="create-access">Create Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"name":"Open Access to the Tribune","identifier":"TheTribuneOpen","startDate":"2015-01-01T00:00:00","endDate":"2019-01-01T00:00:00"}'</span><span class="sb">```</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Open Access to the Tribune</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">identifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TheTribuneOpen</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">name</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Open Access to the Tribune</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">identifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">TheTribuneOpen</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command will return a HTTP 204 and an empty response body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In addition to gaining entitlements via purchasing content, it is possible to provide access to an account directly via the API.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code> <br />The name of entitlement</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">identifier</code> <br />The identifier of entitlement</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The create date of the entitlement</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code> <br />The expiry of the entitlement</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-access">Retrieve Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"entitlements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for retrieving all active access for a specific account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements</span>
</div>

<h2 id="delete-access">Delete Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In the event access should be removed from an account, this API method should be triggered</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</span>
</div>

<aside class="warning">Executing this API will not remove access from the account until the access rights of the account are checked again.</aside>

<h2 id="validate-access">Validate Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span>?incrementUsage<span class="o">=</span><span class="nb">true</span>&amp;deviceIdentifier<span class="o">=</span>iPad <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"remainingTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"584.15:18:54"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deviceLimitExceeded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entitlementAvailable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to check if an account has access to content, this API method should be executed. Passing through the incrementUsage parameter will add one onto the entitlement count and passing a deviceIdentifier will allow you to make use of eSuite device concurrency functionality.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">entitlementIdentifier</code> <br />The specific entitlement to check.</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">incrementUsage</code> <br />This option will default to false if not provided.</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">deviceIdentifier</code> <br />If device concurrency is being used, this value must be populated.</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="search-access">Search Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/search?rowsPerPage<span class="o">=</span>10&amp;currentPage<span class="o">=</span>1&amp;exactMatch<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2973</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for all access for a specific account, regardless of whether it is active. The results returned will be in order of latest start date.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">createDateMin</code> <br />Earliest creation date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">createDateMax</code> <br />Latest creation date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">startDateMin</code><br />Earliest Entitlement start date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">startDateMax</code> <br />Latest Entitlement start date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">endDateMin</code> <br />Earliest Entitlement expiration date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">endDateMax</code> <br />Latest Entitlement expiration date to search</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">entitlementIdentifier</code> <br />The name of entitlement</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code> <br />Number of items to return in the response</td>
<td><span class="integer">integer</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">currentPage</code> <br />Page to return</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">exactMatch</code> <br />Indication whether to exactly match the entitlementIdentifer (default to false)</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="native-billing">Native Billing</h1>

<h2 id="validate-a-roku-purchase">Validate a Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865","email":"john.smith@mppglobal.com","password":"SuperStrongP@ssword01","newAccountDetails":{"firstName":"John","lastName":"Smith"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newAccountDetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newAccountDetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This endpoint allows you to pass through the Roku transactionId alongside customer information and the eSuite platform will create an account before adding the subscription.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/native-billing/roku/</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">rokuTransactionId</code> <br />The roku transaction ID that is to be validated</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">email</code> <br />Email address of the customer&rsquo;s Roku billing account</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />Customer&rsquo;s password</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> <br />A sub-object of RokuValidateTransactionRequest, containing additional customer information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails \ firstName</code> <br />The customer&rsquo;s first name, as forwarded from Roku&rsquo;s native billing</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails \ lastName</code> <br />The customer&rsquo;s last name, as forwarded from Roku&rsquo;s native billing</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-roku-purchase">Validate Existing Account&rsquo;s Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865 \"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This endpoint should be called when an existing account has made a purchase via Roku. Calling this endpoint will add the Roku subscription to their eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">rokuTransactionId</code> <br />The roku transaction ID that is to be validated</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<h2 id="validate-itunes-purchase">Validate iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","email":"john.smith@mppglobal.com","password":"@ReallyStrongP@ssw0rd","newaccountdetails":{"firstName":"John","lastName":"Smith"},"currency":"GBP","price":12.5}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newaccountdetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newaccountdetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">},</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>For first time sign-up and subscribers, calling this endpoint containing information about the iTunes purchase and details of the customer will create and account as well as the subscription within eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/native-billing/itunes</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">receipt</code> <br />The encrypted receipt returned from the iTunes stored when the app was purchased</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">price</code> <br />An indication as to the price paid within iTunes</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">currency</code> <br />The currency used to purchase the iTunes subscription</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">email</code> <br />Email address of the customer&rsquo;s Roku billing account</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">password</code> <br />Customer&rsquo;s password</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> <br />A sub-object of request, containing additional customer information</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails \ firstName</code> <br />The customer&rsquo;s first name, as forwarded from iTunes&rsquo;s native billing</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails \ lastName</code> <br />The customer&rsquo;s last name, as forwarded from iTunes&rsquo;s native billing</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-itunes-purchase">Validate Existing Account&rsquo;s iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","currency":"GBP","price":12.5}
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This endpoint should be called when an existing account has made a purchase via iTunes. Calling this endpoint will add the iTunes subscription to their eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">receipt</code> <br />The encrypted receipt returned from the iTunes stored when the app was purchased</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">price</code> <br />An indication as to the price paid within iTunes</td>
<td><span class="decimal">decimal</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">currency</code> <br />The currency used to purchase the iTunes subscription</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="session-management">Session Management</h1>

<h2 id="retrieve-a-session">Retrieve a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-20T13:28:30.897Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-20T13:28:30.897Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return information about the current state of the session token provided on the request.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/sessions/{sessionToken}</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">sessionToken</code> <br />The session token that should be retrieved</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<aside class="info">
If you are using a client-side integration of this endpoint, you should pass the sessionToken as per all other requests client-side by using the `x-sessionId` header rather than as a query string parameter.
</aside>

<h2 id="delete-a-session">Delete a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
      <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p>If you would like to delete a session on eSuite, calling this endpoint will expire and remove any information stored within it.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/sessions/{sessionToken}</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">sessionToken</code> <br />The session token that should be deleted</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
</tbody></table>

<aside class="info">
If you are using a client-side integration of this endpoint, you should pass the sessionToken as per all other requests client-side by using the `x-sessionId` header rather than as a query string parameter.
</aside>

          <h1 id="catalogue-management">Catalogue Management</h1>

<h2 id="retrieve-all-subscription-services">Retrieve All Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return all configured subscription services for your instance of eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/subscriptions</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> <br />Object containing all subscription services on the Client</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionId</code> <br />The identifier of the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ resourceReference</code> <br />The reference of the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionGroup</code> <br />The subscription group the subscription belongs</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionGroupTag</code> <br />The subscription group tag the subscription belongs</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionGroupStatus</code> <br />The status of the subscription group</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionDescription</code> <br />A description of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionTitle</code> <br />A title of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionType</code> <br />The type of subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ subscriptionStatus</code> <br />The status of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ initialPricingEnabled</code> <br />An indication whether initial pricing is enabled</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ trialInfo</code> <br />Object containing trial information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo \ trialEnabled</code> <br />An indication whether trials are enabled</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo \ trialUnit</code> <br />Duration type (month, day, year, etc.)</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo \ trialPeriod</code> <br />How long the duration should be</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo \ discountPercentage</code> <br />How much the price will be discounted</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo \ nonPaymentTrial</code> <br />An indication to whether payment details are required</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ contractInfo</code> <br />Object containing contract information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo \ contractUnit</code> <br />Type of contract (day, week, month, etc.)</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo \ contractPeriod</code> <br />Number of units the contract runs</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo \ autoRenewDefault</code> <br />Indication whether the subscription service will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ pricingInfo</code> <br />The collection of all prices configured for the subscription service</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ currency</code> <br />The currency the price is associated to</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ initialPrice</code> <br />The price that will be paid on sign-up of the subscription service</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ priceIsGross</code> <br />An indication as to whether the price returned is the gross or net price</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ renewalPrice</code> <br />The price that will be paid on subsequent renewal purchases</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ priceId</code> <br />The eSuite Identifer for the price</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ taxCategory</code> <br />Tax category</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ resourceReference</code> <br />The identifier for the price that should be used on purchase calls</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo \ paymentMethod</code> <br />The payment method associated to the specific price</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ allowedPaymentMethods</code> <br />The collection of payment methods available on the subscription service</td>
<td><span class="array">array[string]</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> <br />Custom parameters</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterName</code> <br />Name of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterType</code> <br />An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterValue</code> <br />Value of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ images</code> <br />The overarching object which contains all images for the subscription service</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ imageId</code> <br />The eSuite identifier for the image</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ displayName</code> <br />Display name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ fileName</code> <br />The file name associated to the image</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ default</code> <br />An indication as to whether the image is the default image for the subscription service</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ location</code> <br />The URL location the image is hosted at</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo \ groupLicensing</code> <br />A breakdown of how many group licenses are associated to the subscription service</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing \ standard</code> <br />The number of standard licenses associated to the subscription service</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing \ overflow</code> <br />The number of overflow licenses associated to the subscription service</td>
<td><span class="integer">integer</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-subscription-services">Retrieve Filtered Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return you a subset of your configured subscription services, based on the query parameters provided.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/subscriptions/search</span>
</div>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">serviceIds</code> <br />A collection of subscription service Identifiers</td>
<td><span class="array">array[integer]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionGroupTagName</code> <br />Subscription service group name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> <br />Object containing all subscription services on the Client</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionId <br />The identifier of the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; resourceReference <br />The reference of the subscription</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroup <br />The subscription group the subscription belongs</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroupTag <br />The subscription group tag the subscription belongs</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroupStatus <br />The status of the subscription group</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionDescription <br />A description of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionTitle <br />A title of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionType <br />The type of subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionStatus <br />The status of the subscription service</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; initialPricingEnabled <br />An indication whether initial pricing is enabled</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; trialInfo <br />Object containing trial information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialEnabled <br />An indication whether trials are enabled</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialUnit <br />Duration type (month, day, year, etc.)</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialPeriod <br />How long the duration should be</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; discountPercentage <br />How much the price will be discounted</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; nonPaymentTrial <br />An indication to whether payment details are required</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; contractInfo <br />Object containing contract information</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; contractUnit <br />Type of contract (day, week, month, etc.)</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; contractPeriod <br />Number of units the contract runs</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; autoRenewDefault <br />Indication whether the subscription service will renew</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; pricingInfo <br />The collection of all prices configured for the subscription service</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; currency <br />The currency the price is associated to</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; initialPrice <br />The price that will be paid on sign-up of the subscription service</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; priceIsGross <br />An indication as to whether the price returned is the gross or net price</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; renewalPrice <br />The price that will be paid on subsequent renewal purchases</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; priceId <br />The eSuite Identifer for the price</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; taxCategory <br />Tax category</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; resourceReference <br />The identifier for the price that should be used on purchase calls</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; paymentMethod <br />The payment method associated to the specific price</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; allowedPaymentMethods <br />The collection of payment methods available on the subscription service</td>
<td><span class="array">array[string]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; customParameters <br />Custom parameters</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterName <br />Name of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterType <br />An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterValue <br />Value of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; images <br />The overarching object which contains all images for the subscription service</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; imageId <br />The eSuite identifier for the image</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; displayName <br />Display name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; fileName <br />The file name associated to the image</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; default <br />An indication as to whether the image is the default image for the subscription service</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; location <br />The URL location the image is hosted at</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; groupLicensing <br />A breakdown of how many group licenses are associated to the subscription service</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; standard <br />The number of standard licenses associated to the subscription service</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; overflow <br />The number of overflow licenses associated to the subscription service</td>
<td><span class="integer">integer</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-all-products">Retrieve All Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return all configured products within your instance of eSuite, this endpoint should be called.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/products</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">products</code> <br />List of products</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ productId</code> <br />Product identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ status</code> <br />Product status</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ title</code> <br />Title</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ description</code> <br />Description</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ pricing</code> <br />Pricing</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />IsoCode</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ purchaseInfo</code> <br />Purchase info</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ paymentMethod</code> <br />Payment method</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ grossAmount</code> <br />Gross amount</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ paymentMethod</code> <br />Payment method</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ priceId</code> <br />Price id</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ resourceReference</code> <br />Resource Reference for the PriceId</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ roleInfo</code> <br />Pricing role</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ roleId</code> <br />Role identifier</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ clientRef</code> <br />Client reference</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ title</code> <br />Title</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ images</code> <br />Images of the product</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ imageId</code> <br />Image identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ displayName</code> <br />Display name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ fileName</code> <br />File name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ default</code> <br />Specify if image is default</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">images \ location</code> <br />Path to the image</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ supplier</code> <br />Supplier details</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">supplier \ suppliedId</code> <br />Supplier identifier</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">supplier \ name</code> <br />Name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ type</code> <br />Product type</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">type \ typeId</code> <br />Type id</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">type \ name</code> <br />Type name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ customParameters</code> <br />Custom parameters</td>
<td><span class="array">array[object]</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterName</code> <br />Name of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterValue</code> <br />Value of the custom parameter</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">products \ resourceReference</code> <br />Resource Reference for the ProductId</td>
<td><span class="string">string</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-products">Retrieve Filtered Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return only a subset of your product catalogoue, this endpoint should be called with the appropriate query string parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/products/search</span>
</div>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">productIds</code> <br />A collection of product Identifiers</td>
<td><span class="array">array[integer]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">currency</code> <br />The currency prices should be returned</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">products</code> <br />List of products</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ productId</code> <br />Product identifier</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ status</code> <br />Product status</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ title</code> <br />Title</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ description</code> <br />Description</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ pricing</code> <br />Pricing</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ currency</code> <br />IsoCode</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing \ purchaseInfo</code> <br />Purchase info</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo \ paymentMethod</code> <br />Payment method</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ grossAmount</code> <br />Gross amount</td>
<td><span style="font-weight:bold;color:#666;">number</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ paymentMethod</code> <br />Payment method</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ priceId</code> <br />Price id</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod \ resourceReference</code> <br />Resource Reference for the PriceId</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ pricing</code> &gt; purchaseInfo &gt; roleInfo <br />Pricing role</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ roleId</code> <br />Role identifier</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ clientRef</code> <br />Client reference</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo \ title</code> <br />Title</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ images</code> <br />Images of the product</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images \ imageId</code> <br />Image identifier</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images \ displayName</code> <br />Display name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images \ fileName</code> <br />File name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images \ default</code> <br />Specify if image is default</td>
<td><span class="bool">bool</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images \ location</code> <br />Path to the image</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ supplier</code> <br />Supplier details</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">suppliedId</code> <br />Supplier identifier</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">supplier \ name</code> <br />Name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ type</code> <br />Product type</td>
<td><span class="object">object</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">type \ typeId</code> <br />Type id</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">type \ name</code> <br />Type name</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ customParameters</code> <br />Custom parameters</td>
<td><span class="array">array[object]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterName</code> <br />Name of the custom parameter</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters \ parameterValue</code> <br />Value of the custom parameter</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products \ resourceReference</code> <br />Resource Reference for the ProductId</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
</tbody></table>

          <h1 id="offers">Offers</h1>

<h2 id="retrieve-all-offers">Retrieve all Offers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"offerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.163Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.163Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UniqueToUserUseOnce"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"applicationData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"addCredits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"lowStart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"percentageDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"freePeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"groupDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"activationCodeActivated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metaData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"qualifyingItemCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"freeItemCountOrDiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"configurationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"fixedPriceDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discountAmounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"productSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"miscellaneousChargeSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint, will return all configured offers against your instance of eSuite. This endpoint allow you to return a specific number of offers per page and the page number you would like to view. If no additional filters are provided a default 50 page limit will be returned.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers</span>
</div>

<h3 id="get-parameters">GET Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">productReference</code> <br />Providing this parameter will return offers specific to this product</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">status</code> <br />Indicates whether to return <code class="prettyprint">Active</code> or <code class="prettyprint">Disabled</code> offers</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />Which page should be returned</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code> <br />The number of results to return per page</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalNumberOfRecords</code> <br />The total number of offers found as a result of the request</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code> <br />The page number being displayed</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">resultsPerPage</code> <br />The number of records being displayed</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">items</code> <br />Collection of all offers</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ offerReference</code> <br />Unique identifier for the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ startDate</code> <br />The date at which the offer becomes active</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ expiryDate</code> <br />The date at which the offer becomes inactive</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ name</code> <br />The name associated to the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ description</code> <br />Additional details against the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ usageType</code> <br />The type of usage applicable for the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ applicationData</code> <br />Alternative data to display to an end-user</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ name</code> <br />End-user name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message</code> <br />Public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message2</code> <br />Additional public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ addCredits</code> <br />Information relating to an AddCredits offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ amount</code> <br />Amount of credit the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ currency</code> <br />Currency the credit should be added in</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ lowStart</code> <br />Information relating to an LowStart offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ percentage</code> <br />The percentage discount the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ lockInPeriods</code> <br />Number of periods before the account can cancel their subscription</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ percentageDiscount</code> <br />Information relating to an PercentageDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ percentage</code> <br />The percentage discount that will be received</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ freePeriod</code> <br />Information relating to an freePeriod offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ groupDiscount</code> <br />Information relating to an GroupDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ metaData</code> <br />Metadata of the group discount</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ qualifyingItemCount</code> <br />The number of items that must be purchased to be applicable for the offer</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ freeItemCountOrDiscountAmount</code> <br />The discount amount or the number of free items</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ productIds</code> <br />List of Products that can have the offer redeemed</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ productSource</code> <br />Product source</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ customParameters</code> <br />Dictionary of custom parameters applicable to the discount</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">items \ fixedPriceDiscount</code> <br />Information relating to an FixedPriceDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ discountAmounts</code> <br />Specific currency configuration</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ value</code> <br />Amount to be discounted</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ currency</code> <br />The associated currency</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ subscriptionSettings</code> <br />Settings associated to the service aspect of a fixed price discount</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ enabled</code> <br />Indication as to whether the offer can be used on a subscription purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ numberOfPeriods</code> <br />Number of renewing periods the offer is applicable for</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ lockInPeriods</code> <br />The number of periods an account would be locked in if the offer was redeemed</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ productSettings</code> <br />Product specific settings for the offer</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ enabled</code> <br />Indication as to whether the offer can be used on a product purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ productIds</code> <br />Collection of products that can benefit from the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ miscellaneousChargeSettings</code> <br />Details specific to one-off charge</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">miscellaneousChargeSettings \ enabled</code> <br />Indication as to whether the offer can be used on a one-off charge</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-an-offer">Retrieve an Offer</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers/<span class="o">{</span>offerReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers/{offerReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"offerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.171Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.171Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UniqueToUserUseOnce"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"applicationData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"addCredits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"lowStart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"percentageDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"freePeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"groupDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"activationCodeActivated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metaData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"qualifyingItemCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"freeItemCountOrDiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"configurationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"fixedPriceDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"discountAmounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptionSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"productSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"miscellaneousChargeSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return a specific instance of an offer.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers/{offerReference}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">offerReference</code> <br />Unique identifier for the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the offer becomes active</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">expiryDate</code> <br />The date at which the offer becomes inactive</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">name</code> <br />The name associated to the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">description</code> <br />Additional details against the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">usageType</code> <br />The type of usage applicable for the offer</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> <br />Alternative data to display to an end-user</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ name</code> <br />End-user name</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message</code> <br />Public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">applicationData \ message2</code> <br />Additional public facing message</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> <br />Information relating to an AddCredits offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ amount</code> <br />Amount of credit the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ currency</code> <br />Currency the credit should be added in</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">addCredits \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> <br />Information relating to an LowStart offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ percentage</code> <br />The percentage discount the account should receive</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ lockInPeriods</code> <br />Number of periods before the account can cancel their subscription</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">lowStart \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code> <br />Information relating to an PercentageDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ percentage</code> <br />The percentage discount that will be received</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> <br />Information relating to an freePeriod offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ numberOfPeriods</code> <br />How long the discount should take place</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> <br />Information relating to an GroupDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ metaData</code> <br />Metadata of the group discount</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ qualifyingItemCount</code> <br />The number of items that must be purchased to be applicable for the offer</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ freeItemCountOrDiscountAmount</code> <br />The discount amount or the number of free items</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">metaData \ productIds</code> <br />List of Products that can have the offer redeemed</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ productSource</code> <br />Product source</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount \ customParameters</code> <br />Dictionary of custom parameters applicable to the discount</td>
<td><span class="dictionary">dictionary</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> <br />Information relating to an FixedPriceDiscount offer type</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ paymentDetailsRequired</code> <br />Indication as to whether the account is required to provide payment information</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ discountAmounts</code> <br />Specific currency configuration</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ value</code> <br />Amount to be discounted</td>
<td><span style="font-weight:bold;color:#666;">decimal</span></td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts \ currency</code> <br />The associated currency</td>
<td><span class="string">string</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ subscriptionSettings</code> <br />Settings associated to the service aspect of a fixed price discount</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ enabled</code> <br />Indication as to whether the offer can be used on a subscription purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ numberOfPeriods</code> <br />Number of renewing periods the offer is applicable for</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ lockInPeriods</code> <br />The number of periods an account would be locked in if the offer was redeemed</td>
<td><span class="integer">integer</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ closeSubOnExpiry</code> <br />Indication whether the subscription will expire at the same time as the offer</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings \ serviceIds</code> <br />Collection of applicable services for the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ productSettings</code> <br />Product specific settings for the offer</td>
<td><span class="array">array[objects]</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ enabled</code> <br />Indication as to whether the offer can be used on a product purchase</td>
<td><span class="bool">bool</span></td>
</tr>
<tr>
<td><code class="prettyprint">productSettings \ productIds</code> <br />Collection of products that can benefit from the offer</td>
<td><span class="array">array[integer]</span></td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount \ miscellaneousChargeSettings</code> <br />Details specific to one-off charge</td>
<td><span class="object">object</span></td>
</tr>
<tr>
<td><code class="prettyprint">miscellaneousChargeSettings \ enabled</code> <br />Indication as to whether the offer can be used on a one-off charge</td>
<td><span class="bool">bool</span></td>
</tr>
</tbody></table>

<h2 id="retrieve-all-vouchers">Retrieve all vouchers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers/<span class="o">{</span>offerReference<span class="o">}</span>/vouchers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers/{offerReference}/vouchers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"J964AG3AJA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"7G94G3JJ5A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"67JAGJAD4G"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"G7JMGGPPPP"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint will allow you to retrieve all available voucher codes that are applicable for use.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers/{offerReference}/vouchers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>List of available voucher codes for the configured offer</td>
<td><span class="array">array[string]</span></td>
</tr>
</tbody></table>

          <h1 id="analytics">Analytics</h1>

<h2 id="retrieve-analytics-data">Retrieve Analytics Data</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/analytics/methodName?enddate=2099-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z&amp;startdate=2017-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parameterValue"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint can be used to extract predefined datasets from eSuite for use in external dashboards.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/analytics/{method}</span>
</div>

<h3 id="query-string">Query string</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">startdate</code> <br />DateTime (No) for start of query</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">enddate</code> <br />DateTime (No) for end of query</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">referencecurrency</code> <br />If the method returns a financial information. It is possible to restrict down by currency</td>
<td><span class="string">string</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">timezoneoffset</code> <br />All data stored in eSuite is stored in UTC. If you require it in your local time, provide your UTC offset e.g. 1</td>
<td><span class="integer">integer</span></td>
<td></td>
</tr>
</tbody></table>

<h3 id="available-data-sources">Available Data Sources</h3>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">Dynamic_Account_Authentication_Attempts</code> <br />Account authentication attempts (per day)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Authentication_RequestsPerHour</code> <br />Account authentication attempts (per hour)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Accounts_ByStatus</code><br />Account Status</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Accounts_CreatedByDay</code> <br />Account creation profile</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Cards_Expiring_Next_Month</code><br />Expiring Cards</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Consumer_Payment_Methods</code> <br />Consumer Payment Methods</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_CreditDebitCard_Autorisations</code> <br />Payment card authorisation attempts</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Most_Redeemed_Offers</code> <br />Most redeemed Offers</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_NonSubscriptions_RevenueByDay</code> <br />None Subscription Revenue (by day)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_NonSubscriptions_RevenueByPaymentType</code> <br />None Subscription Revenue (by payment type)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Payment_Attempts_Per_Period</code> <br />Payment Attempts (by period)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_PromotionCodes_ByDay</code> <br />Promotion Code redemption (by day)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_PromotionCodes_RedeemedInPeriod</code> <br />Promotion Code redemption (by period)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Revenue_AllByDay</code> <br />All revenue generated per day</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_RPM_GetCountOfApiMethods</code> <br />API Method Count</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_RPM_GetTop50Minutes</code> <br />Top RPM Count</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ActiveByDay</code> <br />Active Subscription (by day)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ActiveByServiceId</code> <br />Active Subscription (by Subscription Service)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_Added</code> <br />Subscriptions added</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnbyMonth</code> <br />Subscription Churn (by month)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnByReason</code> <br />ubscription Churn (by reason)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnByService</code> <br />Subscription Churn (by Subscription Service)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnPredictionPrecisionV5LastMonth</code> <br />Churn Prediction Precision (previous month)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnPredictionPrecisionV5ThisMonth</code> <br />Churn Prediction Precision (current month)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_RevenueByDay</code> <br />Subscription revenue (by day)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Subscriptions_RevenueByPaymentType</code> <br />Subscription revenue (by payment type)</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Top_Subscription_Types</code> <br />Top performing Subscriptions</td>
</tr>
<tr>
<td><code class="prettyprint">Dynamic_Voucher_Codes_Redeemed_Per_Period</code> <br />Voucher redemption</td>
</tr>
<tr>
<td><code class="prettyprint">RPM_Core_Get</code> <br />eSuite Core API Requests (per minute)</td>
</tr>
</tbody></table>

          <h1 id="bulk-actions">Bulk Actions</h1>

<h2 id="create-access">Create Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/bulk/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"entitlementIdentifier":"specific-access","startDate":"2017-07-03T11:31:41.0353603Z","endDate":"2017-07-13T11:31:41.0353603Z","accountIds":[123456,123457,123458],"clientUserIds":["A123456","A123457","A123458"]}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">entitlementIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">specific-access</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountIds</span><span class="se">\"</span><span class="s2">:[123456,123457,123458],</span><span class="se">\"</span><span class="s2">clientUserIds</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123457</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123458</span><span class="se">\"</span><span class="s2">]}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">entitlementIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">specific-access</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountIds</span><span class="se">\"</span><span class="s">:[123456,123457,123458],</span><span class="se">\"</span><span class="s">clientUserIds</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">A123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123457</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123458</span><span class="se">\"</span><span class="s">]}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
     <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">'9.0.0'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/bulk/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon success:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>This endpoint is available to allow you to bulk create access for multiple accounts in a single request.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/bulk/entitlements/</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">entitlementIdentifier</code> <br />The access the account should given</td>
<td><span class="string">string</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code> <br />The date at which the access should become active</td>
<td><span style="font-weight:bold;color:#666;">dateTime</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code> <br />The date at which access to the content should be deactivated.</td>
<td><span style="font-weight:bold;color:#666;">dateTime</span></td>
<td><span class="required">Required</span></td>
</tr>
<tr>
<td><code class="prettyprint">accountIds</code> <br />A collection of all accounts that should have access given, based upon accountId.</td>
<td><span class="array">array[integer]</span></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">clientUserIds</code> <br />A collection of all accounts that should have access given, based upon ClientUserId</td>
<td><span class="array">array[string]</span></td>
<td></td>
</tr>
</tbody></table>

<aside class="info">It is required that either an array of accountIds or clientUserIds must be passed but it is not required to pass both.</aside>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>In the event an error occurs, an object will be returned:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"result"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Example String"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">This error section is a summary of the possible error codes you could receive from the eSuite API. The API will return a specific error message alongside one of these codes to detail the specific error that has occurred.</aside>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><em>400</em> <code class="prettyprint">Bad Request</code><br /> Your request is malformed in some way</td>
</tr>
<tr>
<td><em>401</em> <code class="prettyprint">Unauthorized</code> <br /> The API key provided is not valid</td>
</tr>
<tr>
<td><em>403</em> <code class="prettyprint">Forbidden</code> <br /> The resource is not accessible using the provided API key</td>
</tr>
<tr>
<td><em>404</em> <code class="prettyprint">Not Found</code> <br /> The specified resource could not be found</td>
</tr>
<tr>
<td><em>405</em> <code class="prettyprint">Method Not Allowed</code> <br /> You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td><em>406</em> <code class="prettyprint">Not Acceptable</code> <br /> You requested a format that isn&rsquo;t JSON</td>
</tr>
<tr>
<td><em>412</em> <code class="prettyprint">Pre-Condition Failed</code><br /> The request has failed basic validation</td>
</tr>
<tr>
<td><em>500</em> <code class="prettyprint">Internal Server Error</code> <br /> We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td><em>503</em> <code class="prettyprint">Service Unavailable</code> <br /> a service required to complete the requested operation is unavailable at present. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="javascript">jQuery</a>
          </div>
      </div>
    </div>
  </body>
</html>
