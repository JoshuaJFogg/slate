<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>eSuite API Reference</title>

    <style>
        .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <style>
      @import url('https://fonts.googleapis.com/css?family=Open+Sans');
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="https://www.mppglobal.com/wp-content/themes/mpp/favicon.png" rel="icon" type="image/png" />
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="javascript">jQuery</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://mppglobal.com'>Documentation Powered by eSuite</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The eSuite API is built around the architectural principle of REST (Representational State Transfer).</p>

<p>The API allows you to interact with eSuite from both a client-side web application and a traditional server-side application. The API also uses standard HTTP features and can be used via standard HTTP clients in order to perform actions prior to integrating the functionality. All responses are returned in JSON, including error messages. </p>

<p>In order ensure the eSuite REST API is secure, certain features are not available to client-side web applications but the functions that are made availalbe will allow you to build an application to take card payments without having to have it hosted with a third party or use a hosted white label solution.</p>

<p>The API has also been built using the OpenAPI Specification (formally the Swagger Specification) which will allow you to automatically generate code and test files.</p>

<p>You can generate your bindings against our UAT swagger <a href="https://uat.mppglobal.com:443/swagger/docs/9">here</a>.</p>

          <h1 id="api-authorization">API Authorization</h1>

<h2 id="client-to-server-integrations">Client-to-Server integrations</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>Not Supported
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="no">Supported</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/..."</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Client-to-server integrations are often the quickest to complete and allow you to get live in a matter of hours. To help this process, MPP Global has developed the eSuite SDK which is an AngularJS application that contains UI elements covering the standard flows experienced by our existing clients. If you decide you would prefer to build the eSuite API into your existing technology stack directly, this is possible. Client-to-server API requests are restricted as to what features are available and the data that can be passed. For example, configuring a price from the client-side application is not possible as it should never be accessible to the end-user to change how much they pay for an item.</p>

<p>In order to authenticate with the eSuite API, you will be required to pass either two or three pieces of information dependent on the actions you are looking to complete. The values required are:</p>

<h3 id="x-tokenid">X-TokenId</h3>

<p>This is your API Key for the eSuite API. When you are set up on the eSuite platform, you will be provided with the API Key and it will be the value used by eSuite to identify you when making requests into the platform. It is possible to have multiple API Keys configured against your instance of eSuite. The API Key is a GUID (32 character non-sequential value) and will be different in both UAT and Live environments.</p>

<p><code class="prettyprint">x-tokenId: BE52ADA2064C4F9A9D90F28D066D1CEE</code></p>

<h3 id="origin">Origin</h3>

<p>As part of the API Key provisioning process, your API key will be bound to a specific Origin that reflects the location at which you will be making your API request from. It is possible to bind multiple Origin domains to a single API Key, the only restriction on the domains used as Origins is that they are all HTTPS. Whilst you are getting your system set up, the API Key for the UAT environment will be bound to https://localhost so that you can begin work straight away.</p>

<p><code class="prettyprint">Origin: https://mywebsite-domain.com</code></p>

<h3 id="x-sessionid">X-SessionId</h3>

<p>In the event you are performing actions relating to a customer&rsquo;s account, whether that be account creation, retrieval or addition of payment details; you must provide a session token for that customer in the request you make. This session token can be gained from two different places: the customer authenticating themself using their email address and password, or a server-to-server API request on behalf of the customer. The session provided will have both a short-life permission which allows the customer to carry out actions against their account and this lasts for 15 minutes since last use, and then a long-life permission which is used for checking access to content only.</p>

<p><code class="prettyprint">x-sessionId: BE52ADA2064C4F9A9D90F28D066Y6RDE</code></p>

<aside class="warning">
You must replace the <code>x-tokenId</code> value with your personal API key.
</aside>

<h2 id="server-to-server-integrations">Server-to-server Integrations</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/..."</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">null</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/..."</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code class="prettyprint">BE52ADA2064C4F9A9D90F28D066D1CEE</code> with your API key.</p>
</blockquote>

<p>eSuite uses API keys to allow access to the API. You can register a new eSuite API key by logging into eSuite HQ.</p>

<p>eSuite expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<h3 id="x-clientid">X-ClientId</h3>

<p>The header &lsquo;x-clientid&rsquo; is used to identify who is attempting to make the request to eSuite. You will only be issued with a single clientId for eSuite and this will remain consistent between both UAT and the Live system.</p>

<p><code class="prettyprint">x-clientid: 1001</code></p>

<h3 id="x-clientpassword">X-ClientPassword</h3>

<p>The client password is the authorization mechanism used to determine whether the requester has permissions to execute the API method in question. It is possible to have multiple API payments against your client but these will differ between both UAT and the Live system due to the UAT system not being a PCI compliant environment. </p>

<p>The client password should never be revealed in the public domain nor should it be written on a physical item e.g paper. When moving to the Live system, MPP Global&rsquo;s Client Onboarding team will provide a designated member of your organisation the client password over the phone.</p>

<p><code class="prettyprint">x-clientpassword: Str0ngP@ssword</code></p>

<aside class="warning">
The <code>x-clientId</code> should never be revealed in the public domain, nor be accessible to general members of the team.
</aside>

<aside class="warning">
If you choose to integrate the eSuite API directly into your technology stack please be aware that in the event you are processing, storing or transmitting card data, your entire application will be inscope for PCI Level one compliance.
</aside>

<h2 id="versioning">Versioning</h2>

<p>The eSuite API operates a semantic versioning policy which is denoted using MAJOR.MINOR.PATCH (9.0.0). The x-version header is a mandatory parameter on <em>all</em> API requests.</p>

<p>If MPP Global makes a change to the eSuite API that could result in an existing intgration no longer functioning correctly, a new major version will be released, resulting in incrementing the Major version of the API. For example, a non-backwards compatible change to the API would be the change the results in responses being returned as XML rather than JSON. This would see a version 9.12.3 being the final version 9 release and a breaking change being released on version 10.0.0.</p>

<p>As part of the development of the eSuite platform, new features are released every two weeks. The introduction of new features that do not cause breaking changes will be added to the current major version of the API and a minor release. For example, this would be version 9.1.3 providing the ability to create a customer account on the eSuite platform. As part of the next release of the eSuite platform you are able to retrieve customer accounts via the eSuite API but this would be added to a new minor version and be available on version 9.2.0.</p>

<p>From time to time bugs will be discovered with the eSuite API and we will fix them as soon as technically possible. When a fix is deployed to an existing piece of functionality that does not change the details of the API from an integration level, a patch version would be released taking a version from 9.2.3 to version 9.2.4.</p>

<p>The current policy on version support for the eSuite API, MPP Global will continue to support all versions that are currently in use by clients. Once all clients have moved to a later version of the API, an end-of-life (eoL) process will begin.</p>

          <h1 id="workflow-configurations">Workflow Configurations</h1>

<h2 id="get-a-subscription-session">Get a Subscription session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/subscriptions/<span class="o">{</span>resourceReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions/{resourceReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a39758cbf084f65a192ad39378f7e1b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured subscription service.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/subscriptions</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Yes</td>
<td>Reference to the subscription service being purchased.</td>
</tr>
<tr>
<td><code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The URL location the account should be redirected to following a purchase attempt.</td>
</tr>
<tr>
<td><code class="prettyprint">processUpdateURL</code></td>
<td>string</td>
<td>No</td>
<td>The endpoint that should be notified of the successful purchase.</td>
</tr>
</tbody></table>

<h2 id="get-a-product-session">Get a Product session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/products/<span class="o">{</span>resourceReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/products/{resourceReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products/{resourceReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a39758cbf084f65a192ad39378f7e1b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured product.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/products</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Yes</td>
<td>Reference to the subscription service being purchased.</td>
</tr>
<tr>
<td><code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The URL location the account should be redirected to following a purchase attempt.</td>
</tr>
<tr>
<td><code class="prettyprint">processUpdateURL</code></td>
<td>string</td>
<td>No</td>
<td>The endpoint that should be notified of the successful purchase.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-session-configuration">Retrieve a Session Configuration</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prospect Sandbox"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientDefaultTimeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GMT Standard Time"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientDefaultUICulture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-GB"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createSessionInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bypassConfirmationPage"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelPaymentOnProcessUpdateFailure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"function"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddSubscription"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access to great content on a week by week basis."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="p">,</span><span class="w">
        </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"zeroRated"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"requiresDelivery"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotSet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotSet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16026</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voucherCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"newAccount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cardTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowRepeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureForAllTransactions"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureOnFirstTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowRepeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureForAllTransactions"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"use3DSecureOnFirstTransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"directDebitTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bacs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sepa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"allowed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the most simple integration, calling this endpoint will generate a payment session token that can be used for the client-side application (eSuite SDK) to purchase a pre-configured product.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/configurations/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>integer</td>
<td>The associated ClientId to your eSuite instance.</td>
</tr>
<tr>
<td><code class="prettyprint">clientName</code></td>
<td>string</td>
<td>The name associated to your eSuite instance.</td>
</tr>
<tr>
<td><code class="prettyprint">clientDefaultTimeZone</code></td>
<td>string</td>
<td>Friendly name of your configured time zone.</td>
</tr>
<tr>
<td><code class="prettyprint">clientDefaultUICulture</code></td>
<td>string</td>
<td>ISO representation of the configured culture.</td>
</tr>
<tr>
<td><code class="prettyprint">createSessionInfo</code> &#709;</td>
<td>object</td>
<td>Overarching session information object.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">bypassConfirmationPage</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">cancelPaymentOnProcessUpdateFailure</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">function</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">orderItems</code>  &#709;</td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">description</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">grossAmount</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">netAmount</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">taxInfo</code>  &#709;</td>
<td>object</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">taxAmount</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">category</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">region</code> &#709;</td>
<td>object</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">zeroRated</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">country</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">state</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">county</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">city</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; &#32; &#32;<code class="prettyprint">requiresDelivery</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">productId</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;<code class="prettyprint">serviceId</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62; <code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td><code class="prettyprint">newAccount</code></td>
<td>bool</td>
<td>An indication as to whether the flow is for a new or existing account.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentOptions</code>  &#709;</td>
<td>object</td>
<td>A collection of payment options and their configuration.</td>
</tr>
<tr>
<td>&#62;  <code class="prettyprint">cardTypes</code>  &#709;</td>
<td>array[object]</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;  <code class="prettyprint">name</code></td>
<td>string</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;   <code class="prettyprint">allowRepeats</code></td>
<td>bool</td>
<td>An indication as to whether the card type can be used for one-click payments.</td>
</tr>
<tr>
<td>&#62;  <code class="prettyprint">use3DSecureForAllTransactions</code></td>
<td>bool</td>
<td>An indication as to whether the card type requires 3D Secure.</td>
</tr>
<tr>
<td>&#62;   <code class="prettyprint">use3DSecureOnFirstTransaction</code></td>
<td>bool</td>
<td>An indication as to whether the card type requires 3D Secure on first use only.</td>
</tr>
<tr>
<td><code class="prettyprint">directDebitTypes</code>  &#709;</td>
<td>array[object]</td>
<td>string.</td>
</tr>
<tr>
<td>&#62;   <code class="prettyprint">name</code></td>
<td>string</td>
<td>Type fo direct debit.</td>
</tr>
<tr>
<td>&#62;  <code class="prettyprint">allowed</code></td>
<td>bool</td>
<td>An indication as to whether it is available.</td>
</tr>
</tbody></table>

<h2 id="create-a-subscription-session">Create a Subscription Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"workFlowConfiguration":{"pricing":{"priceId":18535}}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18535}}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18535}}}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a recurring subscription service, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/subscriptions</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">subscriptionId</code></td>
<td>string</td>
<td>No</td>
<td>The configured subscription service identifier</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">pricing</code></td>
<td>object</td>
<td>Yes</td>
<td>Pricing object for the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">priceId</code></td>
<td>integer</td>
<td>Yes*</td>
<td>The configured price identifier</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The payment method the customer should be presented by default</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>No</td>
<td>ISO Currency of the purchase e.g. <code class="prettyprint">EUR</code></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">priceItems</code></td>
<td>array[objects]</td>
<td>Yes*</td>
<td>Collection of individual items being purchased on a dynamic subscription</td>
</tr>
<tr>
<td><code class="prettyprint">priceItems</code> &gt; <code class="prettyprint">externalReference</code></td>
<td>string</td>
<td>No</td>
<td>Reference from a client system</td>
</tr>
<tr>
<td><code class="prettyprint">priceItems</code> &gt; <code class="prettyprint">supplierId</code></td>
<td>string</td>
<td>No</td>
<td>Supplier identifier from a client system</td>
</tr>
<tr>
<td><code class="prettyprint">priceItems</code> &gt; <code class="prettyprint">price</code></td>
<td>decimal</td>
<td>Yes</td>
<td>The price that will be paid for the line item</td>
</tr>
<tr>
<td><code class="prettyprint">priceItems</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>Yes</td>
<td>The description that will be displayed to the account</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">processUpdateUrl</code></td>
<td>string</td>
<td>No</td>
<td>External endpoint eSuite should notiffy of purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">cancelOnProcessUpdateFailure</code></td>
<td>bool</td>
<td>No</td>
<td>An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The location to be redirected to upon leaving the purchase flow</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">email</code></td>
<td>string</td>
<td>No</td>
<td>Accounts email address</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A pre-configured eSuite voucher code</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">securityToken</code></td>
<td>string</td>
<td>No</td>
<td>Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">disable3DSecure</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">permitUnverifiedAccoutPurchase</code></td>
<td>bool</td>
<td>No</td>
<td>Prevent accounts who have not verified their emails from making a purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">workFlowCustomParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the configuration</td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the account</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code></td>
<td>string</td>
<td>No</td>
<td>A collection of custom attributes associated to the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensetive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-product-session">Create a Product Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/products <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"workFlowConfiguration":{"pricing":{"priceId":18535}}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"workFlowConfiguration\":{\"pricing\":{\"priceId\":18535}}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/products"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18535}}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18535}}}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/products"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a one time product, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/products</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">pricing</code></td>
<td>object</td>
<td>Yes</td>
<td>Pricing object for the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">priceId</code></td>
<td>integer</td>
<td>Yes</td>
<td>The configured price identifier</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The payment method the customer should be presented by default</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">processUpdateUrl</code></td>
<td>string</td>
<td>No</td>
<td>External endpoint eSuite should notiffy of purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">cancelOnProcessUpdateFailure</code></td>
<td>bool</td>
<td>No</td>
<td>An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The location to be redirected to upon leaving the purchase flow</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">email</code></td>
<td>string</td>
<td>No</td>
<td>Accounts email address</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A pre-configured eSuite voucher code</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">securityToken</code></td>
<td>string</td>
<td>No</td>
<td>Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">disable3DSecure</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">permitUnverifiedAccoutPurchase</code></td>
<td>bool</td>
<td>No</td>
<td>Prevent accounts who have not verified their emails from making a purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">workFlowCustomParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the configuration</td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the account</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensetive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-one-off-charge-session">Create a One-off Charge Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"orderItems":[{"description":"Demonstration Request","priceBreakDown":{"grossAmount":10},"taxInfo":{"category":"Standard"}}],"workFlowConfiguration":{}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"orderItems\":[{\"description\":\"Demonstration Request\",\"priceBreakDown\":{\"grossAmount\":10},\"taxInfo\":{\"category\":\"Standard\"}}],\"workFlowConfiguration\":{}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"orderItems\":[{\"description\":\"Demonstration Request\",\"priceBreakDown\":{\"grossAmount\":10},\"taxInfo\":{\"category\":\"Standard\"}}],\"workFlowConfiguration\":{}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">orderItems</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Demonstration Request</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">priceBreakDown</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10},</span><span class="se">\"</span><span class="s2">taxInfo</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">category</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Standard</span><span class="se">\"</span><span class="s2">}}],</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">orderItems</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Demonstration Request</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">priceBreakDown</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10},</span><span class="se">\"</span><span class="s">taxInfo</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">category</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Standard</span><span class="se">\"</span><span class="s">}}],</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/miscellaneous-charge"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for a one off charge, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/miscellaneous-charge</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">processUpdateUrl</code></td>
<td>string</td>
<td>No</td>
<td>External endpoint eSuite should notiffy of purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">cancelOnProcessUpdateFailure</code></td>
<td>bool</td>
<td>No</td>
<td>An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The location to be redirected to upon leaving the purchase flow</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">email</code></td>
<td>string</td>
<td>No</td>
<td>Accounts email address</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A pre-configured eSuite voucher code</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">securityToken</code></td>
<td>string</td>
<td>No</td>
<td>Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">disable3DSecure</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">permitUnverifiedAccoutPurchase</code></td>
<td>bool</td>
<td>No</td>
<td>Prevent accounts who have not verified their emails from making a purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">workFlowCustomParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the configuration</td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the account</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">description</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">orderReference</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">comment</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">priceBreakdown</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; grossAmount</td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; netAmount</td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; taxAmount</td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>Yes</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">category</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensetive nature of some information contained in the `POST` request.
</aside>

<h2 id="create-a-credit-purchase-session">Create a Credit Purchase Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/workflows/configurations/service-credits <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"serviceCredits":{"description":"Credits to buy services","paidCredits":10,"freeCredits":0},"workFlowConfiguration":{}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"serviceCredits\":{\"description\":\"Credits to buy services\",\"paidCredits\":10,\"freeCredits\":0},\"workFlowConfiguration\":{}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"serviceCredits\":{\"description\":\"Credits to buy services\",\"paidCredits\":10,\"freeCredits\":0},\"workFlowConfiguration\":{}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/workflows/configurations/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">serviceCredits</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">description</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Credits to buy services</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paidCredits</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">freeCredits</span><span class="se">\"</span><span class="s2">:0},</span><span class="se">\"</span><span class="s2">workFlowConfiguration</span><span class="se">\"</span><span class="s2">:{}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">serviceCredits</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">description</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Credits to buy services</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paidCredits</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">freeCredits</span><span class="se">\"</span><span class="s">:0},</span><span class="se">\"</span><span class="s">workFlowConfiguration</span><span class="se">\"</span><span class="s">:{}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/workflows/configurations/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a305eb1d254488f8c0f12f2c086d534"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you would like to generate a more specific session for the purpose of purchasing a recurring subscription service, calling this endpoint will allow you to have full control of the information that will be contained. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflows/configurations/service-credits</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">workflowConfiguration</code></td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">subscriptionId</code></td>
<td>string</td>
<td>No</td>
<td>The configured subscription service identifier</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">pricing</code></td>
<td>object</td>
<td>Yes</td>
<td>Pricing object for the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>No</td>
<td>ISO Currency of the purchase e.g. <code class="prettyprint">EUR</code></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits</code></td>
<td>object</td>
<td>Yes</td>
<td>Pricing object for the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>No</td>
<td>A description to associate to the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits</code> &gt; <code class="prettyprint">paidCredits</code></td>
<td>string</td>
<td>No</td>
<td>The amount of credit which the account should pay for</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCredits</code> &gt; <code class="prettyprint">freeCredits</code></td>
<td>string</td>
<td>No</td>
<td>The amount of free credit which the account should receive</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">processUpdateUrl</code></td>
<td>string</td>
<td>No</td>
<td>External endpoint eSuite should notiffy of purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">cancelOnProcessUpdateFailure</code></td>
<td>bool</td>
<td>No</td>
<td>An indication as to whether eSuite should cancel the purchase on failure to recieve a call out response</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">returnUrl</code></td>
<td>string</td>
<td>No</td>
<td>The location to be redirected to upon leaving the purchase flow</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>Unique, non-irrevocable value. Used when eSuite is not primary IdAM</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">email</code></td>
<td>string</td>
<td>No</td>
<td>Accounts email address</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A pre-configured eSuite voucher code</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">securityToken</code></td>
<td>string</td>
<td>No</td>
<td>Value that is passed in the <code class="prettyprint">ProcessUpdate</code> callout to allow you to verify it is a legitimate call out</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">disable3DSecure</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication that 3D Secure should be disabled. Defaults to <code class="prettyprint">false</code></td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">permitUnverifiedAccoutPurchase</code></td>
<td>bool</td>
<td>No</td>
<td>Prevent accounts who have not verified their emails from making a purchase</td>
</tr>
<tr>
<td><code class="prettyprint">workflowConfiguration</code> &gt; <code class="prettyprint">workFlowCustomParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the configuration</td>
</tr>
<tr>
<td><code class="prettyprint">workFlowCustomParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the account</td>
</tr>
<tr>
<td><code class="prettyprint">customAccountParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
</tbody></table>

<aside class="info">
This endpoint can only be called using server-side authentication due to the sensetive nature of some information contained in the `POST` request.
</aside>

          <h1 id="workflow-purchases">Workflow Purchases</h1>

<h2 id="standard-subscription-purchase">Standard Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/subscriptions"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEPA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001DFTBDC03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the subscription service configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>eSuite generated voucher code that has been provided during the flow</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
</tr>
<tr>
<td><code class="prettyprint">renewalDay</code></td>
<td>integer</td>
<td>No</td>
<td>The date of the month the subscription should be renewed on, specifically for monthly or annual subscriptions</td>
</tr>
<tr>
<td><code class="prettyprint">renewalDayOffset</code></td>
<td>string</td>
<td>No</td>
<td>The number of days before or after the renewal date. This can be positive or negative</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the subscription should be purchased and started</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code></td>
<td>string</td>
<td>No</td>
<td>A collection of custom attributes associated to the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code></td>
<td>string</td>
<td>No</td>
<td>Account Group information</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> &gt; <code class="prettyprint">groupToken</code></td>
<td>string</td>
<td>No</td>
<td>The associated group account identifier</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> &gt; <code class="prettyprint">subscriberAccounts</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of accounts that should be assigned to the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>The clientUserId of the account that should be assigned</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">emailAddress</code></td>
<td>string</td>
<td>No</td>
<td>The email address of the account that should be assigned</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information for each account</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>string</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="standard-product-purchase">Standard Product Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/products"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/products</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">productDetails</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">productDetails</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>No</td>
<td>If the product description configured in eSuite should be overridden</td>
</tr>
<tr>
<td><code class="prettyprint">productDetails</code> &gt; <code class="prettyprint">referenceNumber</code></td>
<td>string</td>
<td>No</td>
<td>Client reference for the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">productDetails</code> &gt; <code class="prettyprint">comments</code></td>
<td>string</td>
<td>No</td>
<td>Any additional comments on the purchase</td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>eSuite generated voucher code that has been provided during the flow</td>
</tr>
<tr>
<td><code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication as to whether the purchase should be completed immediately or delayed</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementParameters</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
<tr>
<td><code class="prettyprint">orderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">orderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="standard-one-off-charge">Standard One-off Charge</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The payment method the account has selected to pay with if it differs from the initial configuration</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A voucher code provided by the account during the workflow</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">description</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">orderReference</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">comment</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>Yes</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">category</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="standard-credits-purchase">Standard Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/service-credits"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"redirectLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=34089573094093784"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the product configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The payment method the account has selected to pay with if it differs from the initial configuration</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A voucher code provided by the account during the workflow</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-subscription-purchase">Alternative Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/subscriptions"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001DFTBDC03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative subscription options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/subscription</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-product-purchase">Alternative Product Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/products"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"154847"</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative product purchase options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/products</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-one-off-charge">Alternative One-off Charge</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"basketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433M098765"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"externalOrderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134Order"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative one-off charge, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/miscellaneous-charge</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-credits-purchase">Alternative Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>Not available
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">available</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/workflow/purchases/service-credits"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"asynchronousProcessingParameters\":{\"paymentConfirmationToken\":\"12SDE45GVFT5TGFWSY6\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative credits purchase, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/workflow/purchases/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

          <h1 id="accounts">Accounts</h1>

<h2 id="crud-create-account">CRUD: Create Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{""email":"john.smith@mppglobal.com","clientUserId":"mpp-123456","salutation":"Mr","firstName":"John","lastName":"Smith","phoneNumber":"01513287445","dateOfBirth":"1991-04-12T00:00:01","gender":"Male","addresses":[{"addressType":"Home","houseName":"Blosson Cottage","houseNumber":"12a","street":"Flower Street","townCity":"Garden","district":"Allotment","county":null,"postCode":"NE21ZZ","country":"United Kingdom"}],"customParameters":{"colour":"Blue","referrer":"Facebook"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">mpp-123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">salutation</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Mr</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">phoneNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01513287445</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">dateOfBirth</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">gender</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Male</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addresses</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">addressType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Home</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blosson Cottage</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12a</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Flower Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Garden</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Allotment</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NE21ZZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">}],</span><span class="se">\"</span><span class="s2">customParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">colour</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blue</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">referrer</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Facebook</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">mpp-123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">salutation</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Mr</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">phoneNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01513287445</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">dateOfBirth</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">gender</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Male</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addresses</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">addressType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Home</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blosson Cottage</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12a</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Flower Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Garden</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Allotment</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NE21ZZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">}],</span><span class="se">\"</span><span class="s">customParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">colour</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blue</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">referrer</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Facebook</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code></td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code></td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">addressType</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">street</code></td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">townCity</code></td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">district</code></td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">postCode</code></td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<p><em>* It is mandatory to pass either an email address or a clientUserId. It is possible to provide both.</em></p>

<h2 id="crud-retrieve-account">CRUD: Retrieve Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once an account has been created within the eSuite platform, it is possible to return the account resource using the REST API.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code></td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code></td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">addressType</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">street</code></td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">townCity</code></td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">district</code></td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">postCode</code></td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<h2 id="crud-update-account">CRUD: Update Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{""email":"john.smith@mppglobal.com","clientUserId":"mpp-123456","salutation":"Mr","firstName":"John","lastName":"Smith","phoneNumber":"01513287445","dateOfBirth":"1991-04-12T00:00:01","gender":"Male","addresses":[{"addressType":"Home","houseName":"Blosson Cottage","houseNumber":"12a","street":"Flower Street","townCity":"Garden","district":"Allotment","county":null,"postCode":"NE21ZZ","country":"United Kingdom"}],"customParameters":{"colour":"Blue","referrer":"Facebook"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">mpp-123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">salutation</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Mr</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">phoneNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01513287445</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">dateOfBirth</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">gender</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Male</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addresses</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">addressType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Home</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blosson Cottage</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12a</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Flower Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Garden</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Allotment</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NE21ZZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">}],</span><span class="se">\"</span><span class="s2">customParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">colour</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blue</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">referrer</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Facebook</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">mpp-123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">salutation</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Mr</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">phoneNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01513287445</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">dateOfBirth</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">gender</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Male</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addresses</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">addressType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Home</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blosson Cottage</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12a</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Flower Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Garden</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Allotment</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NE21ZZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">}],</span><span class="se">\"</span><span class="s">customParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">colour</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blue</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">referrer</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Facebook</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-put">PUT</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code></td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code></td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">addressType</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">street</code></td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">townCity</code></td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">district</code></td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">postCode</code></td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<p><em>* It is mandatory to pass either an email address or a clientUserId. It is possible to provide both.</em></p>

<h2 id="crud-delete-account">CRUD: Delete Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}</span>
</div>

<h2 id="trigger-account-verification">Trigger Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/verify</span>
</div>

<h2 id="complete-account-verification">Complete Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"verificationToken":"BE52ADA2064C4F9A9D90F28D066D1RFT"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">verificationToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">verificationToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s">}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
   <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>Following the receiving of a verification email, the link contained within will take the customer to a page which has integrated this API methods and pass the verification token to eSuite to verifiy the account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/verify</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">verificationToken</code></td>
<td>string</td>
<td>Yes</td>
<td>This parameter represents the token that was contained within the email sent to the account.</td>
</tr>
</tbody></table>

<h2 id="trigger-forgotten-password">Trigger Forgotten Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/forgotten-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"emailAddress":"john.smith@mppglobal.com"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">emailAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">emailAddress</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/forgotten-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>In the event a customer is unable to access their account due to forgetting their credentials, this API method should be called to trigger an email to be sent to the customers which contains a link that will allow them to reset their password.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/forgotten-password</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">emailAddress</code></td>
<td>string</td>
<td>Yes</td>
<td>The email address associated to the customers account</td>
</tr>
</tbody></table>

<h2 id="reset-password">Reset Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/update-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-sessionid: BE52ADA2064C4F9A9D90F28D066D1RFT'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"password":"ReallyStr0ngP@ss0rd","login":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">login</span><span class="se">\"</span><span class="s2">:true}"</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">login</span><span class="se">\"</span><span class="s">:true}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">"x-sessionid"</span><span class="p">:</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/update-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns the following JSON document if login was provided as true:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b6dab2afbc4d42a385746a51b3bd2ed6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/update-password</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The new password for the account.</td>
</tr>
<tr>
<td><code class="prettyprint">login</code></td>
<td>boolean</td>
<td>Yes</td>
<td>An indication as to whether the customer should be provided a session following password update.</td>
</tr>
</tbody></table>

<h2 id="retrieve-transaction-summary">Retrieve Transaction Summary</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/transaction-summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalCustomerValue"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">56.2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalRefundsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingCreditBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.27</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will provide a breakdown of the accounts transaction summary both historically and future dated.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/accounts/{accountId}/transaction-summary</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalCustomerValue</code></td>
<td>Customer value broken down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">totalCustomerValue</code> &gt; totalValue</td>
<td>The sum of all payments minus any refunds</td>
</tr>
<tr>
<td><code class="prettyprint">totalCustomerValue</code> &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code></td>
<td>Total number of payments taken, broken down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code> &gt; totalValue</td>
<td>The sum of all payments taken against the account</td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code> &gt; averageValue</td>
<td>The average transaction amount</td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code> &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td><code class="prettyprint">totalPaymentsToDate</code> &gt; quantity</td>
<td>The number of payments which have been taken against the account</td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code></td>
<td>All refunds applied, broken down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code> &gt; totalValue</td>
<td>The sum of all refunds against the account</td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code> &gt; averageValue</td>
<td>The average transaction refund amount</td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code> &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td><code class="prettyprint">totalRefundsToDate</code> &gt; quantity</td>
<td>integer</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code></td>
<td>All outstanding payments, broken down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code> &gt; totalValue</td>
<td>The sum of all payments yet to be taken against the account</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code> &gt; averageValue</td>
<td>The average transaction amount</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code> &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingPaymentsToDate</code> &gt; quantity</td>
<td>Total number of outstanding payments</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance</code></td>
<td>All outstanding credit balances broken down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance</code> &gt; totalValue</td>
<td>The total amount credit on the account</td>
</tr>
<tr>
<td><code class="prettyprint">outstandingCreditBalance</code> &gt; currency</td>
<td>The currency the value represents</td>
</tr>
</tbody></table>

          <h1 id="account-authentication">Account Authentication</h1>

<h2 id="authenticate-via-email-and-password">Authenticate via email and password</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/authenticate/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"email":"john.smith@mppglobal.com","password":"pWzjWktsWN8M"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/authenticate/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/authenticate/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/authenticate/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pWzjWktsWN8M</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pWzjWktsWN8M</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/authenticate/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/authenticate/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">19874854</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14BB19DD3A5509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E79D7A1FC0314BB19DD3A5509B77584C"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When eSuite is being used as a primary identity platform, authentication is handled via the use of a registered email address and password. These values are provided as part of the registration request and then used on the <code class="prettyprint">POST</code> of this request to gain a session.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/authenticate/</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Yes</td>
<td>The registered address of the account being logged in</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The password provided as part of registration</td>
</tr>
</tbody></table>

<h2 id="authenticate-via-clientuserid">Authenticate via ClientUserId</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/authenticate/<span class="o">{</span>clientUserId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/authenticate/{clientUserId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"password\":\"pWzjWktsWN8M\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/authenticate/{clientUserId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/authenticate/{clientUserId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/authenticate/{clientUserId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">19874854</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14BB19DD3A5509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E79D7A1FC0314BB19DD3A5509B77584C"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Authentication via a ClientUserId is required when eSuite is not the primary identity platform. The ClientUserId will have been set during the registration of the account and will be a unique, non-revocable value.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/authenticate/{clientUserId}</span>
</div>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>Yes/No</td>
<td>Unique, irrevocable link that was added to the account at the point of registration.</td>
</tr>
</tbody></table>

<aside class="info">
Due to the sensetive nature of a ClientUserId it is not possible to call this endpoint using a client-side language.
</aside>

          <h1 id="external-identity-providers">External Identity Providers</h1>

<h2 id="retrieve-available-providers">Retrieve Available Providers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/external-providers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/external-providers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/external-providers"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"availableProviders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Twitter"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accountLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">        
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint provides a list of all available external providers that are available to the account on your instance of eSuite. The response also details whether the account has been linked to the external provider also.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/external-providers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">availableProviders</code></td>
<td>array[object]</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">availableProviders</code> &gt; <code class="prettyprint">providerName</code></td>
<td>string</td>
<td>The name of the external provider</td>
</tr>
<tr>
<td><code class="prettyprint">availableProviders</code> &gt; <code class="prettyprint">accountLinked</code></td>
<td>boolean</td>
<td>An indication as to whether the account has been linked to this provider</td>
</tr>
</tbody></table>

<h2 id="authenticate-via-facebook">Authenticate via Facebook</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"facebookRedirectURI":"https://uat.mppglobal.com","authorisationCode":"123FRDV56G","accessToken":"EAARUdAzQ9UABAOPiYCyZB","applicationIdentifier":"fc7cc423-dd26-4d38-bd18-52e5dae8a45b"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/authenticate/external-providers/facebook"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">facebookRedirectURI</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">authorisationCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123FRDV56G</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accessToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">applicationIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">facebookRedirectURI</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">https://uat.mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">authorisationCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123FRDV56G</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accessToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">EAARUdAzQ9UABAOPiYCyZB</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">applicationIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fc7cc423-dd26-4d38-bd18-52e5dae8a45b</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"api/accounts/authenticate/external-providers/facebook"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/authenticate/external-providers/facebook"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoAccountMatch"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6640ffaf3z954fdf8ba4342b51265e05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"providerProfileDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"developers@eSuite.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>An account is able to authenticate using their Facebook account and then retrieve information that will allow eSuite to create an account off those details stored with Facebook.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/external-providers/facebook</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">facebookRedirectURI</code></td>
<td>string</td>
<td>Yes/No</td>
<td>The location which should be called for validation of the code and token provided</td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code></td>
<td>string</td>
<td>Yes/No</td>
<td>Code provided by Facebook</td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code></td>
<td>string</td>
<td>Yes/No</td>
<td>Code provided by Facebook</td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code></td>
<td>string</td>
<td>Yes/No</td>
<td>The identifier for the eSuite application that the account is using</td>
</tr>
</tbody></table>

<h2 id="create-account-via-sso">Create Account via SSO</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/external-providers"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If during the authentication process with Facebook, eSuite deems the Facebook account is not currently registered in eSuite the account is required to be created within eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/external-providers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td><code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td><code class="prettyprint">salutation</code></td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">phoneNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">mobileNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td><code class="prettyprint">dateOfBirth</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code></td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">addressType</code></td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">street</code></td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">townCity</code></td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">district</code></td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">postCode</code></td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">address</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
<tr>
<td><code class="prettyprint">sessionToken</code></td>
<td>string</td>
<td>No</td>
<td>A session token linked to the account created</td>
</tr>
</tbody></table>

<h2 id="link-to-facebook">Link to Facebook</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/api/accounts/{accountId}/link/external-providers/facebook"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"facebookRedirectURI\":\"https://uat.mppglobal.com\",\"authorisationCode\":\"123FRDV56G\",\"accessToken\":\"EAARUdAzQ9UABAOPiYCyZB\",\"applicationIdentifier\":\"fc7cc423-dd26-4d38-bd18-52e5dae8a45b\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"NewLink"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to link an existing eSuite account to their Facebook profile.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/link/external-providers/facebook</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">facebookRedirectURI</code></td>
<td>string</td>
<td>Yes/No</td>
<td>The location which should be called for validation of the code and token provided</td>
</tr>
<tr>
<td><code class="prettyprint">authorisationCode</code></td>
<td>string</td>
<td>Yes/No</td>
<td>Code provided by Facebook</td>
</tr>
<tr>
<td><code class="prettyprint">accessToken</code></td>
<td>string</td>
<td>Yes/No</td>
<td>Code provided by Facebook</td>
</tr>
<tr>
<td><code class="prettyprint">applicationIdentifier</code></td>
<td>string</td>
<td>Yes/No</td>
<td>The identifier for the eSuite application that the account is using</td>
</tr>
</tbody></table>

          <h1 id="address-book">Address Book</h1>

<h2 id="crud-create-address">CRUD: Create Address</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"houseName":"Orange House","houseNumber":"119","street":"Colourful Street","townCity":"East Village","district":null,"state":null,"county":"Merseyside","postCode":"CH11 1GV","country":"United Kingdom","isDefault":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Orange House</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">119</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Colourful Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">East Village</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">state</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Merseyside</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CH11 1GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isDefault</span><span class="se">\"</span><span class="s2">:true}"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Orange House</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">119</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Colourful Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">East Village</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">state</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Merseyside</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CH11 1GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">isDefault</span><span class="se">\"</span><span class="s">:true}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The resource created is returned in the <em>Location</em> header of the response</p>
</blockquote>

<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/addresses</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">houseName</code></td>
<td>string</td>
<td>mandatory*</td>
<td>The name associated to the building</td>
</tr>
<tr>
<td><code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>mandatory*</td>
<td>The building number associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">street</code></td>
<td>string</td>
<td>mandatory</td>
<td>The street the address is located</td>
</tr>
<tr>
<td><code class="prettyprint">townCity</code></td>
<td>string</td>
<td>mandatory</td>
<td>The town or city the address is associated</td>
</tr>
<tr>
<td><code class="prettyprint">district</code></td>
<td>string</td>
<td>optional</td>
<td>The district associated with the address</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>string</td>
<td>optional</td>
<td>The state that the address is located</td>
</tr>
<tr>
<td><code class="prettyprint">county</code></td>
<td>string</td>
<td>optional</td>
<td>The county the address is associated</td>
</tr>
<tr>
<td><code class="prettyprint">postCode</code></td>
<td>string</td>
<td>mandatory</td>
<td>The postcode of the address that has been added</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>string</td>
<td>mandatory</td>
<td>The country the address is specific to</td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code></td>
<td>boolean</td>
<td>optional</td>
<td>An indication as to whether the address is the default address for the account</td>
</tr>
</tbody></table>

<p>*Either <code class="prettyprint">houseName</code> or <code class="prettyprint">houseNumber</code> is required but both are not mandatory.</p>

<h2 id="crud-retrieve-address-book">CRUD: Retrieve Address Book</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"addressBook"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010D04D2E807PQ953"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Orange House"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Colourful Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"East Village"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merseyside"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CH11 1GV"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/addresses</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">addressBook</code></td>
<td>array[object]</td>
<td>The list of addresses</td>
</tr>
<tr>
<td><code class="prettyprint">addressIdentifier</code></td>
<td>string</td>
<td>The address identifier that should be used to identify which address is required in future API requests</td>
</tr>
<tr>
<td><code class="prettyprint">houseName</code></td>
<td>string</td>
<td>The name associated to the building</td>
</tr>
<tr>
<td><code class="prettyprint">houseNumber</code></td>
<td>string</td>
<td>The building number associated to the address</td>
</tr>
<tr>
<td><code class="prettyprint">street</code></td>
<td>string</td>
<td>The street the address is located</td>
</tr>
<tr>
<td><code class="prettyprint">townCity</code></td>
<td>string</td>
<td>The town or city the address is associated</td>
</tr>
<tr>
<td><code class="prettyprint">district</code></td>
<td>string</td>
<td>The district associated with the address</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>string</td>
<td>The state that the address is located</td>
</tr>
<tr>
<td><code class="prettyprint">county</code></td>
<td>string</td>
<td>The county the address is associated</td>
</tr>
<tr>
<td><code class="prettyprint">postCode</code></td>
<td>string</td>
<td>The postcode of the address that has been added</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>string</td>
<td>The country the address is specific to</td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code></td>
<td>boolean</td>
<td>An indication as to whether the address is the default address for the account</td>
</tr>
</tbody></table>

          <h1 id="payment-details">Payment Details</h1>

<h2 id="add-a-credit-debit-card">Add a Credit/Debit Card</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details/card <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"cardNumber":"4111111111111111","cardType":"Visa",
  "expiryDate":"01/19",  "issueCode":null,"securityCode":"123", 
  "billingHouseName":"Lilac Cottage","billingHouseFlatNumber":"12",
  "billingStreet":"Windermere Road","billingDistrict":null,
  "billingTownCity":"Chester","billingCounty":"Cheshire",
  "billingPostcode":"CH638BF","billingCountry":"United Kingdom",
  "setDefault":true,"associatedName":"My Visa Card","skipPreAuth":false}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"Visa\",
</span>  <span class="p">+</span> <span class="s">"\"expiryDate\":\"01/19\",\"issueCode\":null,\"securityCode\":\"123\",
</span>  <span class="p">+</span> <span class="s">"\"billingHouseName\":\"Lilac Cottage\",\"billingHouseFlatNumber\":\"12\",\"billingStreet\":\"Windermere Road\",
</span>  <span class="p">+</span> <span class="s">"\"billingDistrict\":null,\"billingTownCity\":\"Chester\",\"billingCounty\":\"Cheshire\",
</span>  <span class="p">+</span> <span class="s">"\"billingPostcode\":\"CH638BF\",\"billingCountry\":\"United Kingdom\",\"setDefault\":true,
</span>  <span class="p">+</span> <span class="s">"\"associatedName\":\"My Visa Card\",\"skipPreAuth\":false}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"Visa\",\"expiryDate\":\"01/19\",\"issueCode\":null,\"securityCode\":\"123\",\"billingHouseName\":\"Lilac Cottage\",\"billingHouseFlatNumber\":\"12\",\"billingStreet\":\"Windermere Road\",\"billingDistrict\":null,\"billingTownCity\":\"Chester\",\"billingCounty\":\"Cheshire\",\"billingPostcode\":\"CH638BF\",\"billingCountry\":\"United Kingdom\",\"setDefault\":true,\"associatedName\":\"My Visa Card\",\"skipPreAuth\":false}"</span><span class="o">).</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cardNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4111111111111111</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cardType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Visa</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">expiryDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01/19</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">issueCode</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">cvv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingHouseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Lilac House</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingHouseFlatNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingStreet</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Windermere Road</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingDistrict</span><span class="se">\"</span><span class="s2">:null</span><span class="se">\"</span><span class="s2">billingTownCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Chester</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingCounty</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cheshire</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingPostcode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CH638BF</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingCountry</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">setDefault</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">associatedName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">My Visa Card</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">skipPreAuth</span><span class="se">\"</span><span class="s2">:false}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cardNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4111111111111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">cardType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Visa</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">expiryDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01/19</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">issueCode</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">cvv</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingHouseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Lilac House</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingHouseFlatNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingStreet</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Windermere Road</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingDistrict</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">billingTownCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Chester</span><span class="se">\"\"</span><span class="s">billingCounty</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cheshire</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingPostcode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CH638BF</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingCountry</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">setDefault</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">associatedName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">My Visa Card</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">skipPreAuth</span><span class="se">\"</span><span class="s">:false}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/card"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to make a purchase using a credit or debit card, a card must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/:accountId/payment-details/card</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cardNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The 13-19 digit number on the face of a credit or debit card.</td>
</tr>
<tr>
<td><code class="prettyprint">cardType</code></td>
<td>string</td>
<td>Yes</td>
<td>The type of card the account is adding, Visa, Mastercard, Amex, Diners, Discover.</td>
</tr>
<tr>
<td><code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The date at which the card will expire, mm-yy.</td>
</tr>
<tr>
<td><code class="prettyprint">issueCode</code></td>
<td>string</td>
<td>No</td>
<td>The number of cards the acquirer has issues for the account.</td>
</tr>
<tr>
<td><code class="prettyprint">securityCode</code></td>
<td>string</td>
<td>Yes</td>
<td>3-4 digit code on the rear of a card.</td>
</tr>
<tr>
<td><code class="prettyprint">billingHouseName</code></td>
<td>string</td>
<td>No</td>
<td>The building name in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingHouseFlatNumber</code></td>
<td>string</td>
<td>No</td>
<td>The building number at which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingStreet</code></td>
<td>string</td>
<td>No</td>
<td>The street in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingDistrict</code></td>
<td>string</td>
<td>No</td>
<td>The district in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingTownCity</code></td>
<td>string</td>
<td>No</td>
<td>The town or city in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingPostcode</code></td>
<td>string</td>
<td>No</td>
<td>The post code in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">billingCountry</code></td>
<td>string</td>
<td>No</td>
<td>The country in which the card is registered.</td>
</tr>
<tr>
<td><code class="prettyprint">setDefault</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication as to whether this card will be the customers default card.</td>
</tr>
<tr>
<td><code class="prettyprint">associatedName</code></td>
<td>string</td>
<td>No</td>
<td>A friendly name to identify the payment card to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">skipPreAuth</code></td>
<td>boolean</td>
<td>No</td>
<td>An indication as to whether the card should be authorised as part of the addition process.</td>
</tr>
</tbody></table>

<aside class="error">
Remember  you must authorise a card before it can be used
</aside>

<h2 id="add-a-bacs-direct-debit-wallet">Add a BACS Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steven Smith","accountNumber":"11111111","sortCode":"000000",
  "bacsReference":"AE34567LZ","serviceId":124875}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-tokenid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"Steven Smith\",
</span>  <span class="s">"\"accountNumber\":\"11111111\",\"sortCode\":\"000000\",\"bacsReference\":\"AE34567LZ\",\"serviceId\":124875}"</span><span class="p">,</span> 
  <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-tokenid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"Steven Smith\",\"accountNumber\":\"11111111\",\"sortCode\":\"000000\",
    "</span><span class="err">\</span><span class="s">"bacsReference\":\"AE34567LZ\",\"serviceId\":124875}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Steven Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">11111111</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">sortCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">000000</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">bacsReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AE34567LZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">serviceId</span><span class="se">\"</span><span class="s2">:124875}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Steven Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">11111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">sortCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">000000</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">bacsReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AE34567LZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">serviceId</span><span class="se">\"</span><span class="s">:124875}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/bacs"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using BACS Direct Debit, a BACS wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/:accountId/payment-details/bacs</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountHolderName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the bank account.</td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code></td>
<td>string</td>
<td>Yes</td>
<td>The UK bank account number.</td>
</tr>
<tr>
<td><code class="prettyprint">sortCode</code></td>
<td>string</td>
<td>Yes</td>
<td>The bank sort code associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">bacsReference</code></td>
<td>string</td>
<td>No</td>
<td>The existing mandate reference if the account is coming from another system.</td>
</tr>
<tr>
<td><code class="prettyprint">serviceId</code></td>
<td>integer</td>
<td>Yes</td>
<td>The eSuite ServiceId that this BACS wallet will be used for.</td>
</tr>
</tbody></table>

<h2 id="add-a-sepa-direct-debit-wallet">Add a SEPA Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steve Smith","iban":"IE64BOFI90583812345678",
  "bic":"BOFIIE2D","serviceId":148754}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"Steve Smith\",
</span> <span class="s">"\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\",\"serviceId\":148754}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/sepa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"Steve Smith\",\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\",
   "</span><span class="err">\</span><span class="s">"serviceId\":148754}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/sepa"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Steve Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">iban</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">bic</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BOFIIE2D</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">serviceId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">148754</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Steve Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">iban</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">bic</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BOFIIE2D</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">serviceId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">148754</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/sepa"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using SEPA Direct Debit, a SEPA wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/:accountId/payment-details/sepa</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountHolderName</code></td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the bank account.</td>
</tr>
<tr>
<td><code class="prettyprint">iban</code></td>
<td>string</td>
<td>Yes</td>
<td>The bank account number.</td>
</tr>
<tr>
<td><code class="prettyprint">bic</code></td>
<td>string</td>
<td>Yes</td>
<td>The bank identification code associated to the account.</td>
</tr>
<tr>
<td><code class="prettyprint">serviceId</code></td>
<td>integer</td>
<td>Yes</td>
<td>The eSuite ServiceId that this BACS wallet will be used for.</td>
</tr>
</tbody></table>

<h2 id="get-payment-details">Get payment details</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientid"</span>, <span class="s2">"1001"</span><span class="o">)</span> <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientpassword"</span>, <span class="s2">"Str0ngP@ssword"</span><span class="o">)</span><span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"associatedName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Bloggs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseFlatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingStreet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wigan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingDistrict"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingTownCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolton"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCounty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingPostcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kindom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"****-****-****-1111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"issueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"payPal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135785"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves the payment details stored against an eSuite account.</p>

<aside class="warning">Only credit/debit cards and repeatable PayPal tokens are returned via this endpoint.</aside>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/:accountId/payment-details</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentDetails</code></td>
<td>array[object]</td>
<td>The collection of payment details available for the account.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code></td>
<td>array[object]</td>
<td>The collection of payment cards available for the account.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">associatedName</code></td>
<td>string</td>
<td>Associated name to identify the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingHouseName</code></td>
<td>string</td>
<td>The name of the house the card is associated to.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingHouseFlatNumber</code></td>
<td>string</td>
<td>The number of the house the card is associated to.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingStreet</code></td>
<td>string</td>
<td>The street associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingDistrict</code></td>
<td>string</td>
<td>The district associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingTownCity</code></td>
<td>string</td>
<td>The town or city associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingCounty</code></td>
<td>string</td>
<td>The county associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingPostcode</code></td>
<td>string</td>
<td>The postcode associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">billingCountry</code></td>
<td>string</td>
<td>The country associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">cardNumber</code></td>
<td>string</td>
<td>A masked representation of the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">cardType</code></td>
<td>string</td>
<td>The card brand associated to the card.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>The date at which the card is due to expire.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">isDefault</code></td>
<td>boolean</td>
<td>An indication as to whether this card is the default for the account.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">issueCode</code></td>
<td>string</td>
<td>Issue number typically found on debit and bank cards.</td>
</tr>
<tr>
<td><code class="prettyprint">cards</code> &gt; <code class="prettyprint">paymentDetailId</code></td>
<td>string</td>
<td>The identifier of the card within eSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">payPal</code></td>
<td>object</td>
<td>PayPal object detailing information about the customers PayPal account.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentDetailId</code></td>
<td>string</td>
<td>The identifier of the PayPal wallet within eSuite.</td>
</tr>
</tbody></table>

          <h1 id="purchases">Purchases</h1>

<h2 id="standard-subscription-purchase">Standard Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"pricing":{"priceId":18763,"paymentMethod":"CreditCard"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"pricing\":{\"priceId\":18763,\"paymentMethod\":\"CreditCard\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"pricing\":{\"priceId\":18763,\"paymentMethod\":\"CreditCard\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">pricing</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">priceId</span><span class="se">\"</span><span class="s2">:18763,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">pricing</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">priceId</span><span class="se">\"</span><span class="s">:18763,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DirectDebit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of standard payment options, making the following <code class="prettyprint">POST</code> request will purchase the subscription service configured within the initial configuration request. A simple payment type is <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>eSuite generated voucher code that has been provided during the flow</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
</tr>
<tr>
<td><code class="prettyprint">renewalDay</code></td>
<td>integer</td>
<td>No</td>
<td>The date of the month the subscription should be renewed on, specifically for monthly or annual subscriptions</td>
</tr>
<tr>
<td><code class="prettyprint">renewalDayOffset</code></td>
<td>string</td>
<td>No</td>
<td>The number of days before or after the renewal date. This can be positive or negative</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the subscription should be purchased and started</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The type of payment method the account has selected. Standard methods are <code class="prettyprint">CreditCard</code> <code class="prettyprint">DirectDebit</code>, <code class="prettyprint">Service Credits</code> or <code class="prettyprint">SEPA</code>. Other methods are available</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code></td>
<td>string</td>
<td>No</td>
<td>A collection of custom attributes associated to the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">customSubscriptionParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code></td>
<td>string</td>
<td>No</td>
<td>Account Group information</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> &gt; <code class="prettyprint">groupToken</code></td>
<td>string</td>
<td>No</td>
<td>The associated group account identifier</td>
</tr>
<tr>
<td><code class="prettyprint">groupSubscriptionInfo</code> &gt; <code class="prettyprint">subscriberAccounts</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of accounts that should be assigned to the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">clientUserId</code></td>
<td>string</td>
<td>No</td>
<td>The clientUserId of the account that should be assigned</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">emailAddress</code></td>
<td>string</td>
<td>No</td>
<td>The email address of the account that should be assigned</td>
</tr>
<tr>
<td><code class="prettyprint">subscriberAccounts</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>No</td>
<td>Collection of tax information for each account</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>string</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="standard-credits-purchase">Standard Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/service-credits <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"paymentMethod":"CreditDebitCard","currency":"GBP","paidCredits":10.12,"freeCredits":10.99}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">equest</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"paymentMethod\":\"CreditDebitCard\",\"currency\":\"GBP\",\"paidCredits\":10.12,\"freeCredits\":10.99}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"paymentMethod\":\"CreditDebitCard\",\"currency\":\"GBP\",\"paidCredits\":10.12,\"freeCredits\":10.99}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditDebitCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paidCredits</span><span class="se">\"</span><span class="s2">:10.12,</span><span class="se">\"</span><span class="s2">freeCredits</span><span class="se">\"</span><span class="s2">:10.99}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditDebitCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paidCredits</span><span class="se">\"</span><span class="s">:10.12,</span><span class="se">\"</span><span class="s">freeCredits</span><span class="se">\"</span><span class="s">:10.99}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"redirectL:ink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my-payments.com/?token=12345"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/service-credits</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>No</td>
<td>The payment method the account has selected to pay with if it differs from the initial configuration</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>Security code of a card if the payment method is set to <code class="prettyprint">creditDebitCard</code></td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>A voucher code provided by the account during the workflow</td>
</tr>
<tr>
<td><code class="prettyprint">paidCredits</code></td>
<td>number</td>
<td>Optional</td>
<td>The amount of credits the account is purchasing</td>
</tr>
<tr>
<td><code class="prettyprint">freeCredits</code></td>
<td>number</td>
<td>Optional</td>
<td>The amount of credits the account will receive without charge</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to trigger an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousInitiationParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-subscription-purchase">Alternative Subscription Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscription <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"asynchronousProcessingParameters":{"paymentToken":"ASWDE345YGT"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscription"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ASWDE345YGT</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ASWDE345YGT</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscription"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amountCharged"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DirectDebit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDayOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"renewalDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-01T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4555888</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionPriceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">568845</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458845"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ResourceReference"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative subscription options, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

<h2 id="alternative-credits-purchase">Alternative Credits Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/service-credits <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"asynchronousProcessingParameters":{"paymentToken":"ASWDE345YGT"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"asynchronousProcessingParameters\":{\"paymentToken\":\"ASWDE345YGT\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/service-credits"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ASWDE345YGT</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">asynchronousProcessingParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ASWDE345YGT</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/service-credits"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">154874</span><span class="p">,</span><span class="w">
      </span><span class="s2">"asynchronousProcessingParameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For the completion of alternative credits purchase, making the following <code class="prettyprint">PATCH</code> request will purchase the subscription service configured within the initial configuration request. A alternative payment type is <code class="prettyprint">PayPal</code> <code class="prettyprint">Alipay</code>, and any other which requires a redirect.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/service-credits</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>string</td>
<td>No</td>
<td>Parameter set provided if you would like to complete an advanced payment type</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Parameter name specific to the alternative payment method provided</td>
</tr>
</tbody></table>

          <h1 id="subscription-management">Subscription Management</h1>

<h2 id="crud-create-a-holiday">CRUD: Create a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"startDate":"2017-07-04T00:00:00","endDate":"2017-07-14T23:59:59"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 200 with JSON similar to the below.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to create a holiday period for a specific subscription. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="crud-retrieve-a-holiday">CRUD: Retrieve a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionHolidayReference</code></td>
<td>string</td>
<td>Reference to the holiday.</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionReference</code></td>
<td>string</td>
<td>Reference to the subscription.</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="crud-update-a-holiday">CRUD: Update a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/StartDate/","value":"2017-08-04 00:00:00Z"},{"op":"replace","path":"/EndDate/","value":"2017-09-04 00:00:00Z"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="n">patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/StartDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/EndDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/StartDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/EndDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In the event you need to update a subscription holiday, this end point should be called to edit those which have not started.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-put">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">op</code></td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="crud-delete-a-holiday">CRUD: Delete a holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon completion.</p>
</blockquote>

<p>If an account would like to cancel their subscription holiday, this endpoint should be called.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</span>
</div>

<h2 id="retrieve-all-subscription-holidays">Retrieve all subscription holidays</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td>array[objects]</td>
<td>The collection of support log entries.</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionHolidayReference</code></td>
<td>string</td>
<td>Reference to the holiday.</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionReference</code></td>
<td>string</td>
<td>Reference to the subscription.</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

          <h1 id="payment-management">Payment Management</h1>

<h2 id="make-a-payment">Make a Payment</h2>
<pre class="highlight shell tab-shell"><code>
</code></pre><pre class="highlight csharp tab-csharp"><code>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight ruby tab-ruby"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>This end point is present for server-side integrations to take a payment against an account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/orders</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">settlementType</code></td>
<td>string</td>
<td>No</td>
<td>An indication whether to complete immediately or at a later date. <code class="prettyprint">Pending</code> or <code class="prettyprint">NextAvailable</code> are the available values</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code></td>
<td>object</td>
<td>Optional</td>
<td>Pricing Information object</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>Optional</td>
<td>The payment method the account would like to pay using</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>Optional</td>
<td>The currency the payment should be taken in</td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>No</td>
<td>eSuite generated voucher code that has been provided during the flow</td>
</tr>
<tr>
<td><code class="prettyprint">cvv</code></td>
<td>string</td>
<td>No</td>
<td>If the purchase is being made using an non-authorised card, this parameter can be passed in to enable authorisation to take place</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">description</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">orderReference</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">comment</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">priceBreakdown</code></td>
<td>object</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; <code class="prettyprint">grossAmount</code></td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; <code class="prettyprint">netAmount</code></td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">priceBreakdown</code> &gt; <code class="prettyprint">taxAmount</code></td>
<td>decimal</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">customOrderParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes associated to the payment</td>
</tr>
<tr>
<td><code class="prettyprint">customOrderParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>The custom attribute name</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">entitlements</code></td>
<td>array[object]</td>
<td>No</td>
<td>A collection of additional entitlements to provide the account on purchase</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">identifier</code></td>
<td>string</td>
<td>No</td>
<td>Identifier for the entitlement being purchased</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>No</td>
<td>The date on which the entitlement should be valid from</td>
</tr>
<tr>
<td><code class="prettyprint">entitlements</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>No</td>
<td>The date at which the account is no longer entitled to the content</td>
</tr>
<tr>
<td><code class="prettyprint">orderItems</code> &gt; <code class="prettyprint">taxInfo</code></td>
<td>object</td>
<td>Yes</td>
<td>Collection of tax information</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">category</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">zeroRated</code></td>
<td>boolean</td>
<td>No</td>
<td>Indication as to whether the purchase is tax exempt</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">country</code></td>
<td>string</td>
<td>No</td>
<td>Country specific tax rate to use</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">state</code></td>
<td>string</td>
<td>No</td>
<td>State specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">county</code></td>
<td>string</td>
<td>No</td>
<td>County specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">taxInfo</code> &gt; <code class="prettyprint">city</code></td>
<td>string</td>
<td>No</td>
<td>City specific tax rate to use (US Specific)</td>
</tr>
<tr>
<td><code class="prettyprint">asynchronousProcessingParameters</code></td>
<td>object</td>
<td>Optional</td>
<td>Asynchronous Processing Parameters</td>
</tr>
</tbody></table>

<h2 id="crud-retrieve-payments">CRUD: Retrieve Payments</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://uat.mppglobal.com/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payments?createDateFrom=2010-07-06T09:06:28.640Z&amp;createDateTo=2017-07-06T09:06:28.640Z&amp;rowsPerPage=10&amp;currentPage=1"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010OOFT3RWEJPHMK1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010OOZT3RWEJPHMK1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"paymentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010OOPP3RWEJPHMK1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-06T09:06:28.640Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A example payment description"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"priceBreakdown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customPaymentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"externalPaymentRefernece"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AB45frdSEGDF"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all payments for a given account.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payments</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td>array[objects]</td>
<td>The collection of support log entries.</td>
</tr>
<tr>
<td>subscriptionHolidayReference</td>
<td>string</td>
<td>Reference to the holiday.</td>
</tr>
<tr>
<td>subscriptionReference</td>
<td>string</td>
<td>Reference to the subscription.</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="crud-update-a-payment">CRUD: Update a Payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>//api/payments/<span class="o">{</span>paymentReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/status","value":"pending"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pending</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pending</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}//api/payments/{paymentReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"pending\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204.</p>
</blockquote>

<p>This endpoint allows you to edit parameters of the payment that has been returned in the GET request (including custom parameters).</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/payments/{paymentReferene}</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>-</td>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
</tr>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="refund-a-payment">Refund a Payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/payments/<span class="o">{</span>paymentReference<span class="o">}</span>/refund <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data <span class="s1">'{"amount":20,"triggerBackOfficeEmail":true,"reason":"Customer has returned their goods.","reasonCode":"0012B","refundAsServiceCredits":true,"serviceCreditExpiry":"2018-07-05"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"amount\":20,\"triggerBackOfficeEmail\":true,\"reason\":\"Customer has returned their goods.\",\"reasonCode\":\"0012B\",\"refundAsServiceCredits\":true,\"serviceCreditExpiry\":\"2018-07-05\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"amount\":20,\"triggerBackOfficeEmail\":true,\"reason\":\"Customer has returned their goods.\",\"reasonCode\":\"0012B\",\"refundAsServiceCredits\":true,\"serviceCreditExpiry\":\"2018-07-05\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/payments/{paymentReference}/refund"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:20,</span><span class="se">\"</span><span class="s2">triggerBackOfficeEmail</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">reason</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Customer has returned their goods.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">reasonCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0012B</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">refundAsServiceCredits</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">serviceCreditExpiry</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2018-07-05</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">:20,</span><span class="se">\"</span><span class="s">triggerBackOfficeEmail</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">reason</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Customer has returned their goods.</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">reasonCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0012B</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">refundAsServiceCredits</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">serviceCreditExpiry</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2018-07-05</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/payments/{paymentReference}/refund"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span> <span class="nx">from</span> <span class="nx">a</span> <span class="nx">client</span><span class="o">-</span><span class="nx">side</span> <span class="nx">application</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 with a location header of the new payment reference created:</p>
</blockquote>

<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/orders/{orderId}/refund</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>Yes</td>
<td>The amount of money that should be refunded to the account.</td>
</tr>
<tr>
<td>triggerBackOfficeEmail</td>
<td>boolean</td>
<td>Optional</td>
<td>An indication as to whether a backoffice system should be notified.</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Optional</td>
<td>Additional information as to why the refund is being performed</td>
</tr>
<tr>
<td>reasonCode</td>
<td>string</td>
<td>Optional</td>
<td>A code specific to your business for refund types</td>
</tr>
<tr>
<td>refundAsServiceCredits</td>
<td>bool</td>
<td>Optional</td>
<td>Define whether you would like the refund to be executed against the originating payment method or as a credit on the account.</td>
</tr>
<tr>
<td>serviceCreditExpiry</td>
<td>string</td>
<td>Optional</td>
<td>The date at which the service credits would expire.</td>
</tr>
</tbody></table>

          <h1 id="payment-instructions">Payment Instructions</h1>

<h2 id="crud-create-a-payment-instruction">CRUD: Create a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"cartReference":"A12347853S","paymentMethod":"SEPA","addressReference":"B123678542","voucherCode":"5OFFABCD","fulfilmentInfo":[{"fulfilmentType":"Digital","addressReference":"B123678542GV","fulfilmentDates":["2018-03-01T00:00:00"],"leadTime":4,"associatedPayments":{"paymentDates":["2018-03-01T00:00:00","2018-05-01T00:00:00","2018-05-01T00:00:00"],"customPaymentParameters":{"originator":"DirectSale"}},"customFulfilmentParameters":{"instructions":"Leave in garage."}}],"synchronousPaymentInfo":{"paymentMethod":"CreditCard","customPaymentParameters":null},"customPaymentInstructionParameters":{"paymentType":"pre-paid"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cartReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">A12347853S</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SEPA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">voucherCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">5OFFABCD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentInfo</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">fulfilmentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Digital</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">leadTime</span><span class="se">\"</span><span class="s2">:4,</span><span class="se">\"</span><span class="s2">associatedPayments</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">originator</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">DirectSale</span><span class="se">\"</span><span class="s2">}},</span><span class="se">\"</span><span class="s2">customFulfilmentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">instructions</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Leave in garage.</span><span class="se">\"</span><span class="s2">}}],</span><span class="se">\"</span><span class="s2">synchronousPaymentInfo</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:null},</span><span class="se">\"</span><span class="s2">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pre-paid</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cartReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">A12347853S</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SEPA</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">voucherCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">5OFFABCD</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentInfo</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">fulfilmentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Digital</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">leadTime</span><span class="se">\"</span><span class="s">:4,</span><span class="se">\"</span><span class="s">associatedPayments</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">originator</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">DirectSale</span><span class="se">\"</span><span class="s">}},</span><span class="se">\"</span><span class="s">customFulfilmentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">instructions</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Leave in garage.</span><span class="se">\"</span><span class="s">}}],</span><span class="se">\"</span><span class="s">synchronousPaymentInfo</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:null},</span><span class="se">\"</span><span class="s">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pre-paid</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 201 alongside a response Header of Location.</p>
</blockquote>

<p>This endpoint allows you to create a payment instruction. </p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cartReference</code></td>
<td>string</td>
<td>Yes</td>
<td>The cart which is default for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>Yes</td>
<td>The default payment method for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">addressReference</code></td>
<td>string</td>
<td>Yes</td>
<td>The reference addrress the fulfilments will be delivered to.</td>
</tr>
<tr>
<td><code class="prettyprint">voucherCode</code></td>
<td>string</td>
<td>Yes</td>
<td>A discount code generated from eSuite</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code></td>
<td>array[objects]</td>
<td>Yes</td>
<td>Information relating to each fulfilment and associated payments</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> &gt; <code class="prettyprint">fulfilmentType</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> &gt; <code class="prettyprint">addressReference</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> &gt; <code class="prettyprint">fulfilmentDates</code></td>
<td>array[string]</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> &gt; <code class="prettyprint">leadTime</code></td>
<td>integer</td>
<td>No</td>
<td>The number of days lead time needed by a supplier</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentInfo</code> &gt; <code class="prettyprint">associatedPayments</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">associatedPayments</code> &gt; <code class="prettyprint">paymentDates</code></td>
<td>array[string]</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code> &gt; <code class="prettyprint">ParameterName</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>This is a collection of custom attributes against the fulfilments.</td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>Representation of all custom parameters against the fulfilments.</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>This is a collection of custom attributes against the payment instructions.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Representation of all custom parameters against the payment instruction.</td>
</tr>
</tbody></table>

<h2 id="crud-retrieve-a-payment-instruction">CRUD: Retrieve a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fulfilmentPaymentMappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fulfilments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"expectedDeliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-30T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"supplierNotificationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-27T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"addressReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010DF5QFO4XK5H0L0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customFulfilmentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"paymentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010H00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-23T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customPaymentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a specific support log, for a specific account. </p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentInstructionReference</code></td>
<td>string</td>
<td>The identifier for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>string</td>
<td>The status of the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>string</td>
<td>The currency against the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">cartReference</code></td>
<td>string</td>
<td>The cart which is default for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings</code></td>
<td>array[objects]</td>
<td>An array of objects that map payments to their associated fulfilments.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings</code> &gt; <code class="prettyprint">fulfilments</code></td>
<td>array[objects]</td>
<td>An array of all fulfilments for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">fulfilmentReference</code></td>
<td>string</td>
<td>The reference identifier to the fulfilment</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">fulfilmentStatus</code></td>
<td>string</td>
<td>The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">fulfilmentType</code></td>
<td>string</td>
<td>Indication as to whether it is a digital or physical fulfilment.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">expectedDeliveryDate</code></td>
<td>string</td>
<td>The date and time the account expects to receive their goods.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">supplierNotificationDate</code></td>
<td>string</td>
<td>The date and time at which eSuite will notify the fulfilment system.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">addressReference</code></td>
<td>string</td>
<td>The reference addrress the fulfilment will be delivered to.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">dateCreated</code></td>
<td>string</td>
<td>The date and time the fulfilment was created.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">dateLastUpdated</code></td>
<td>string</td>
<td>The date and time the fulfilment was last updated.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilments</code> &gt; <code class="prettyprint">customFulfilmentParameters</code></td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the fulfilment.</td>
</tr>
<tr>
<td><code class="prettyprint">customFulfilmentParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Representation of all custom parameters against the fulfilment.</td>
</tr>
<tr>
<td><code class="prettyprint">fulfilmentPaymentMappings</code> &gt; <code class="prettyprint">payments</code></td>
<td>array[objects]</td>
<td>An array of all payments for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">paymentReference</code></td>
<td>string</td>
<td>The reference identifier to the fulfilment</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">paymentDate</code></td>
<td>string</td>
<td>The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">paymentStatus</code></td>
<td>string</td>
<td>Indication as to whether it is a digital or physical fulfilment.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">vatAmount</code></td>
<td>string</td>
<td>The amount apportioned to tax.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">grossAmount</code></td>
<td>string</td>
<td>The amount charged and submitted to the merchant.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">netAmount</code></td>
<td>string</td>
<td>The amount charged minus tax.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">dateCreated</code></td>
<td>string</td>
<td>The date and time the payment was created.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">dateLastUpdated</code></td>
<td>string</td>
<td>The date and time the payment was last updated.</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code> &gt; <code class="prettyprint">customPaymentParameters</code></td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payments.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Representation of all custom parameters against the payment.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code></td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payment instructions.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Representation of all custom parameters against the payment instruction.</td>
</tr>
</tbody></table>

<h2 id="crud-update-a-payment-instruction">CRUD: Update a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/Status","value":"Cancelled"},{"op":"add","path":"/CancellationCode","value":"0.14"},{"op":"add","path":"/CancellationReason","value":"this is a value"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cancelled</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationCode</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.14</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationReason</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">this is a value</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/Status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cancelled</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationCode</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0.14</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationReason</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">this is a value</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>

<p>In the event you need to update a payment instruction, this end point should be called to edit specific attributes of the payment instructions.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">-</code></td>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
</tr>
<tr>
<td><code class="prettyprint">op</code></td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-summary-of-payment-instructions">Retrieve a summary of Payment Instructions</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre-paid"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a summary of all payment instructions against a specific account.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary/</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentInstructions</code></td>
<td>array[objects]</td>
<td>The collection of payment instructions.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentInstructionReference</code></td>
<td>string</td>
<td>The identifier for the specific payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">cartReference</code></td>
<td>string</td>
<td>The identifier for the Cart for the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">nextFulfilmentReference</code></td>
<td>string</td>
<td>The identifier for the next fulfilment on the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">nextFulfilmentDate</code></td>
<td>string</td>
<td>The next date a fulfilment will be dispatched.</td>
</tr>
<tr>
<td><code class="prettyprint">lastPaymentDate</code></td>
<td>integer</td>
<td>The date the last payment was taken against the payment instruction.</td>
</tr>
<tr>
<td><code class="prettyprint">nextPaymentDate</code></td>
<td>string</td>
<td>The next scheduled date a payment will be taken.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td>The name/description of the payment instruction</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code></td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payment instructions.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentInstructionParameters</code> &gt; `parameterName</td>
<td>string</td>
<td>Representation of all custom parameters against the payment instruction.</td>
</tr>
</tbody></table>

          <h1 id="fulfilment-management">Fulfilment Management</h1>

<h2 id="crud-edit-a-fulfilment">CRUD: Edit a Fulfilment</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/fulfiment/<span class="o">{</span>fulfilmentReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/Status","value":"Cancelled"},{"op":"add","path":"/CustomFulfilmentParameters/ParameterName","value":"NewParameterValue"},{"op":"replace","path":"/AddressReference","value":"QIUQIEUQIEU8173"},{"op":"replace","path":"/ExpectedDeliveryDate","value":"2017-07-07T00:00:00"},{"op":"replace","path":"/SupplierNotificationDate","value":"2017-06-07T00:00:00"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">patch</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cancelled</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CustomFulfilmentParameters/ParameterName</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NewParameterValue</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/AddressReference</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">QIUQIEUQIEU8173</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/ExpectedDeliveryDate</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-07T00:00:00</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/SupplierNotificationDate</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-06-07T00:00:00</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/Status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cancelled</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CustomFulfilmentParameters/ParameterName</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NewParameterValue</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/AddressReference</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">QIUQIEUQIEU8173</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/ExpectedDeliveryDate</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-07T00:00:00</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/SupplierNotificationDate</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-06-07T00:00:00</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CustomFulfilmentParameters/ParameterName\",\"value\":\"NewParameterValue\"},{\"op\":\"replace\",\"path\":\"/AddressReference\",\"value\":\"QIUQIEUQIEU8173\"},{\"op\":\"replace\",\"path\":\"/ExpectedDeliveryDate\",\"value\":\"2017-07-07T00:00:00\"},{\"op\":\"replace\",\"path\":\"/SupplierNotificationDate\",\"value\":\"2017-06-07T00:00:00\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>

<p>In the event you need to update a fulfilment, this end point should be called to edit specific attributes of the fulfilment.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-patch">PATCH</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/fulfiment/{fulfilmentReference}</span>
</div>

<h3 id="patch-parameters">PATCH Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>-</td>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
</tr>
<tr>
<td><code class="prettyprint">op</code></td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="add-additional-payment">Add additional payment</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/fulfilments/<span class="o">{</span>fulfilmentReference<span class="o">}</span>/payments/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"paymentDate":"2017-07-07T08:14:59.126Z","paymentMethod":"string","vatAmount":2,"grossAmount":10,"netAmount":8,"currency":"GBP","customPaymentParameters":{"parameterName":"parameterValue"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"paymentDate\":\"2017-07-07T08:14:59.126Z\",\"paymentMethod\":\"string\",\"vatAmount\":2,\"grossAmount\":10,\"netAmount\":8,\"currency\":\"GBP\",\"customPaymentParameters\":{\"parameterName\":\"parameterValue\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"paymentDate\":\"2017-07-07T08:14:59.126Z\",\"paymentMethod\":\"string\",\"vatAmount\":2,\"grossAmount\":10,\"netAmount\":8,\"currency\":\"GBP\",\"customPaymentParameters\":{\"parameterName\":\"parameterValue\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">paymentDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-07T08:14:59.126Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">vatAmount</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">grossAmount</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">netAmount</span><span class="se">\"</span><span class="s2">:8,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">parameterName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">parameterValue</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">paymentDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-07T08:14:59.126Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">string</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">vatAmount</span><span class="se">\"</span><span class="s">:2,</span><span class="se">\"</span><span class="s">grossAmount</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">netAmount</span><span class="se">\"</span><span class="s">:8,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">parameterName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">parameterValue</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span> <span class="nx">from</span> <span class="nx">a</span> <span class="nx">client</span><span class="o">-</span><span class="nx">side</span> <span class="nx">application</span><span class="p">.</span>
</code></pre>
<p>If you need to add an additional payment to a specific fulfilment, this end point can be called. This is typically if the account has changed the contents of the fulfilment to something more expensive.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/fulfilments/{fulfilmentReference}/payments/</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The date the payment should be submitted.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>Yes</td>
<td>The payment method the payment should be taken</td>
</tr>
<tr>
<td><code class="prettyprint">grossAmount</code></td>
<td>string</td>
<td>Yes</td>
<td>The amount to submit to the merchant.</td>
</tr>
<tr>
<td><code class="prettyprint">netAmount</code></td>
<td>string</td>
<td>Yes</td>
<td>The amount to charge minus tax.</td>
</tr>
<tr>
<td><code class="prettyprint">vatAmount</code></td>
<td>string</td>
<td>Yes</td>
<td>The amount apportioned to tax.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>string</td>
<td>Yes</td>
<td>ISO Currency code</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code></td>
<td>dictionary</td>
<td>No</td>
<td>This is a collection of custom attributes against the payments.</td>
</tr>
<tr>
<td><code class="prettyprint">customPaymentParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>No</td>
<td>Representation of each custom parameters against the payment.</td>
</tr>
</tbody></table>

          <h1 id="access-management">Access Management</h1>

<h2 id="crud-create-access">CRUD: Create Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/entitlements <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"name":"Open Access to the Tribune","identifier":"TheTribuneOpen","startDate":"2015-01-01T00:00:00","endDate":"2019-01-01T00:00:00"}'</span><span class="sb">```</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Open Access to the Tribune</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">identifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TheTribuneOpen</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">name</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Open Access to the Tribune</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">identifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">TheTribuneOpen</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command will return a HTTP 204 and an empty response body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In addition to gaining entitlements via purchasing content, it is possible to provide access to an account directly via the API.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">identifier</code></td>
<td>string</td>
<td>Yes</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>Yes</td>
<td>The expiry of the entitlement</td>
</tr>
</tbody></table>

<h2 id="crud-retrieve-access">CRUD: Retrieve Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"entitlements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for retrieving all active access for a specific account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>string</td>
<td>Optional</td>
<td>The list of current account entitlements</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">identifier</code></td>
<td>string</td>
<td>Required</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>Required</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>Required</td>
<td>The expire date of the entitlement</td>
</tr>
</tbody></table>

<h2 id="crud-delete-access">CRUD: Delete Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In the event access should be removed from an account, this API method should be triggered</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-delete">DELETE</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</span>
</div>

<aside class="warning">Executing this API will not remove access from the account until the access rights of the account are checked again.</aside>

<h2 id="validate-access">Validate Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span>?incrementUsage<span class="o">=</span><span class="nb">true</span>&amp;deviceIdentifier<span class="o">=</span>iPad <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"remainingTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"584.15:18:54"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deviceLimitExceeded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entitlementAvailable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to check if an account has access to content, this API method should be executed. Passing through the incrementUsage parameter will add one onto the entitlement count and passing a deviceIdentifier will allow you to make use of eSuite device concurrency functionality.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">incrementUsage</code></td>
<td>boolean</td>
<td>Optional</td>
<td>This option will default to false if not provided.</td>
</tr>
<tr>
<td><code class="prettyprint">deviceIdentifier</code></td>
<td>string</td>
<td>Optional</td>
<td>If device concurrency is being used, this value must be populated.</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">remainingTime</code></td>
<td>string</td>
<td>The remaining amount of time the customer has access (DD.HH:MM:SS)</td>
</tr>
<tr>
<td><code class="prettyprint">deviceLimitExceeded</code></td>
<td>boolean</td>
<td>An indication as to whether the customer is consuming content on the maximum number of devices</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementAvailable</code></td>
<td>boolean</td>
<td>An indication as to whether the customer has access to the entitlement</td>
</tr>
</tbody></table>

<h2 id="search-access">Search Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/search?rowsPerPage<span class="o">=</span>10&amp;currentPage<span class="o">=</span>1&amp;exactMatch<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2973</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for all access for a specific account, regardless of whether it is active.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">createDateMin</code></td>
<td>string</td>
<td>Optional</td>
<td>Earliest creation date to search</td>
</tr>
<tr>
<td><code class="prettyprint">createDateMax</code></td>
<td>string</td>
<td>Optional</td>
<td>Latest creation date to search</td>
</tr>
<tr>
<td><code class="prettyprint">startDateMin</code></td>
<td>string</td>
<td>Optional</td>
<td>Earliest Entitlement start date to search</td>
</tr>
<tr>
<td><code class="prettyprint">startDateMax</code></td>
<td>string</td>
<td>Optional</td>
<td>Latest Entitlement start date to search</td>
</tr>
<tr>
<td><code class="prettyprint">endDateMin</code></td>
<td>string</td>
<td>Optional</td>
<td>Earliest Entitlement expiration date to search</td>
</tr>
<tr>
<td><code class="prettyprint">endDateMax</code></td>
<td>string</td>
<td>Optional</td>
<td>Latest Entitlement expiration date to search</td>
</tr>
<tr>
<td><code class="prettyprint">entitlementIdentifier</code></td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code></td>
<td>integer</td>
<td>Optional</td>
<td>Number of items to return in the response</td>
</tr>
<tr>
<td><code class="prettyprint">currentPage</code></td>
<td>integer</td>
<td>Optional</td>
<td>Page to return</td>
</tr>
<tr>
<td><code class="prettyprint">exactMatch</code></td>
<td>boolean</td>
<td>Optional</td>
<td>Indication whether to exactly match the entitlementIdentifer (default to false)</td>
</tr>
</tbody></table>

<aside class="info">Passing no query parameters will return a 204.</aside>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">entitlements</code></td>
<td>string</td>
<td>Optional</td>
<td>The list of current account entitlements</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">identifier</code></td>
<td>string</td>
<td>Required</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>Required</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>string</td>
<td>Required</td>
<td>The expire date of the entitlement</td>
</tr>
</tbody></table>

          <h1 id="native-billing">Native Billing</h1>

<h2 id="validate-a-roku-purchase">Validate a Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865","email":"john.smith@mppglobal.com","password":"SuperStrongP@ssword01","newAccountDetails":{"firstName":"John","lastName":"Smith"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newAccountDetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newAccountDetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This endpoint allows you to pass through the Roku transactionId alongside customer information and the eSuite platform will create an account before adding the subscription.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/native-billing/roku/</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">rokuTransactionId</code></td>
<td>string</td>
<td>Optional</td>
<td>The roku transaction ID that is to be validated</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Optional</td>
<td>Email address of the customer&rsquo;s Roku billing account</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Optional</td>
<td>Customer&rsquo;s password</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code></td>
<td>object</td>
<td>Optional</td>
<td>A sub-object of RokuValidateTransactionRequest, containing additional customer information</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> &gt; <code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s first name, as forwarded from Roku&rsquo;s native billing</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> &gt; <code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s last name, as forwarded from Roku&rsquo;s native billing</td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-roku-purchase">Validate Existing Account&rsquo;s Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865 \"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>this endpoint should be called when an existing account has made a purchase via Roku. Calling this endpoint will add the Roku subscription to their eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">rokuTransactionId</code></td>
<td>string</td>
<td>Optional</td>
<td>The roku transaction ID that is to be validated</td>
</tr>
</tbody></table>

<h2 id="validate-itunes-purchase">Validate iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","email":"john.smith@mppglobal.com","password":"@ReallyStrongP@ssw0rd","newaccountdetails":{"firstName":"John","lastName":"Smith"},"currency":"GBP","price":12.5}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newaccountdetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newaccountdetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">},</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>For first time sign-up and subscribers, calling this endpoint containing information about the iTunes purchase and details of the customer will create and account as well as the subscription within eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/native-billing/itunes</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">receipt</code></td>
<td>string</td>
<td>Yes</td>
<td>The encrypted receipt returned from the iTunes stored when the app was purchased</td>
</tr>
<tr>
<td><code class="prettyprint">price</code></td>
<td>number</td>
<td>No</td>
<td>An indication as to the price paid within iTunes</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>string</td>
<td>No</td>
<td>The currency used to purchase the iTunes subscription</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>Optional</td>
<td>Email address of the customer&rsquo;s Roku billing account</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>string</td>
<td>Optional</td>
<td>Customer&rsquo;s password</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code></td>
<td>object</td>
<td>Optional</td>
<td>A sub-object of request, containing additional customer information</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> &gt; <code class="prettyprint">firstName</code></td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s first name, as forwarded from iTunes&rsquo;s native billing</td>
</tr>
<tr>
<td><code class="prettyprint">newAccountDetails</code> &gt; <code class="prettyprint">lastName</code></td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s last name, as forwarded from iTunes&rsquo;s native billing</td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-itunes-purchase">Validate Existing Account&rsquo;s iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","currency":"GBP","price":12.5}
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>For existing accounts.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes</span>
</div>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">receipt</code></td>
<td>string</td>
<td>Yes</td>
<td>The encrypted receipt returned from the iTunes stored when the app was purchased</td>
</tr>
<tr>
<td><code class="prettyprint">price</code></td>
<td>number</td>
<td>No</td>
<td>An indication as to the price paid within iTunes</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>string</td>
<td>No</td>
<td>The currency used to purchase the iTunes subscription</td>
</tr>
</tbody></table>

          <h1 id="session-management">Session Management</h1>

<h2 id="crud-retrieve-a-session">CRUD: Retrieve a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-20T13:28:30.897Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-20T13:28:30.897Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return information about the current state of the session token provided on the request.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/sessions/{sessionToken}</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">sessionToken</code></td>
<td>string</td>
<td>Yes</td>
<td>The session token that should be retrieved</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accountId</code></td>
<td>string</td>
<td>An indication of the account the session is tied to</td>
</tr>
<tr>
<td><code class="prettyprint">shortSessionActive</code></td>
<td>boolean</td>
<td>An indication as to whether the shortSession aspect of the session is still active</td>
</tr>
<tr>
<td><code class="prettyprint">shortSessionExpiry</code></td>
<td>string</td>
<td>The date and time the shortSession will expire</td>
</tr>
<tr>
<td><code class="prettyprint">longSessionActive</code></td>
<td>boolean</td>
<td>An indication as to whether the LongSession aspect of the session is still active</td>
</tr>
<tr>
<td><code class="prettyprint">longSessionExpiry</code></td>
<td>string</td>
<td>The date and time the longSession will expire</td>
</tr>
</tbody></table>

<h2 id="crud-delete-a-session">CRUD: Delete a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
      <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p>If you would like to delete a session on eSuite, calling this endpoint will expire and remove any information stored within it.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/sessions/{sessionToken}</span>
</div>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">sessionToken</code></td>
<td>string</td>
<td>Yes</td>
<td>The session token that should be deleted</td>
</tr>
</tbody></table>

          <h1 id="catalogue-management">Catalogue Management</h1>

<h2 id="retrieve-all-subscription-services">Retrieve All Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return all configured subscription services for your instance of eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/subscriptions</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code></td>
<td>array[object]</td>
<td>Object containing all subscription services on the Client</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionId</code></td>
<td>string</td>
<td>The identifier of the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>The reference of the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionGroup</code></td>
<td>string</td>
<td>The subscription group the subscription belongs</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionGroupTag</code></td>
<td>string</td>
<td>The subscription group tag the subscription belongs</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionGroupStatus</code></td>
<td>string</td>
<td>The status of the subscription group</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionDescription</code></td>
<td>string</td>
<td>A description of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionTitle</code></td>
<td>string</td>
<td>A title of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionType</code></td>
<td>string</td>
<td>The type of subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">subscriptionStatus</code></td>
<td>string</td>
<td>The status of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">initialPricingEnabled</code></td>
<td>boolean</td>
<td>An indication whether initial pricing is enabled</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">trialInfo</code></td>
<td>object</td>
<td>Object containing trial information</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; <code class="prettyprint">trialEnabled</code></td>
<td>boolean</td>
<td>An indication whether trials are enabled</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; <code class="prettyprint">trialUnit</code></td>
<td>string</td>
<td>Duration type (month, day, year, etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; <code class="prettyprint">trialPeriod</code></td>
<td>integer</td>
<td>How long the duration should be</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; <code class="prettyprint">discountPercentage</code></td>
<td>number</td>
<td>How much the price will be discounted</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; <code class="prettyprint">nonPaymentTrial</code></td>
<td>boolean</td>
<td>An indication to whether payment details are required</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">contractInfo</code></td>
<td>object</td>
<td>Object containing contract information</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; <code class="prettyprint">contractUnit</code></td>
<td>string</td>
<td>Type of contract (day, week, month, etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; <code class="prettyprint">contractPeriod</code></td>
<td>integer</td>
<td>Number of units the contract runs</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; <code class="prettyprint">autoRenewDefault</code></td>
<td>string</td>
<td>Indication whether the subscription service will renew</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">pricingInfo</code></td>
<td>array[object]</td>
<td>The collection of all prices configured for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>The currency the price is associated to</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">initialPrice</code></td>
<td>number</td>
<td>The price that will be paid on sign-up of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">priceIsGross</code></td>
<td>boolean</td>
<td>An indication as to whether the price returned is the gross or net price</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">renewalPrice</code></td>
<td>number</td>
<td>The price that will be paid on subsequent renewal purchases</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">priceId</code></td>
<td>integer</td>
<td>The eSuite Identifer for the price</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">taxCategory</code></td>
<td>string</td>
<td>Tax category</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>The identifier for the price that should be used on purchase calls</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>The payment method associated to the specific price</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">allowedPaymentMethods</code></td>
<td>array[string]</td>
<td>The collection of payment methods available on the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code></td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterType</code></td>
<td>string</td>
<td>An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterValue</code></td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">images</code></td>
<td>array[object]</td>
<td>The overarching object which contains all images for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">imageId</code></td>
<td>integer</td>
<td>The eSuite identifier for the image</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">displayName</code></td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">fileName</code></td>
<td>string</td>
<td>The file name associated to the image</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">default</code></td>
<td>boolean</td>
<td>An indication as to whether the image is the default image for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">location</code></td>
<td>string</td>
<td>The URL location the image is hosted at</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; <code class="prettyprint">groupLicensing</code></td>
<td>object</td>
<td>A breakdown of how many group licenses are associated to the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; <code class="prettyprint">standard</code></td>
<td>integer</td>
<td>The number of standard licenses associated to the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; <code class="prettyprint">overflow</code></td>
<td>integer</td>
<td>The number of overflow licenses associated to the subscription service</td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-subscription-services">Retrieve Filtered Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return you a subset of your configured subscription services, based on the query parameters provided.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/subscriptions/search</span>
</div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>serviceIds</td>
<td>Array[integer]</td>
<td>Optional</td>
<td>A collection of subscription service Identifiers</td>
</tr>
<tr>
<td>subscriptionGroupTagName</td>
<td>string</td>
<td>Optional</td>
<td>Subscription service group name</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code></td>
<td>array[object]</td>
<td>Object containing all subscription services on the Client</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionId</td>
<td>string</td>
<td>The identifier of the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; resourceReference</td>
<td>string</td>
<td>The reference of the subscription</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroup</td>
<td>string</td>
<td>The subscription group the subscription belongs</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroupTag</td>
<td>string</td>
<td>The subscription group tag the subscription belongs</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionGroupStatus</td>
<td>string</td>
<td>The status of the subscription group</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionDescription</td>
<td>string</td>
<td>A description of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionTitle</td>
<td>string</td>
<td>A title of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionType</td>
<td>string</td>
<td>The type of subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; subscriptionStatus</td>
<td>string</td>
<td>The status of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; initialPricingEnabled</td>
<td>boolean</td>
<td>An indication whether initial pricing is enabled</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; trialInfo</td>
<td>object</td>
<td>Object containing trial information</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialEnabled</td>
<td>boolean</td>
<td>An indication whether trials are enabled</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialUnit</td>
<td>string</td>
<td>Duration type (month, day, year, etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; trialPeriod</td>
<td>integer</td>
<td>How long the duration should be</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; discountPercentage</td>
<td>number</td>
<td>How much the price will be discounted</td>
</tr>
<tr>
<td><code class="prettyprint">trialInfo</code> &gt; nonPaymentTrial</td>
<td>boolean</td>
<td>An indication to whether payment details are required</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; contractInfo</td>
<td>object</td>
<td>Object containing contract information</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; contractUnit</td>
<td>string</td>
<td>Type of contract (day, week, month, etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; contractPeriod</td>
<td>integer</td>
<td>Number of units the contract runs</td>
</tr>
<tr>
<td><code class="prettyprint">contractInfo</code> &gt; autoRenewDefault</td>
<td>string</td>
<td>Indication whether the subscription service will renew</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; pricingInfo</td>
<td>array[object]</td>
<td>The collection of all prices configured for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; currency</td>
<td>string</td>
<td>The currency the price is associated to</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; initialPrice</td>
<td>number</td>
<td>The price that will be paid on sign-up of the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; priceIsGross</td>
<td>boolean</td>
<td>An indication as to whether the price returned is the gross or net price</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; renewalPrice</td>
<td>number</td>
<td>The price that will be paid on subsequent renewal purchases</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; priceId</td>
<td>integer</td>
<td>The eSuite Identifer for the price</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; taxCategory</td>
<td>string</td>
<td>Tax category</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; resourceReference</td>
<td>string</td>
<td>The identifier for the price that should be used on purchase calls</td>
</tr>
<tr>
<td><code class="prettyprint">pricingInfo</code> &gt; paymentMethod</td>
<td>string</td>
<td>The payment method associated to the specific price</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; allowedPaymentMethods</td>
<td>array[string]</td>
<td>The collection of payment methods available on the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; customParameters</td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterName</td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterType</td>
<td>string</td>
<td>An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; parameterValue</td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; images</td>
<td>array[object]</td>
<td>The overarching object which contains all images for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; imageId</td>
<td>integer</td>
<td>The eSuite identifier for the image</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; displayName</td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; fileName</td>
<td>string</td>
<td>The file name associated to the image</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; default</td>
<td>boolean</td>
<td>An indication as to whether the image is the default image for the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; location</td>
<td>string</td>
<td>The URL location the image is hosted at</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionsInfo</code> &gt; groupLicensing</td>
<td>object</td>
<td>A breakdown of how many group licenses are associated to the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; standard</td>
<td>integer</td>
<td>The number of standard licenses associated to the subscription service</td>
</tr>
<tr>
<td><code class="prettyprint">groupLicensing</code> &gt; overflow</td>
<td>integer</td>
<td>The number of overflow licenses associated to the subscription service</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-products">Retrieve All Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return all configured products within your instance of eSuite, this endpoint should be called.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/products</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">products</code></td>
<td>array[object]</td>
<td>List of products</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">productId</code></td>
<td>integer</td>
<td>Product identifier</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">status</code></td>
<td>string</td>
<td>Product status</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">title</code></td>
<td>string</td>
<td>Title</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>Description</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">pricing</code></td>
<td>array[object]</td>
<td>Pricing</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>IsoCode</td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">purchaseInfo</code></td>
<td>array[object]</td>
<td>Purchase info</td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>array[object]</td>
<td>Payment method</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">grossAmount</code></td>
<td>number</td>
<td>Gross amount</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>Payment method</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">priceId</code></td>
<td>string</td>
<td>Price id</td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Resource Reference for the PriceId</td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo</code> &gt; <code class="prettyprint">roleInfo</code></td>
<td>object</td>
<td>Pricing role</td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">roleId</code></td>
<td>string</td>
<td>Role identifier</td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">clientRef</code></td>
<td>string</td>
<td>Client reference</td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">title</code></td>
<td>string</td>
<td>Title</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">images</code></td>
<td>array[object]</td>
<td>Images of the product</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">imageId</code></td>
<td>integer</td>
<td>Image identifier</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">displayName</code></td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">fileName</code></td>
<td>string</td>
<td>File name</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">default</code></td>
<td>boolean</td>
<td>Specify if image is default</td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">location</code></td>
<td>string</td>
<td>Path to the image</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">supplier</code></td>
<td>object</td>
<td>Suplier details</td>
</tr>
<tr>
<td><code class="prettyprint">supplier</code> &gt; <code class="prettyprint">suppliedId</code></td>
<td>integer</td>
<td>Suplier identifier</td>
</tr>
<tr>
<td><code class="prettyprint">supplier</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>Name</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">type</code></td>
<td>object</td>
<td>Product type</td>
</tr>
<tr>
<td><code class="prettyprint">type</code> &gt; <code class="prettyprint">typeId</code></td>
<td>integer</td>
<td>Type id</td>
</tr>
<tr>
<td><code class="prettyprint">type</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>Type name</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">customParameters</code></td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterValue</code></td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Resource Reference for the ProductId</td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-products">Retrieve Filtered Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return only a subset of your product catalogoue, this endpoint should be called with the appropriate query string parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/products/search</span>
</div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productIds</td>
<td>array[integer]</td>
<td>Optional</td>
<td>A collection of product Identifiers</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Optional</td>
<td>The currency prices should be returned</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">products</code></td>
<td>array[object]</td>
<td>List of products</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">productId</code></td>
<td>integer</td>
<td>Product identifier</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">status</code></td>
<td>string</td>
<td>Product status</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">title</code></td>
<td>string</td>
<td>Title</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">pricing</code></td>
<td>array[object]</td>
<td>Pricing</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>IsoCode</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">pricing</code> &gt; <code class="prettyprint">purchaseInfo</code></td>
<td>array[object]</td>
<td>Purchase info</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">purchaseInfo</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>array[object]</td>
<td>Payment method</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">grossAmount</code></td>
<td>number</td>
<td>Gross amount</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">paymentMethod</code></td>
<td>string</td>
<td>Payment method</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">priceId</code></td>
<td>string</td>
<td>Price id</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">paymentMethod</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Resource Reference for the PriceId</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">pricing</code> &gt; purchaseInfo &gt; roleInfo</td>
<td>object</td>
<td>Pricing role</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">roleId</code></td>
<td>string</td>
<td>Role identifier</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">clientRef</code></td>
<td>string</td>
<td>Client reference</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">roleInfo</code> &gt; <code class="prettyprint">title</code></td>
<td>string</td>
<td>Title</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">images</code></td>
<td>array[object]</td>
<td>Images of the product</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">imageId</code></td>
<td>integer</td>
<td>Image identifier</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">displayName</code></td>
<td>string</td>
<td>Display name</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">fileName</code></td>
<td>string</td>
<td>File name</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">default</code></td>
<td>boolean</td>
<td>Specify if image is default</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">images</code> &gt; <code class="prettyprint">location</code></td>
<td>string</td>
<td>Path to the image</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">supplier</code></td>
<td>object</td>
<td>Suplier details</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">suppliedId</code></td>
<td>integer</td>
<td>Suplier identifier</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">supplier</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>Name</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">type</code></td>
<td>object</td>
<td>Product type</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">type</code> &gt; <code class="prettyprint">typeId</code></td>
<td>integer</td>
<td>Type id</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">type</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>Type name</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">customParameters</code></td>
<td>array[object]</td>
<td>Custom parameters</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterName</code></td>
<td>string</td>
<td>Name of the custom parameter</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">customParameters</code> &gt; <code class="prettyprint">parameterValue</code></td>
<td>string</td>
<td>Value of the custom parameter</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">products</code> &gt; <code class="prettyprint">resourceReference</code></td>
<td>string</td>
<td>Resource Reference for the ProductId</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="offers">Offers</h1>

<h2 id="retrieve-all-offers">Retrieve all Offers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"offerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.163Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.163Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UniqueToUserUseOnce"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"applicationData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"addCredits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"lowStart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"percentageDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"freePeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">0</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"groupDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"activationCodeActivated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metaData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"qualifyingItemCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"freeItemCountOrDiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"configurationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"fixedPriceDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discountAmounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptionSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"productSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"miscellaneousChargeSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint, will return all configured offers against your instance of eSuite. This endpoint allow you to return a specific number of offers per page and the page number you would like to view. If no additional filters are provided a default 50 page limit will be returned.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers</span>
</div>

<h3 id="get-parameters">GET Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">productReference</code></td>
<td>string</td>
<td>No</td>
<td>Providing this parameter will return offers specific to this product</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>string</td>
<td>No</td>
<td>Indicates whether to return <code class="prettyprint">Active</code> or <code class="prettyprint">Disabled</code> offers</td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code></td>
<td>integer</td>
<td>No</td>
<td>Which page should be returned</td>
</tr>
<tr>
<td><code class="prettyprint">rowsPerPage</code></td>
<td>integer</td>
<td>No</td>
<td>The number of results to return per page</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">totalNumberOfRecords</code></td>
<td>string</td>
<td>The total number of offers found as a result of the request</td>
</tr>
<tr>
<td><code class="prettyprint">pageNumber</code></td>
<td>string</td>
<td>The page number being displayed</td>
</tr>
<tr>
<td><code class="prettyprint">resultsPerPage</code></td>
<td>integer</td>
<td>The number of records being displayed</td>
</tr>
<tr>
<td><code class="prettyprint">items</code></td>
<td>array[objects]</td>
<td>Collection of all offers</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">offerReference</code></td>
<td>string</td>
<td>Unique identifier for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">startDate</code></td>
<td>string</td>
<td>The date at which the offer becomes active</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>The date at which the offer becomes inactive</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>The name associated to the offer</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">description</code></td>
<td>string</td>
<td>Additional details against the offer</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">usageType</code></td>
<td>string</td>
<td>The type of usage applicable for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">applicationData</code></td>
<td>array[objects]</td>
<td>Alternative data to display to an end-user</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>End-user name</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">message</code></td>
<td>string</td>
<td>Public facing message</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">message2</code></td>
<td>string</td>
<td>Additional public facing message</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">addCredits</code></td>
<td>array[objects]</td>
<td>Information relating to an AddCredits offer type</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">amount</code></td>
<td>decimal</td>
<td>Amount of credit the account should receive</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>Currency the credit should be added in</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">lowStart</code></td>
<td>array[objects]</td>
<td>Information relating to an LowStart offer type</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">percentage</code></td>
<td>decimal</td>
<td>The percentage discount the account should receive</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>How long the discount should take place</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">lockInPeriods</code></td>
<td>integer</td>
<td>Number of periods before the account can cancel their subscription</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">closeSubOnExpiry</code></td>
<td>boolean</td>
<td>Indication whether the subscription will expire at the same time as the offer</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">percentageDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an PercentageDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code> &gt; <code class="prettyprint">percentage</code></td>
<td>decimal</td>
<td>The percentage discount that will be received</td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">freePeriod</code></td>
<td>array[objects]</td>
<td>Information relating to an freePeriod offer type</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>How long the discount should take place</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">groupDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an GroupDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">metaData</code></td>
<td>objects</td>
<td>Metadata of the group discount</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">qualifyingItemCount</code></td>
<td>integer</td>
<td>The number of items that must be purchased to be applicable for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">freeItemCountOrDiscountAmount</code></td>
<td>integer</td>
<td>The discount amount or the number of free items</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">productIds</code></td>
<td>array[integer]</td>
<td>List of Products that can have the offer redeemed</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">productSource</code></td>
<td>string</td>
<td>Product source</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>Dictionary of custom parameters applicable to the discount</td>
</tr>
<tr>
<td><code class="prettyprint">items</code> &gt; <code class="prettyprint">fixedPriceDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an FixedPriceDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">discountAmounts</code></td>
<td>array[objects]</td>
<td>Specific currency configuration</td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts</code> &gt; <code class="prettyprint">value</code></td>
<td>decimal</td>
<td>Amount to be discounted</td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>The associated currency</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">subscriptionSettings</code></td>
<td>array[objects]</td>
<td>Settings associated to the service aspect of a fixed price discount</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a subscription purchase</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>Number of renewing periods the offer is applicable for</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">lockInPeriods</code></td>
<td>integer</td>
<td>The number of periods an account would be locked in if the offer was redeemed</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">closeSubOnExpiry</code></td>
<td>boolean</td>
<td>Indication whether the subscription will expire at the same time as the offer</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">productSettings</code></td>
<td>array[objects]</td>
<td>Product specific settings for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">productSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a product purchase</td>
</tr>
<tr>
<td><code class="prettyprint">productSettings</code> &gt; <code class="prettyprint">productIds</code></td>
<td>array[integer]</td>
<td>Collection of products that can benefit from the offer</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">miscellaneousChargeSettings</code></td>
<td>objects</td>
<td>Details specific to one-off charge</td>
</tr>
<tr>
<td><code class="prettyprint">miscellaneousChargeSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a one-off charge</td>
</tr>
</tbody></table>

<h2 id="retrieve-an-offer">Retrieve an Offer</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers/<span class="o">{</span>offerReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers/{offerReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers/{offerReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"offerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.171Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-27T16:22:18.171Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UniqueToUserUseOnce"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"applicationData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"addCredits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"lowStart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"percentageDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"freePeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"groupDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"activationCodeActivated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metaData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"qualifyingItemCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"freeItemCountOrDiscountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"configurationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"fixedPriceDiscount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"discountAmounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"paymentDetailsRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptionSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numberOfPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lockInPeriods"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"closeSubOnExpiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"serviceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"productSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"productIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"miscellaneousChargeSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return a specific instance of an offer.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers/{offerReference}</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">offerReference</code></td>
<td>string</td>
<td>Unique identifier for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>string</td>
<td>The date at which the offer becomes active</td>
</tr>
<tr>
<td><code class="prettyprint">expiryDate</code></td>
<td>string</td>
<td>The date at which the offer becomes inactive</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>The name associated to the offer</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td>Additional details against the offer</td>
</tr>
<tr>
<td><code class="prettyprint">usageType</code></td>
<td>string</td>
<td>The type of usage applicable for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code></td>
<td>array[objects]</td>
<td>Alternative data to display to an end-user</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">name</code></td>
<td>string</td>
<td>End-user name</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">message</code></td>
<td>string</td>
<td>Public facing message</td>
</tr>
<tr>
<td><code class="prettyprint">applicationData</code> &gt; <code class="prettyprint">message2</code></td>
<td>string</td>
<td>Additional public facing message</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code></td>
<td>array[objects]</td>
<td>Information relating to an AddCredits offer type</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">amount</code></td>
<td>decimal</td>
<td>Amount of credit the account should receive</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>Currency the credit should be added in</td>
</tr>
<tr>
<td><code class="prettyprint">addCredits</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code></td>
<td>array[objects]</td>
<td>Information relating to an LowStart offer type</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">percentage</code></td>
<td>decimal</td>
<td>The percentage discount the account should receive</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>How long the discount should take place</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">lockInPeriods</code></td>
<td>integer</td>
<td>Number of periods before the account can cancel their subscription</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">closeSubOnExpiry</code></td>
<td>boolean</td>
<td>Indication whether the subscription will expire at the same time as the offer</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">lowStart</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an PercentageDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code> &gt; <code class="prettyprint">percentage</code></td>
<td>decimal</td>
<td>The percentage discount that will be received</td>
</tr>
<tr>
<td><code class="prettyprint">percentageDiscount</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code></td>
<td>array[objects]</td>
<td>Information relating to an freePeriod offer type</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>How long the discount should take place</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">freePeriod</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an GroupDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">metaData</code></td>
<td>objects</td>
<td>Metadata of the group discount</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">qualifyingItemCount</code></td>
<td>integer</td>
<td>The number of items that must be purchased to be applicable for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">freeItemCountOrDiscountAmount</code></td>
<td>integer</td>
<td>The discount amount or the number of free items</td>
</tr>
<tr>
<td><code class="prettyprint">metaData</code> &gt; <code class="prettyprint">productIds</code></td>
<td>array[integer]</td>
<td>List of Products that can have the offer redeemed</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">productSource</code></td>
<td>string</td>
<td>Product source</td>
</tr>
<tr>
<td><code class="prettyprint">groupDiscount</code> &gt; <code class="prettyprint">customParameters</code></td>
<td>dictionary</td>
<td>Dictionary of custom parameters applicable to the discount</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code></td>
<td>array[objects]</td>
<td>Information relating to an FixedPriceDiscount offer type</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">paymentDetailsRequired</code></td>
<td>boolean</td>
<td>Indication as to whether the account is required to provide payment information</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">discountAmounts</code></td>
<td>array[objects]</td>
<td>Specific currency configuration</td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts</code> &gt; <code class="prettyprint">value</code></td>
<td>decimal</td>
<td>Amount to be discounted</td>
</tr>
<tr>
<td><code class="prettyprint">discountAmounts</code> &gt; <code class="prettyprint">currency</code></td>
<td>string</td>
<td>The associated currency</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">subscriptionSettings</code></td>
<td>array[objects]</td>
<td>Settings associated to the service aspect of a fixed price discount</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a subscription purchase</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">numberOfPeriods</code></td>
<td>integer</td>
<td>Number of renewing periods the offer is applicable for</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">lockInPeriods</code></td>
<td>integer</td>
<td>The number of periods an account would be locked in if the offer was redeemed</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">closeSubOnExpiry</code></td>
<td>boolean</td>
<td>Indication whether the subscription will expire at the same time as the offer</td>
</tr>
<tr>
<td><code class="prettyprint">subscriptionSettings</code> &gt; <code class="prettyprint">serviceIds</code></td>
<td>array[integer]</td>
<td>Collection of applicable services for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">productSettings</code></td>
<td>array[objects]</td>
<td>Product specific settings for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">productSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a product purchase</td>
</tr>
<tr>
<td><code class="prettyprint">productSettings</code> &gt; <code class="prettyprint">productIds</code></td>
<td>array[integer]</td>
<td>Collection of products that can benefit from the offer</td>
</tr>
<tr>
<td><code class="prettyprint">fixedPriceDiscount</code> &gt; <code class="prettyprint">miscellaneousChargeSettings</code></td>
<td>objects</td>
<td>Details specific to one-off charge</td>
</tr>
<tr>
<td><code class="prettyprint">miscellaneousChargeSettings</code> &gt; <code class="prettyprint">enabled</code></td>
<td>boolean</td>
<td>Indication as to whether the offer can be used on a one-off charge</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-vouchers">Retrieve all vouchers</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/offers/<span class="o">{</span>offerReference<span class="o">}</span>/vouchers <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/offers/{offerReference}/vouchers"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/offers/{offerReference}/vouchers"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"J964AG3AJA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"7G94G3JJ5A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"67JAGJAD4G"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"G7JMGGPPPP"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint will allow you to retrieve all available voucher codes that are applicable for use.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/offers/{offerReference}/vouchers</span>
</div>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">--</code></td>
<td>array[string]</td>
<td>List of available voucher codes for the configured offer</td>
</tr>
</tbody></table>

          <h1 id="analytics">Analytics</h1>

<h2 id="retrieve-analytics-data">Retrieve Analytics Data</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/analytics/methodName?enddate=2099-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z&amp;startdate=2017-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parameterValue"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint can be used to extract predefined datasets from eSuite for use in external dashboarding.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-get">GET</span>
<span class="endpoint-path">https://uat.mppglobal.com/api/analytics/{method}</span>
</div>

<h3 id="query-string">Query string</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">startdate</code></td>
<td>string</td>
<td>optional</td>
<td>DateTime (optional) for start of query</td>
</tr>
<tr>
<td><code class="prettyprint">enddate</code></td>
<td>string</td>
<td>optional</td>
<td>DateTime (optional) for end of query</td>
</tr>
<tr>
<td><code class="prettyprint">referencecurrency</code></td>
<td>string</td>
<td>optional</td>
<td>If the method returns a financial information. It is possible to restrict down by currency</td>
</tr>
<tr>
<td><code class="prettyprint">timezoneoffset</code></td>
<td>integer</td>
<td>optional</td>
<td>All data stored in eSuite is stored in UTC. If you require it in your local time, provide your UTC offset e.g. 1</td>
</tr>
</tbody></table>

<h3 id="available-data-sources">Available Data Sources</h3>

<table><thead>
<tr>
<th>Friendly Name</th>
<th>Method Name</th>
</tr>
</thead><tbody>
<tr>
<td>Account authentication attempts (per day)</td>
<td><code class="prettyprint">Dynamic_Account_Authentication_Attempts</code></td>
</tr>
<tr>
<td>Account authentication attempts (per hour)</td>
<td><code class="prettyprint">Dynamic_Authentication_RequestsPerHour</code></td>
</tr>
<tr>
<td>Account Status</td>
<td><code class="prettyprint">Dynamic_Accounts_ByStatus</code></td>
</tr>
<tr>
<td>Account creation profile</td>
<td><code class="prettyprint">Dynamic_Accounts_CreatedByDay</code></td>
</tr>
<tr>
<td>Expiring Cards</td>
<td><code class="prettyprint">Dynamic_Cards_Expiring_Next_Month</code></td>
</tr>
<tr>
<td>Consumer Payment Methods</td>
<td><code class="prettyprint">Dynamic_Consumer_Payment_Methods</code></td>
</tr>
<tr>
<td>Payment card authorisation attempts</td>
<td><code class="prettyprint">Dynamic_CreditDebitCard_Autorisations</code></td>
</tr>
<tr>
<td>Most redeemed Offers</td>
<td><code class="prettyprint">Dynamic_Most_Redeemed_Offers</code></td>
</tr>
<tr>
<td>None Subscription Revenue (by day)</td>
<td><code class="prettyprint">Dynamic_NonSubscriptions_RevenueByDay</code></td>
</tr>
<tr>
<td>None Subscription Revenue (by payment type)</td>
<td><code class="prettyprint">Dynamic_NonSubscriptions_RevenueByPaymentType</code></td>
</tr>
<tr>
<td>Payment Attempts (by period)</td>
<td><code class="prettyprint">Dynamic_Payment_Attempts_Per_Period</code></td>
</tr>
<tr>
<td>Promotion Code redemption (by day)</td>
<td><code class="prettyprint">Dynamic_PromotionCodes_ByDay</code></td>
</tr>
<tr>
<td>Promotion Code redemption (by period)</td>
<td><code class="prettyprint">Dynamic_PromotionCodes_RedeemedInPeriod</code></td>
</tr>
<tr>
<td>All revenue generated per day</td>
<td><code class="prettyprint">Dynamic_Revenue_AllByDay</code></td>
</tr>
<tr>
<td>API Method Count</td>
<td><code class="prettyprint">Dynamic_RPM_GetCountOfApiMethods</code></td>
</tr>
<tr>
<td>Top RPM Count</td>
<td><code class="prettyprint">Dynamic_RPM_GetTop50Minutes</code></td>
</tr>
<tr>
<td>Active Subscription (by day)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ActiveByDay</code></td>
</tr>
<tr>
<td>Active Subscription (by Subscription Service)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ActiveByServiceId</code></td>
</tr>
<tr>
<td>Subscriptions added</td>
<td><code class="prettyprint">Dynamic_Subscriptions_Added</code></td>
</tr>
<tr>
<td>Subscription Churn (by month)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnbyMonth</code></td>
</tr>
<tr>
<td>Subscription Churn (by reason)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnByReason</code></td>
</tr>
<tr>
<td>Subscription Churn (by Subscription Sevice)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnByService</code></td>
</tr>
<tr>
<td>Churn Prediction Precision (previous month)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnPredictionPrecisionV5LastMonth</code></td>
</tr>
<tr>
<td>Churn Prediction Precision (current month)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_ChurnPredictionPrecisionV5ThisMonth</code></td>
</tr>
<tr>
<td>Subscription revenue (by day)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_RevenueByDay</code></td>
</tr>
<tr>
<td>Subscription revenue (by payment type)</td>
<td><code class="prettyprint">Dynamic_Subscriptions_RevenueByPaymentType</code></td>
</tr>
<tr>
<td>Top performing Subscriptions</td>
<td><code class="prettyprint">Dynamic_Top_Subscription_Types</code></td>
</tr>
<tr>
<td>Voucher redemption</td>
<td><code class="prettyprint">Dynamic_Voucher_Codes_Redeemed_Per_Period</code></td>
</tr>
<tr>
<td>eSuite Core API Requests (per minute)</td>
<td><code class="prettyprint">RPM_Core_Get</code></td>
</tr>
</tbody></table>

          <h1 id="bulk-actions">Bulk Actions</h1>

<h2 id="create-access">Create Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/bulk/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"entitlementIdentifier":"specific-access","startDate":"2017-07-03T11:31:41.0353603Z","endDate":"2017-07-13T11:31:41.0353603Z","accountIds":[123456,123457,123458],"clientUserIds":["A123456","A123457","A123458"]}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">entitlementIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">specific-access</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountIds</span><span class="se">\"</span><span class="s2">:[123456,123457,123458],</span><span class="se">\"</span><span class="s2">clientUserIds</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123457</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123458</span><span class="se">\"</span><span class="s2">]}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">entitlementIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">specific-access</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountIds</span><span class="se">\"</span><span class="s">:[123456,123457,123458],</span><span class="se">\"</span><span class="s">clientUserIds</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">A123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123457</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123458</span><span class="se">\"</span><span class="s">]}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
     <span class="s">'x-clientid'</span> <span class="p">:</span> <span class="s">'1001'</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/bulk/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon success:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>This endpoint is available to allow you to bulk create access for multiple accounts in a single request.</p>

<h3 id="http-request">HTTP Request</h3>

<div class="endpoint-cont">
<span class="endpoint-verb endpoint-verb-post">POST</span>
<span class="endpoint-path">https://uat.mppglobal.com/bulk/entitlements/</span>
</div>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">entitlementIdentifier</code></td>
<td>string</td>
<td>Yes</td>
<td>The access the account should given</td>
</tr>
<tr>
<td><code class="prettyprint">startDate</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The date at which the access should become active</td>
</tr>
<tr>
<td><code class="prettyprint">endDate</code></td>
<td>dateTime</td>
<td>Yes</td>
<td>The date at which access to the content should be deactivated.</td>
</tr>
<tr>
<td><code class="prettyprint">accountIds</code></td>
<td>array[integer]</td>
<td>No*</td>
<td>A collection of all accounts that should have access given, based upon accountId.</td>
</tr>
<tr>
<td><code class="prettyprint">clientUserIds</code></td>
<td>array[string]</td>
<td>No*</td>
<td>A collection of all accounts that should have access given, based upon ClientUserId</td>
</tr>
</tbody></table>

<p>* It is required that either an array of accountIds or clientUserIds must be passed but it is not required to pass both.</p>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>In the event an error occurs, an object will be returned:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"result"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Example String"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">This error section is a summary of the possible error codes you could recieve from the eSuite API. The API will return a specific error message alongside one of these codes to detail the specific error that has occurred.</aside>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code class="prettyprint">Bad Request</code> &ndash; Your request is malformed in some way</td>
</tr>
<tr>
<td>401</td>
<td><code class="prettyprint">Unauthorized</code> &ndash; The API key provided is not valid</td>
</tr>
<tr>
<td>403</td>
<td><code class="prettyprint">Forbidden</code> &ndash; The resource is not accessible using the provided API key</td>
</tr>
<tr>
<td>404</td>
<td><code class="prettyprint">Not Found</code> &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td><code class="prettyprint">Method Not Allowed</code> &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td><code class="prettyprint">Not Acceptable</code> &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>412</td>
<td><code class="prettyprint">Pre-Condition Failed</code> &ndash; The request has failed basic validation</td>
</tr>
<tr>
<td>500</td>
<td><code class="prettyprint">Internal Server Error</code> &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td><code class="prettyprint">Service Unavailable</code> &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="javascript">jQuery</a>
          </div>
      </div>
    </div>
  </body>
</html>
