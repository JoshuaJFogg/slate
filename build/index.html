<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>eSuite API Reference</title>

    <style>
        .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <style>
      @import url('https://fonts.googleapis.com/css?family=Open+Sans');
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="https://www.mppglobal.com/wp-content/themes/mpp/favicon.png" rel="icon" type="image/png" />
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="javascript">jQuery</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://mppglobal.com'>Documentation Powered by eSuite</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The eSuite API is built around the architectural principle of REST (Representational State Transfer).</p>

<p>The API allows you to interact with eSuite from both a client-side web application and a traditional server-side application. The API also uses standard HTTP features and can be used via standard HTTP clients in order to perform actions prior to integrating the functionality. All responses are returned in JSON, including error messages. </p>

<p>In order ensure the eSuite REST API is secure, certain features are not available to client-side web applications but the functions that are made availalbe will allow you to build an application to take card payments without having to have it hosted with a third party or use a hosted white label solution.</p>

<p>The API has also been built using the OpenAPI Specification (formally the Swagger Specification) which will allow you to automatically generate code and test files.</p>

<p>You can generate your bindings against our UAT swagger <a href="https://uat.mppglobal.com:443/swagger/docs/9">here</a>.</p>

          <h1 id="api-authorization">API Authorization</h1>

<h2 id="client-to-server-integrations">Client-to-Server integrations</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>Not Supported
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="no">Not</span> <span class="no">Supported</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">Not</span> <span class="n">Supported</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/..."</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Client-to-server integrations are often the quickest to complete and allow you to get live in a matter of hours. To help this process, MPP Global has developed the eSuite SDK which is an AngularJS application that contains UI elements covering the standard flows experienced by our existing clients. If you decide you would prefer to build the eSuite API into your existing technology stack directly, this is possible. Client-to-server API requests are restricted as to what features are available and the data that can be passed. For example, configuring a price from the client-side application is not possible as it should never be accessible to the end-user to change how much they pay for an item.</p>

<p>In order to authenticate with the eSuite API, you will be required to pass either two or three pieces of information dependent on the actions you are looking to complete. The values required are:</p>

<h3 id="x-tokenid">X-TokenId</h3>

<p>This is your API Key for the eSuite API. When you are set up on the eSuite platform, you will be provided with the API Key and it will be the value used by eSuite to identify you when making requests into the platform. It is possible to have multiple API Keys configured against your instance of eSuite. The API Key is a GUID (32 character non-sequential value) and will be different in both UAT and Live environments.</p>

<p><code class="prettyprint">x-tokenId: BE52ADA2064C4F9A9D90F28D066D1CEE</code></p>

<h3 id="origin">Origin</h3>

<p>As part of the API Key provisioning process, your API key will be bound to a specific Origin that reflects the location at which you will be making your API request from. It is possible to bind multiple Origin domains to a single API Key, the only restriction on the domains used as Origins is that they are all HTTPS. Whilst you are getting your system set up, the API Key for the UAT environment will be bound to http://localhost so that you can begin work straight away.</p>

<p><code class="prettyprint">Origin: https://mywebsite-domain.com</code></p>

<h3 id="x-sessionid">X-SessionId</h3>

<p>In the event you are performing actions relating to a customer&rsquo;s account, whether that be account creation, retrieval or addition of payment details; you must provide a session token for that customer in the request you make. This session token can be gained from two different places: the customer authenticating themself using their email address and password, or a server-to-server API request on behalf of the customer. The session provided will have both a short-life permission which allows the customer to carry out actions against their account and this lasts for 15 minutes since last use, and then a long-life permission which is used for checking access to content only.</p>

<p><code class="prettyprint">x-sessionId: BE52ADA2064C4F9A9D90F28D066Y6RDE</code></p>

<aside class="warning">
You must replace the <code>x-tokenId</code> value with your personal API key.
</aside>

<h2 id="server-to-server-integrations">Server-to-server Integrations</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/ <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/..."</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">null</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/..."</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code class="prettyprint">BE52ADA2064C4F9A9D90F28D066D1CEE</code> with your API key.</p>
</blockquote>

<p>eSuite uses API keys to allow access to the API. You can register a new eSuite API key by logging into eSuite HQ.</p>

<p>eSuite expects the API key to be included in all API requests to the server in a header that looks like the following:</p>

<h3 id="x-clientid">X-ClientId</h3>

<p>The header &lsquo;x-clientid&rsquo; is used to identify who is attempting to make the request to eSuite. You will only be issued with a single clientId for eSuite and this will remain consistent between both UAT and the Live system.</p>

<p><code class="prettyprint">x-clientid: 1001</code></p>

<h3 id="x-clientpassword">X-ClientPassword</h3>

<p>The client password is the authorization mechanism used to determine whether the requester has permissions to execute the API method in question. It is possible to have multiple API payments against your client but these will differ between both UAT and the Live system due to the UAT system not being a PCI compliant environment. </p>

<p>The client password should never be revealed in the public domain nor should it be written on a physical item e.g paper. When moving to the Live system, MPP Global&rsquo;s Client Onboarding team will provide a designated member of your organisation the client password over the phone.</p>

<p><code class="prettyprint">x-clientpassword: Str0ngP@ssword</code></p>

<aside class="warning">
The <code>x-clientId</code> should never be revealed in the public domain, nor be accessible to general members of the team.
</aside>

<aside class="warning">
If you choose to integrate the eSuite API directly into your technology stack please be aware that in the event you are processing, storing or transmitting card data, your entire application will be inscope for PCI Level one compliance.
</aside>

<h2 id="versioning">Versioning</h2>

<p>The eSuite API operates a semantic versioning policy which is denoted using MAJOR.MINOR.PATCH (9.0.0). The x-version header is a mandatory parameter on <em>all</em> API requests.</p>

<p>If MPP Global makes a change to the eSuite API that could result in an existing intgration no longer functioning correctly, a new major version will be released, resulting in incrementing the Major version of the API. For example, a non-backwards compatible change to the API would be the change the results in responses being returned as XML rather than JSON. This would see a version 9.12.3 being the final version 9 release and a breaking change being released on version 10.0.0.</p>

<p>As part of the development of the eSuite platform, new features are released every two weeks. The introduction of new features that do not cause breaking changes will be added to the current major version of the API and a minor release. For example, this would be version 9.1.3 providing the ability to create a customer account on the eSuite platform. As part of the next release of the eSuite platform you are able to retrieve customer accounts via the eSuite API but this would be added to a new minor version and be available on version 9.2.0.</p>

<p>From time to time bugs will be discovered with the eSuite API and we will fix them as soon as technically possible. When a fix is deployed to an existing piece of functionality that does not change the details of the API from an integration level, a patch version would be released taking a version from 9.2.3 to version 9.2.4.</p>

<p>The current policy on version support for the eSuite API, MPP Global will continue to support all versions that are currently in use by clients. Once all clients have moved to a later version of the API, an end-of-life (eoL) process will begin.</p>

          <h1 id="accounts">Accounts</h1>

<h2 id="create-account">Create Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{""email":"john.smith@mppglobal.com","clientUserId":"mpp-123456","salutation":"Mr","firstName":"John","lastName":"Smith","phoneNumber":"01513287445","dateOfBirth":"1991-04-12T00:00:01","gender":"Male","addresses":[{"addressType":"Home","houseName":"Blosson Cottage","houseNumber":"12a","street":"Flower Street","townCity":"Garden","district":"Allotment","county":null,"postCode":"NE21ZZ","country":"United Kingdom"}],"customParameters":{"colour":"Blue","referrer":"Facebook"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">mpp-123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">salutation</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Mr</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">phoneNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01513287445</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">dateOfBirth</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">gender</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Male</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addresses</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">addressType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Home</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blosson Cottage</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12a</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Flower Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Garden</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Allotment</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NE21ZZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">}],</span><span class="se">\"</span><span class="s2">customParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">colour</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blue</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">referrer</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Facebook</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">mpp-123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">salutation</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Mr</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">phoneNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01513287445</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">dateOfBirth</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">gender</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Male</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addresses</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">addressType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Home</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blosson Cottage</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12a</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Flower Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Garden</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Allotment</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NE21ZZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">}],</span><span class="se">\"</span><span class="s">customParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">colour</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blue</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">referrer</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Facebook</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td>clientUserId</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td>salutation</td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td>mobileNumber</td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td>addresses</td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td>address &gt; addressType</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td>address &gt; houseName</td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td>address &gt; houseNumber</td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td>address &gt; street</td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td>address &gt; townCity</td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td>address &gt; district</td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td>address &gt; state</td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td>address &gt; county</td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td>address &gt; postCode</td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td>address &gt; country</td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td>customParameters</td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<p><em>* It is mandatory to pass either an email address or a clientUserId. It is possible to provide both.</em></p>

<h2 id="retrieve-account">Retrieve Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once an account has been created within the eSuite platform, it is possible to return the account resource using the REST API.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td>clientUserId</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td>salutation</td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td>mobileNumber</td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td>addresses</td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td>address &gt; addressType</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td>address &gt; houseName</td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td>address &gt; houseNumber</td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td>address &gt; street</td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td>address &gt; townCity</td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td>address &gt; district</td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td>address &gt; state</td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td>address &gt; county</td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td>address &gt; postCode</td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td>address &gt; country</td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td>customParameters</td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<h2 id="update-account">Update Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{""email":"john.smith@mppglobal.com","clientUserId":"mpp-123456","salutation":"Mr","firstName":"John","lastName":"Smith","phoneNumber":"01513287445","dateOfBirth":"1991-04-12T00:00:01","gender":"Male","addresses":[{"addressType":"Home","houseName":"Blosson Cottage","houseNumber":"12a","street":"Flower Street","townCity":"Garden","district":"Allotment","county":null,"postCode":"NE21ZZ","country":"United Kingdom"}],"customParameters":{"colour":"Blue","referrer":"Facebook"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">clientUserId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">mpp-123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">salutation</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Mr</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">phoneNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01513287445</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">dateOfBirth</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">gender</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Male</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addresses</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">addressType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Home</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blosson Cottage</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12a</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Flower Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Garden</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Allotment</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">NE21ZZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">}],</span><span class="se">\"</span><span class="s2">customParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">colour</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Blue</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">referrer</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Facebook</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">clientUserId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">mpp-123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">salutation</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Mr</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">phoneNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01513287445</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">dateOfBirth</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1991-04-12T00:00:01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">gender</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Male</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addresses</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">addressType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Home</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blosson Cottage</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12a</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Flower Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Garden</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Allotment</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">NE21ZZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">}],</span><span class="se">\"</span><span class="s">customParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">colour</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Blue</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">referrer</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Facebook</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"email\":\"john.smith@mppglobal.com\",\"clientUserId\":\"mpp-123456\",\"salutation\":\"Mr\",\"firstName\":\"John\",\"lastName\":\"Smith\",\"phoneNumber\":\"01513287445\",\"dateOfBirth\":\"1991-04-12T00:00:01\",\"gender\":\"Male\",\"addresses\":[{\"addressType\":\"Home\",\"houseName\":\"Blosson Cottage\",\"houseNumber\":\"12a\",\"street\":\"Flower Street\",\"townCity\":\"Garden\",\"district\":\"Allotment\",\"county\":null,\"postCode\":\"NE21ZZ\",\"country\":\"United Kingdom\"}],\"customParameters\":{\"colour\":\"Blue\",\"referrer\":\"Facebook\"}}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2032774</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010AL6OI8WQFGYUT0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@mppglobal.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clientUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mpp-123456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01513287445"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-04-12T00:00:01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blosson Cottage"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flower Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Garden"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allotment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE21ZZ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"colour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"702f5c37e2394db785ae1306ecce9750"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">PUT http://uat.mppglobal.com/api/accounts/{accountId}</code></p>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is primary IDAM.</td>
</tr>
<tr>
<td>clientUserId</td>
<td>string</td>
<td>Yes*</td>
<td>The identifier used when eSuite is secondary IDAM. Once set this cannot be changed.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Yes</td>
<td>The value provided by the account to pair with the email.</td>
</tr>
<tr>
<td>salutation</td>
<td>string</td>
<td>No</td>
<td>Available values: Mr, Mrs, Miss and Ms.</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Yes</td>
<td>The first name associated to the account.</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Yes</td>
<td>The last name associated to the account.</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>string</td>
<td>Yes</td>
<td>The home phone number of the account.</td>
</tr>
<tr>
<td>mobileNumber</td>
<td>string</td>
<td>Yes</td>
<td>The mobile number of the account (minus country code).</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>dateTime</td>
<td>Yes</td>
<td>The birthday of the account.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Male, Female and Unspecified.</td>
</tr>
<tr>
<td>addresses</td>
<td>array</td>
<td>Yes</td>
<td>A collection of addresses bound to the account.</td>
</tr>
<tr>
<td>address &gt; addressType</td>
<td>string</td>
<td>Yes</td>
<td>Available values: Home and Billing.</td>
</tr>
<tr>
<td>address &gt; houseName</td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the address.</td>
</tr>
<tr>
<td>address &gt; houseNumber</td>
<td>string</td>
<td>Yes</td>
<td>The building number associated to the address.</td>
</tr>
<tr>
<td>address &gt; street</td>
<td>string</td>
<td>Yes</td>
<td>The street associated to the address.</td>
</tr>
<tr>
<td>address &gt; townCity</td>
<td>string</td>
<td>Yes</td>
<td>The town or city associated to the address</td>
</tr>
<tr>
<td>address &gt; district</td>
<td>string</td>
<td>No</td>
<td>The districtassociated to the address</td>
</tr>
<tr>
<td>address &gt; state</td>
<td>string</td>
<td>No</td>
<td>The state associated to the address</td>
</tr>
<tr>
<td>address &gt; county</td>
<td>string</td>
<td>No</td>
<td>The county associated to the address</td>
</tr>
<tr>
<td>address &gt; postCode</td>
<td>string</td>
<td>Yes</td>
<td>The post code associated to the address</td>
</tr>
<tr>
<td>address &gt; country</td>
<td>string</td>
<td>Yes</td>
<td>The country the account resides</td>
</tr>
<tr>
<td>customParameters</td>
<td>dictionary</td>
<td>No</td>
<td>A collection of custom attributes stored against the account</td>
</tr>
</tbody></table>

<p><em>* It is mandatory to pass either an email address or a clientUserId. It is possible to provide both.</em></p>

<h2 id="delete-account">Delete Account</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">DELETE http://uat.mppglobal.com/api/accounts/{accountId}</code></p>

<h2 id="trigger-account-verification">Trigger Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>It is a requirement of the eSuite platform that an account be created in order to perform future actions such as payments and subscription purchases.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/{accountId}/verify</code></p>

<h2 id="complete-account-verification">Complete Account Verification</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/verify <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"verificationToken":"BE52ADA2064C4F9A9D90F28D066D1RFT"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">verificationToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">verificationToken</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BE52ADA2064C4F9A9D90F28D066D1RFT</span><span class="se">\"</span><span class="s">}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/verify"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/verify"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
   <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"verificationToken\":\"BE52ADA2064C4F9A9D90F28D066D1RFT\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>Following the receiving of a verification email, the link contained within will take the customer to a page which has integrated this API methods and pass the verification token to eSuite to verifiy the account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH http://uat.mppglobal.com/api/accounts/verify</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>verificationToken</td>
<td>string</td>
<td>Yes</td>
<td>This parameter represents the token that was contained within the email sent to the account.</td>
</tr>
</tbody></table>

<h2 id="trigger-forgotten-password">Trigger Forgotten Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/forgotten-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"emailAddress":"john.smith@mppglobal.com"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">emailAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">emailAddress</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/forgotten-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/forgotten-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"emailAddress\":\"john.smith@mppglobal.com\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 confirming verification.</p>
</blockquote>

<p>In the event a customer is unable to access their account due to forgetting their credentials, this API method should be called to trigger an email to be sent to the customers which contains a link that will allow them to reset their password.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/forgotten-password</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>emailAddress</td>
<td>string</td>
<td>Yes</td>
<td>The email address associated to the customers account</td>
</tr>
</tbody></table>

<h2 id="reset-password">Reset Password</h2>
<pre class="highlight shell tab-shell"><code>curl --request PATCH <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/update-password <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-sessionid: BE52ADA2064C4F9A9D90F28D066D1RFT'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"password":"ReallyStr0ngP@ss0rd","login":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PATCH</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Patch</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">login</span><span class="se">\"</span><span class="s2">:true}"</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">ReallyStr0ngP@ss0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">login</span><span class="se">\"</span><span class="s">:true}"</span>


<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">"x-sessionid"</span><span class="p">:</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"/api/accounts/update-password"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/update-password"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"password\":\"ReallyStr0ngP@ss0rd\",\"login\":true}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns the following JSON document if login was provided as true:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sessionToken"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b6dab2afbc4d42a385746a51b3bd2ed6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH http://uat.mppglobal.com/api/accounts/update-password</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>password</td>
<td>string</td>
<td>Yes</td>
<td>The new password for the account.</td>
</tr>
<tr>
<td>login</td>
<td>boolean</td>
<td>Yes</td>
<td>An indication as to whether the customer should be provided a session following password update.</td>
</tr>
</tbody></table>

<h2 id="retrieve-transaction-summary">Retrieve Transaction Summary</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/transaction-summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/transaction-summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalCustomerValue"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">56.2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"totalRefundsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingPaymentsToDate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
      </span><span class="s2">"averageValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outstandingCreditBalance"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.27</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will provide a breakdown of the accounts transaction summary both historically and future dated.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/accounts/{accountId}/transaction-summary</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>totalCustomerValue</td>
<td>Customer value broken down by currency</td>
</tr>
<tr>
<td>totalCustomerValue &gt; totalValue</td>
<td>The sum of all payments minus any refunds</td>
</tr>
<tr>
<td>totalCustomerValue &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td>totalPaymentsToDate</td>
<td>Total number of payments taken, broken down by currency</td>
</tr>
<tr>
<td>totalPaymentsToDate &gt; totalValue</td>
<td>The sum of all payments taken against the account</td>
</tr>
<tr>
<td>totalPaymentsToDate &gt; averageValue</td>
<td>The average transaction amount</td>
</tr>
<tr>
<td>totalPaymentsToDate &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td>totalPaymentsToDate &gt; quantity</td>
<td>The number of payments which have been taken against the account</td>
</tr>
<tr>
<td>totalRefundsToDate</td>
<td>All refunds applied, broken down by currency</td>
</tr>
<tr>
<td>totalRefundsToDate &gt; totalValue</td>
<td>The sum of all refunds against the account</td>
</tr>
<tr>
<td>totalRefundsToDate &gt; averageValue</td>
<td>The average transaction refund amount</td>
</tr>
<tr>
<td>totalRefundsToDate &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td>totalRefundsToDate &gt; quantity</td>
<td>integer</td>
</tr>
<tr>
<td>outstandingPaymentsToDate</td>
<td>All outstanding payments, broken down by currency</td>
</tr>
<tr>
<td>outstandingPaymentsToDate &gt; totalValue</td>
<td>The sum of all payments yet to be taken against the account</td>
</tr>
<tr>
<td>outstandingPaymentsToDate &gt; averageValue</td>
<td>The average transaction amount</td>
</tr>
<tr>
<td>outstandingPaymentsToDate &gt; currency</td>
<td>The currency the value represents</td>
</tr>
<tr>
<td>outstandingPaymentsToDate &gt; quantity</td>
<td>Total number of outstanding payments</td>
</tr>
<tr>
<td>outstandingCreditBalance</td>
<td>All outstanding credit balances broken down by currency</td>
</tr>
<tr>
<td>outstandingCreditBalance &gt; totalValue</td>
<td>The total amount credit on the account</td>
</tr>
<tr>
<td>outstandingCreditBalance &gt; currency</td>
<td>The currency the value represents</td>
</tr>
</tbody></table>

          <h1 id="address-book">Address Book</h1>

<h2 id="create-address">Create Address</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"houseName":"Orange House","houseNumber":"119","street":"Colourful Street","townCity":"East Village","district":null,"state":null,"county":"Merseyside","postCode":"CH11 1GV","country":"United Kingdom","isDefault":true}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">houseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Orange House</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">houseNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">119</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">street</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Colourful Street</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">townCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">East Village</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">district</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">state</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">county</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Merseyside</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">postCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CH11 1GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">country</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isDefault</span><span class="se">\"</span><span class="s2">:true}"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">houseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Orange House</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">houseNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">119</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">street</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Colourful Street</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">townCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">East Village</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">district</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">state</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">county</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Merseyside</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">postCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CH11 1GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">country</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">isDefault</span><span class="se">\"</span><span class="s">:true}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"houseName\":\"Orange House\",\"houseNumber\":\"119\",\"street\":\"Colourful Street\",\"townCity\":\"East Village\",\"district\":null,\"state\":null,\"county\":\"Merseyside\",\"postCode\":\"CH11 1GV\",\"country\":\"United Kingdom\",\"isDefault\":true}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The resource created is returned in the <em>Location</em> header of the response</p>
</blockquote>

<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/{accountId}/addresses</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>houseName</td>
<td>string</td>
<td>mandatory*</td>
<td>The name associated to the building</td>
</tr>
<tr>
<td>houseNumber</td>
<td>string</td>
<td>mandatory*</td>
<td>The building number associated to the address</td>
</tr>
<tr>
<td>street</td>
<td>string</td>
<td>mandatory</td>
<td>The street the address is located</td>
</tr>
<tr>
<td>townCity</td>
<td>string</td>
<td>mandatory</td>
<td>The town or city the address is associated</td>
</tr>
<tr>
<td>district</td>
<td>string</td>
<td>optional</td>
<td>The district associated with the address</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>optional</td>
<td>The state that the address is located</td>
</tr>
<tr>
<td>county</td>
<td>string</td>
<td>optional</td>
<td>The county the address is associated</td>
</tr>
<tr>
<td>postCode</td>
<td>string</td>
<td>mandatory</td>
<td>The postcode of the address that has been added</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>mandatory</td>
<td>The country the address is specific to</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>optional</td>
<td>An indication as to whether the address is the default address for the account</td>
</tr>
</tbody></table>

<p>*Either houseName or houseNumber is required but both are not mandatory.</p>

<h2 id="retrieve-address-book">Retrieve Address Book</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/addresses <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/addresses"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/addresses"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"addressBook"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"addressIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010D04D2E807PQ953"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Orange House"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"houseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Colourful Street"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"townCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"East Village"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merseyside"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CH11 1GV"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Description of what the endpoint does.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/addresses</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addressBook</td>
<td>array[object]</td>
<td>The list of addresses</td>
</tr>
<tr>
<td>addressIdentifier</td>
<td>string</td>
<td>The address identifier that should be used to identify which address is required in future API requests</td>
</tr>
<tr>
<td>houseName</td>
<td>string</td>
<td>The name associated to the building</td>
</tr>
<tr>
<td>houseNumber</td>
<td>string</td>
<td>The building number associated to the address</td>
</tr>
<tr>
<td>street</td>
<td>string</td>
<td>The street the address is located</td>
</tr>
<tr>
<td>townCity</td>
<td>string</td>
<td>The town or city the address is associated</td>
</tr>
<tr>
<td>district</td>
<td>string</td>
<td>The district associated with the address</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>The state that the address is located</td>
</tr>
<tr>
<td>county</td>
<td>string</td>
<td>The county the address is associated</td>
</tr>
<tr>
<td>postCode</td>
<td>string</td>
<td>The postcode of the address that has been added</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>The country the address is specific to</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>An indication as to whether the address is the default address for the account</td>
</tr>
</tbody></table>

          <h1 id="payment-details">Payment Details</h1>

<h2 id="add-a-credit-debit-card">Add a Credit/Debit Card</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details/card <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"cardNumber":"4111111111111111","cardType":"Visa",
  "expiryDate":"01/19",  "issueCode":null,"securityCode":"123", 
  "billingHouseName":"Lilac Cottage","billingHouseFlatNumber":"12",
  "billingStreet":"Windermere Road","billingDistrict":null,
  "billingTownCity":"Chester","billingCounty":"Cheshire",
  "billingPostcode":"CH638BF","billingCountry":"United Kingdom",
  "setDefault":true,"associatedName":"My Visa Card","skipPreAuth":false}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"Visa\",
</span>  <span class="p">+</span> <span class="s">"\"expiryDate\":\"01/19\",\"issueCode\":null,\"securityCode\":\"123\",
</span>  <span class="p">+</span> <span class="s">"\"billingHouseName\":\"Lilac Cottage\",\"billingHouseFlatNumber\":\"12\",\"billingStreet\":\"Windermere Road\",
</span>  <span class="p">+</span> <span class="s">"\"billingDistrict\":null,\"billingTownCity\":\"Chester\",\"billingCounty\":\"Cheshire\",
</span>  <span class="p">+</span> <span class="s">"\"billingPostcode\":\"CH638BF\",\"billingCountry\":\"United Kingdom\",\"setDefault\":true,
</span>  <span class="p">+</span> <span class="s">"\"associatedName\":\"My Visa Card\",\"skipPreAuth\":false}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cardNumber\":\"4111111111111111\",\"cardType\":\"Visa\",\"expiryDate\":\"01/19\",\"issueCode\":null,\"securityCode\":\"123\",\"billingHouseName\":\"Lilac Cottage\",\"billingHouseFlatNumber\":\"12\",\"billingStreet\":\"Windermere Road\",\"billingDistrict\":null,\"billingTownCity\":\"Chester\",\"billingCounty\":\"Cheshire\",\"billingPostcode\":\"CH638BF\",\"billingCountry\":\"United Kingdom\",\"setDefault\":true,\"associatedName\":\"My Visa Card\",\"skipPreAuth\":false}"</span><span class="o">).</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/card"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cardNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4111111111111111</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">cardType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Visa</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">expiryDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">01/19</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">issueCode</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">cvv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">123</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingHouseName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Lilac House</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingHouseFlatNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingStreet</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Windermere Road</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingDistrict</span><span class="se">\"</span><span class="s2">:null</span><span class="se">\"</span><span class="s2">billingTownCity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Chester</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingCounty</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cheshire</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingPostcode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CH638BF</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">billingCountry</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">setDefault</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">associatedName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">My Visa Card</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">skipPreAuth</span><span class="se">\"</span><span class="s2">:false}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cardNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">4111111111111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">cardType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Visa</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">expiryDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">01/19</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">issueCode</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">cvv</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">123</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingHouseName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Lilac House</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingHouseFlatNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingStreet</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Windermere Road</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingDistrict</span><span class="se">\"</span><span class="s">:null,</span><span class="se">\"</span><span class="s">billingTownCity</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Chester</span><span class="se">\"\"</span><span class="s">billingCounty</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cheshire</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingPostcode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CH638BF</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">billingCountry</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">United Kingdom</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">setDefault</span><span class="se">\"</span><span class="s">:true,</span><span class="se">\"</span><span class="s">associatedName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">My Visa Card</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">skipPreAuth</span><span class="se">\"</span><span class="s">:false}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/card"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to make a purchase using a credit or debit card, a card must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/:accountId/payment-details/card</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cardNumber</td>
<td>string</td>
<td>Yes</td>
<td>The 13-19 digit number on the face of a credit or debit card.</td>
</tr>
<tr>
<td>cardType</td>
<td>string</td>
<td>Yes</td>
<td>The type of card the account is adding, Visa, Mastercard, Amex, Diners, Discover.</td>
</tr>
<tr>
<td>expiryDate</td>
<td>string</td>
<td>Yes</td>
<td>The date at which the card will expire, mm-yy.</td>
</tr>
<tr>
<td>issueCode</td>
<td>string</td>
<td>No</td>
<td>The number of cards the acquirer has issues for the account.</td>
</tr>
<tr>
<td>securityCode</td>
<td>string</td>
<td>Yes</td>
<td>3-4 digit code on the rear of a card.</td>
</tr>
<tr>
<td>billingHouseName</td>
<td>string</td>
<td>No</td>
<td>The building name in which the card is registered.</td>
</tr>
<tr>
<td>billingHouseFlatNumber</td>
<td>string</td>
<td>No</td>
<td>The building number at which the card is registered.</td>
</tr>
<tr>
<td>billingStreet</td>
<td>string</td>
<td>No</td>
<td>The street in which the card is registered.</td>
</tr>
<tr>
<td>billingDistrict</td>
<td>string</td>
<td>No</td>
<td>The district in which the card is registered.</td>
</tr>
<tr>
<td>billingTownCity</td>
<td>string</td>
<td>No</td>
<td>The town or city in which the card is registered.</td>
</tr>
<tr>
<td>billingPostcode</td>
<td>string</td>
<td>No</td>
<td>The post code in which the card is registered.</td>
</tr>
<tr>
<td>billingCountry</td>
<td>string</td>
<td>No</td>
<td>The country in which the card is registered.</td>
</tr>
<tr>
<td>setDefault</td>
<td>boolean</td>
<td>No</td>
<td>An indication as to whether this card will be the customers default card.</td>
</tr>
<tr>
<td>associatedName</td>
<td>string</td>
<td>No</td>
<td>A friendly name to identify the payment card to the account.</td>
</tr>
<tr>
<td>skipPreAuth</td>
<td>boolean</td>
<td>No</td>
<td>An indication as to whether the card should be authorised as part of the addition process.</td>
</tr>
</tbody></table>

<aside class="error">
Remember — you must authorise a card before it can be used
</aside>

<h2 id="add-a-bacs-direct-debit-wallet">Add a BACS Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steven Smith","accountNumber":"11111111","sortCode":"000000",
  "bacsReference":"AE34567LZ","serviceId":124875}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-sessionid"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-tokenid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"Steven Smith\",
</span>  <span class="s">"\"accountNumber\":\"11111111\",\"sortCode\":\"000000\",\"bacsReference\":\"AE34567LZ\",\"serviceId\":124875}"</span><span class="p">,</span> 
  <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-tokenid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"Steven Smith\",\"accountNumber\":\"11111111\",\"sortCode\":\"000000\",
    "</span><span class="err">\</span><span class="s">"bacsReference\":\"AE34567LZ\",\"serviceId\":124875}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/bacs"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Steven Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">11111111</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">sortCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">000000</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">bacsReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AE34567LZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">serviceId</span><span class="se">\"</span><span class="s2">:124875}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Steven Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountNumber</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">11111111</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">sortCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">000000</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">bacsReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AE34567LZ</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">serviceId</span><span class="se">\"</span><span class="s">:124875}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/bacs"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using BACS Direct Debit, a BACS wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/:accountId/payment-details/bacs</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountHolderName</td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the bank account.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>string</td>
<td>Yes</td>
<td>The UK bank account number.</td>
</tr>
<tr>
<td>sortCode</td>
<td>string</td>
<td>Yes</td>
<td>The bank sort code associated to the account.</td>
</tr>
<tr>
<td>bacsReference</td>
<td>string</td>
<td>No</td>
<td>The existing mandate reference if the account is coming from another system.</td>
</tr>
<tr>
<td>serviceId</td>
<td>integer</td>
<td>Yes</td>
<td>The eSuite ServiceId that this BACS wallet will be used for.</td>
</tr>
</tbody></table>

<h2 id="add-a-sepa-direct-debit-wallet">Add a SEPA Direct Debit Wallet</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --data <span class="s1">'{"accountHolderName":"Steve Smith","iban":"IE64BOFI90583812345678",
  "bic":"BOFIIE2D","serviceId":148754}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/payment-details/sepa"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"accountHolderName\":\"Steve Smith\",
</span> <span class="s">"\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\",\"serviceId\":148754}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details/sepa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"accountHolderName\":\"Steve Smith\",\"iban\":\"IE64BOFI90583812345678\",\"bic\":\"BOFIIE2D\",
   "</span><span class="err">\</span><span class="s">"serviceId\":148754}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details/sepa"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">accountHolderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Steve Smith</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">iban</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">bic</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BOFIIE2D</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">serviceId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">148754</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">accountHolderName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Steve Smith</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">iban</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">IE64BOFI90583812345678</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">bic</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">BOFIIE2D</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">serviceId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">148754</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details/sepa"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns an empty response alongside a HTTP 204</p>
</blockquote>

<p>In order to make a purchase using SEPA Direct Debit, a SEPA wallet must be added to the eSuite platform.</p>

<h3 id="url-end-point">URL End-point</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/:accountId/payment-details/sepa</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountHolderName</td>
<td>string</td>
<td>Yes</td>
<td>The name associated to the bank account.</td>
</tr>
<tr>
<td>iban</td>
<td>string</td>
<td>Yes</td>
<td>The bank account number.</td>
</tr>
<tr>
<td>bic</td>
<td>string</td>
<td>Yes</td>
<td>The bank identification code associated to the account.</td>
</tr>
<tr>
<td>serviceId</td>
<td>integer</td>
<td>Yes</td>
<td>The eSuite ServiceId that this BACS wallet will be used for.</td>
</tr>
</tbody></table>

<h2 id="get-payment-details">Get payment details</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/123456/payment-details <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientid"</span>, <span class="s2">"1001"</span><span class="o">)</span> <span class="se">\</span>
  --header<span class="o">(</span><span class="s2">"x-clientpassword"</span>, <span class="s2">"Str0ngP@ssword"</span><span class="o">)</span><span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/123456/payment-details"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-tokenid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-sessionid'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/123456/payment-details"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"associatedName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Bloggs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingHouseFlatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingStreet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wigan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingDistrict"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingTownCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolton"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCounty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manchester"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingPostcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"billingCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kindom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"****-****-****-1111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"issueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135069"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"payPal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentDetailId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604DB6C40EAA4C04BC6E65C4E4135785"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves the payment details stored against an eSuite account.</p>

<aside class="warning">Only credit/debit cards and repeatable PayPal tokens are returned via this endpoint.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://uat.mppglobal.com/api/accounts/:accountId/payment-details</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentDetails</td>
<td>array[object]</td>
<td>The collection of payment details available for the account.</td>
</tr>
<tr>
<td>cards</td>
<td>array[object]</td>
<td>The collection of payment cards available for the account.</td>
</tr>
<tr>
<td>cards &gt; associatedName</td>
<td>string</td>
<td>Associated name to identify the card.</td>
</tr>
<tr>
<td>cards &gt; billingHouseName</td>
<td>string</td>
<td>The name of the house the card is associated to.</td>
</tr>
<tr>
<td>cards &gt; billingHouseFlatNumber</td>
<td>string</td>
<td>The number of the house the card is associated to.</td>
</tr>
<tr>
<td>cards &gt; billingStreet</td>
<td>string</td>
<td>The street associated to the card.</td>
</tr>
<tr>
<td>cards &gt; billingDistrict</td>
<td>string</td>
<td>The district associated to the card.</td>
</tr>
<tr>
<td>cards &gt; billingTownCity</td>
<td>string</td>
<td>The town or city associated to the card.</td>
</tr>
<tr>
<td>cards &gt; billingCounty</td>
<td>string</td>
<td>The county associated to the card.</td>
</tr>
<tr>
<td>cards &gt; billingPostcode</td>
<td>string</td>
<td>The postcode associated to the card.</td>
</tr>
<tr>
<td>cards &gt; billingCountry</td>
<td>string</td>
<td>The country associated to the card.</td>
</tr>
<tr>
<td>cards &gt; cardNumber</td>
<td>string</td>
<td>A masked representation of the card.</td>
</tr>
<tr>
<td>cards &gt; cardType</td>
<td>string</td>
<td>The card brand associated to the card.</td>
</tr>
<tr>
<td>cards &gt; expiryDate</td>
<td>string</td>
<td>The date at which the card is due to expire.</td>
</tr>
<tr>
<td>cards &gt; isDefault</td>
<td>boolean</td>
<td>An indication as to whether this card is the default for the account.</td>
</tr>
<tr>
<td>cards &gt; issueCode</td>
<td>string</td>
<td>Issue number typically found on debit and bank cards.</td>
</tr>
<tr>
<td>cards &gt; paymentDetailId</td>
<td>string</td>
<td>The identifier of the card within eSuite.</td>
</tr>
<tr>
<td>payPal</td>
<td>object</td>
<td>PayPal object detailing information about the customers PayPal account.</td>
</tr>
<tr>
<td>paymentDetailId</td>
<td>string</td>
<td>The identifier of the PayPal wallet within eSuite.</td>
</tr>
</tbody></table>

          <h1 id="subscription-management">Subscription Management</h1>

<h2 id="create-a-subscription-holiday">Create a subscription holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"startDate":"2017-07-04T00:00:00","endDate":"2017-07-14T23:59:59"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-04T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-14T23:59:59</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"startDate\":\"2017-07-04T00:00:00\",\"endDate\":\"2017-07-14T23:59:59\"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 200 with JSON similar to the below.
<code class="prettyprint">json
{
  &quot;subscriptionHolidayReference&quot;: &quot;QIUQIEUQIEU8173&quot;,
  &quot;subscriptionReference&quot;: &quot;ASJDKAS6712KDASK&quot;,
  &quot;startDate&quot;: &quot;2017-07-04T00:00:00&quot;,
  &quot;endDate&quot;: &quot;2017-07-14T23:59:59&quot;
}
</code></p>
</blockquote>

<p>This endpoint allows you to create a holiday period for a specific subscription. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startDate</td>
<td>string</td>
<td>Yes</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>Yes</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-subscription-holidays">Retrieve all subscription holidays</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td>array[objects]</td>
<td>The collection of support log entries.</td>
</tr>
<tr>
<td>subscriptionHolidayReference</td>
<td>string</td>
<td>Reference to the holiday.</td>
</tr>
<tr>
<td>subscriptionReference</td>
<td>string</td>
<td>Reference to the subscription.</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-subscription-holiday">Retrieve a subscription holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all configured subscription holidays for a specific accounts subscription.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptionHolidayReference</td>
<td>string</td>
<td>Reference to the holiday.</td>
</tr>
<tr>
<td>subscriptionReference</td>
<td>string</td>
<td>Reference to the subscription.</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>The date at which the holiday period should begin.</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>The date at which the subscription should become active.</td>
</tr>
</tbody></table>

<h2 id="update-a-subscription-holiday">Update a subscription holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/StartDate/","value":"2017-08-04 00:00:00Z"},{"op":"replace","path":"/EndDate/","value":"2017-09-04 00:00:00Z"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/StartDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/EndDate/</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/StartDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-08-04 00:00:00Z</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/EndDate/</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-09-04 00:00:00Z</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/StartDate/\",\"value\":\"2017-08-04 00:00:00Z\"},{\"op\":\"replace\",\"path\":\"/EndDate/\",\"value\":\"2017-09-04 00:00:00Z\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionHolidayReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QIUQIEUQIEU8173"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASJDKAS6712KDASK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T00:00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T23:59:59"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In the event you need to update a subscription holiday, this end point should be called to edit those which have not started.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">PUT http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</code></p>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
<td></td>
</tr>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="delete-a-subcription-holiday">Delete a subcription holiday</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/<span class="o">{</span>subscriptionReference<span class="o">}</span>/holidays/<span class="o">{</span>subscriptionHolidayReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon completion.</p>
</blockquote>

<p>If an account would like to cancel their subscription holiday, this endpoint should be called.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">DELETE http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/{subscriptionReference}/holidays/{subscriptionHolidayReference}</code></p>

          <h1 id="payment-instructions">Payment Instructions</h1>

<h2 id="create-a-payment-instruction">Create a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"cartReference":"A12347853S","paymentMethod":"SEPA","addressReference":"B123678542","voucherCode":"5OFFABCD","fulfilmentInfo":[{"fulfilmentType":"Digital","addressReference":"B123678542GV","fulfilmentDates":["2018-03-01T00:00:00"],"leadTime":4,"associatedPayments":{"paymentDates":["2018-03-01T00:00:00","2018-05-01T00:00:00","2018-05-01T00:00:00"],"customPaymentParameters":{"originator":"DirectSale"}},"customFulfilmentParameters":{"instructions":"Leave in garage."}}],"synchronousPaymentInfo":{"paymentMethod":"CreditCard","customPaymentParameters":null},"customPaymentInstructionParameters":{"paymentType":"pre-paid"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"cartReference\":\"A12347853S\",\"paymentMethod\":\"SEPA\",\"addressReference\":\"B123678542\",\"voucherCode\":\"5OFFABCD\",\"fulfilmentInfo\":[{\"fulfilmentType\":\"Digital\",\"addressReference\":\"B123678542GV\",\"fulfilmentDates\":[\"2018-03-01T00:00:00\"],\"leadTime\":4,\"associatedPayments\":{\"paymentDates\":[\"2018-03-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-05-01T00:00:00\"],\"customPaymentParameters\":{\"originator\":\"DirectSale\"}},\"customFulfilmentParameters\":{\"instructions\":\"Leave in garage.\"}}],\"synchronousPaymentInfo\":{\"paymentMethod\":\"CreditCard\",\"customPaymentParameters\":null},\"customPaymentInstructionParameters\":{\"paymentType\":\"pre-paid\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">cartReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">A12347853S</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SEPA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">voucherCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">5OFFABCD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentInfo</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">fulfilmentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Digital</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">addressReference</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">B123678542GV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fulfilmentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">leadTime</span><span class="se">\"</span><span class="s2">:4,</span><span class="se">\"</span><span class="s2">associatedPayments</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentDates</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">originator</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">DirectSale</span><span class="se">\"</span><span class="s2">}},</span><span class="se">\"</span><span class="s2">customFulfilmentParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">instructions</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Leave in garage.</span><span class="se">\"</span><span class="s2">}}],</span><span class="se">\"</span><span class="s2">synchronousPaymentInfo</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentMethod</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CreditCard</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">customPaymentParameters</span><span class="se">\"</span><span class="s2">:null},</span><span class="se">\"</span><span class="s2">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">paymentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">pre-paid</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">cartReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">A12347853S</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SEPA</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">voucherCode</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">5OFFABCD</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentInfo</span><span class="se">\"</span><span class="s">:[{</span><span class="se">\"</span><span class="s">fulfilmentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Digital</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">addressReference</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B123678542GV</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">fulfilmentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">leadTime</span><span class="se">\"</span><span class="s">:4,</span><span class="se">\"</span><span class="s">associatedPayments</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentDates</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">2018-03-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">2018-05-01T00:00:00</span><span class="se">\"</span><span class="s">],</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">originator</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">DirectSale</span><span class="se">\"</span><span class="s">}},</span><span class="se">\"</span><span class="s">customFulfilmentParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">instructions</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Leave in garage.</span><span class="se">\"</span><span class="s">}}],</span><span class="se">\"</span><span class="s">synchronousPaymentInfo</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentMethod</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">CreditCard</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">customPaymentParameters</span><span class="se">\"</span><span class="s">:null},</span><span class="se">\"</span><span class="s">customPaymentInstructionParameters</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">paymentType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">pre-paid</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 201 alongside a response Header of Location.</p>
</blockquote>

<p>This endpoint allows you to create a payment instruction. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logType</td>
<td>string</td>
<td>Yes</td>
<td>The type of log entry. Only SupportNote is accepted on the POST.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-summary-of-payment-instructions">Retrieve a summary of Payment Instructions</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/summary <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextFulfilmentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:51:27.1816315Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre-paid"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a summary of all payment instructions against a specific account.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/summary/</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentInstructions</td>
<td>array[objects]</td>
<td>The collection of payment instructions.</td>
</tr>
<tr>
<td>paymentInstructions &gt; paymentInstructionReference</td>
<td>string</td>
<td>The identifier for the specific payment instruction.</td>
</tr>
<tr>
<td>paymentInstructions &gt; cartReference</td>
<td>string</td>
<td>The identifier for the Cart for the payment instruction.</td>
</tr>
<tr>
<td>paymentInstructions &gt; nextFulfilmentReference</td>
<td>string</td>
<td>The identifier for the next fulfilment on the payment instruction.</td>
</tr>
<tr>
<td>paymentInstructions &gt; nextFulfilmentDate</td>
<td>string</td>
<td>The next date a fulfilment will be dispatched.</td>
</tr>
<tr>
<td>paymentInstructions &gt; lastPaymentDate</td>
<td>integer</td>
<td>The date the last payment was taken against the payment instruction.</td>
</tr>
<tr>
<td>paymentInstructions &gt; nextPaymentDate</td>
<td>string</td>
<td>The next scheduled date a payment will be taken.</td>
</tr>
<tr>
<td>paymentInstructions &gt; description</td>
<td>string</td>
<td>The name/description of the payment instruction</td>
</tr>
<tr>
<td>paymentInstructions &gt; customPaymentInstructionParameters</td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payment instructions.</td>
</tr>
<tr>
<td>paymentInstructions &gt; parameterName</td>
<td>string</td>
<td>Representation of all custom parameters against the payment instruction.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-payment-instruction">Retrieve a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paymentInstructionReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010J3O92YZYM43OP0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cartReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010KCKSYU72H5M3X0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fulfilmentPaymentMappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fulfilments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fulfilmentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010L00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fulfilmentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"expectedDeliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-30T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"supplierNotificationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-27T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"addressReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010DF5QFO4XK5H0L0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customFulfilmentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Fulfilment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Fulfilment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"paymentReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010H00WASCMKX7UO3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-23T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dateLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
          </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"netAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customPaymentParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Custom Payment Param Name 3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom Payment Param Value 3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"customPaymentInstructionParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a specific support log, for a specific account. </p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}/</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paymentInstructionReference</td>
<td>string</td>
<td>The identifier for the payment instruction.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>The status of the payment instruction.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The currency against the payment instruction.</td>
</tr>
<tr>
<td>cartReference</td>
<td>string</td>
<td>The cart which is default for the payment instruction.</td>
</tr>
<tr>
<td>fulfilmentPaymentMappings</td>
<td>array[objects]</td>
<td>An array of objects that map payments to their associated fulfilments.</td>
</tr>
<tr>
<td>fulfilmentPaymentMappings &gt; fulfilments</td>
<td>array[objects]</td>
<td>An array of all fulfilments for the payment instruction.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; fulfilmentReference</td>
<td>string</td>
<td>The reference identifier to the fulfilment</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; fulfilmentStatus</td>
<td>string</td>
<td>The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; fulfilmentType</td>
<td>string</td>
<td>Indication as to whether it is a digital or physical fulfilment.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; expectedDeliveryDate</td>
<td>string</td>
<td>The date and time the account expects to receive their goods.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; supplierNotificationDate</td>
<td>string</td>
<td>The date and time at which eSuite will notify the fulfilment system.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; addressReference</td>
<td>string</td>
<td>The reference addrress the fulfilment will be delivered to.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; dateCreated</td>
<td>string</td>
<td>The date and time the fulfilment was created.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; dateLastUpdated</td>
<td>string</td>
<td>The date and time the fulfilment was last updated.</td>
</tr>
<tr>
<td>.. &gt; fulfilments &gt; customFulfilmentParameters</td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the fulfilment.</td>
</tr>
<tr>
<td>.. &gt; customFulfilmentParameters &gt; parameterName</td>
<td>string</td>
<td>Representation of all custom parameters against the fulfilment.</td>
</tr>
<tr>
<td>fulfilmentPaymentMappings &gt; payments</td>
<td>array[objects]</td>
<td>An array of all payments for the payment instruction.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; paymentReference</td>
<td>string</td>
<td>The reference identifier to the fulfilment</td>
</tr>
<tr>
<td>.. &gt; payments &gt; paymentDate</td>
<td>string</td>
<td>The status of the fulfilment e.g. pending, processing, dispatched or cancelled.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; paymentStatus</td>
<td>string</td>
<td>Indication as to whether it is a digital or physical fulfilment.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; vatAmount</td>
<td>string</td>
<td>The amount apportioned to tax.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; grossAmount</td>
<td>string</td>
<td>The amount charged and submitted to the merchant.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; netAmount</td>
<td>string</td>
<td>The amount charged minus tax.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; dateCreated</td>
<td>string</td>
<td>The date and time the payment was created.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; dateLastUpdated</td>
<td>string</td>
<td>The date and time the payment was last updated.</td>
</tr>
<tr>
<td>.. &gt; payments &gt; customPaymentParameters</td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payments.</td>
</tr>
<tr>
<td>.. &gt; customPaymentParameters &gt; parameterName</td>
<td>string</td>
<td>Representation of all custom parameters against the payment.</td>
</tr>
<tr>
<td>customPaymentInstructionParameters</td>
<td>dictionary</td>
<td>This is a collection of custom attributes against the payment instructions.</td>
</tr>
<tr>
<td>.. &gt; customPaymentInstructionParameters &gt; parameterName</td>
<td>string</td>
<td>Representation of all custom parameters against the payment instruction.</td>
</tr>
</tbody></table>

<h2 id="update-a-payment-instruction">Update a Payment Instruction</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/payment-instructions/<span class="o">{</span>paymentInstructionReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
 --data <span class="s1">'[{"op":"replace","path":"/Status","value":"Cancelled"},{"op":"add","path":"/CancellationCode","value":"0.14"},{"op":"add","path":"/CancellationReason","value":"this is a value"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Cancelled</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationCode</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.14</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">add</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/CancellationReason</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">this is a value</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/Status</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Cancelled</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationCode</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">0.14</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">add</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/CancellationReason</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">this is a value</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/Status\",\"value\":\"Cancelled\"},{\"op\":\"add\",\"path\":\"/CancellationCode\",\"value\":\"0.14\"},{\"op\":\"add\",\"path\":\"/CancellationReason\",\"value\":\"this is a value\"}]"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204:</p>
</blockquote>

<p>In the event you need to update a payment instruction, this end point should be called to edit specific attributes of the payment instructions.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">PUT http://uat.mppglobal.com/api/accounts/{accountId}/payment-instructions/{paymentInstructionReference}</code></p>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>-</td>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
</tr>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

          <h1 id="access-management">Access Management</h1>

<h2 id="create-access">Create Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/%7BaccountId%7D/entitlements <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"name":"Open Access to the Tribune","identifier":"TheTribuneOpen","startDate":"2015-01-01T00:00:00","endDate":"2019-01-01T00:00:00"}'</span><span class="sb">```</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"name\":\"Open Access to the Tribune\",\"identifier\":\"TheTribuneOpen\",\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2019-01-01T00:00:00\"}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Open Access to the Tribune</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">identifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TheTribuneOpen</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">name</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Open Access to the Tribune</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">identifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">TheTribuneOpen</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2015-01-01T00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2019-01-01T00:00:00</span><span class="se">\"</span><span class="s">}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command will return a HTTP 204 and an empty response body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In addition to gaining entitlements via purchasing content, it is possible to provide access to an account directly via the API.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/{accountId}/entitlements</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>Yes</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>Yes</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>Yes</td>
<td>The expiry of the entitlement</td>
</tr>
</tbody></table>

<h2 id="retrieve-access">Retrieve Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"entitlements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for retrieving all active access for a specific account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/entitlements</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entitlements</td>
<td>string</td>
<td>Optional</td>
<td>The list of current account entitlements</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>Required</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>Required</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>Required</td>
<td>The expire date of the entitlement</td>
</tr>
</tbody></table>

<h2 id="validate-access">Validate Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span>?incrementUsage<span class="o">=</span><span class="nb">true</span>&amp;deviceIdentifier<span class="o">=</span>iPad <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}?incrementUsage=true&amp;deviceIdentifier=iPad"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"remainingTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"584.15:18:54"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deviceLimitExceeded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entitlementAvailable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to check if an account has access to content, this API method should be executed. Passing through the incrementUsage parameter will add one onto the entitlement count and passing a deviceIdentifier will allow you to make use of eSuite device concurrency functionality.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>incrementUsage</td>
<td>boolean</td>
<td>Optional</td>
<td>This option will default to false if not provided.</td>
</tr>
<tr>
<td>deviceIdentifier</td>
<td>string</td>
<td>Optional</td>
<td>If device concurrency is being used, this value must be populated.</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remainingTime</td>
<td>string</td>
<td>The remaining amount of time the customer has access (DD.HH:MM:SS)</td>
</tr>
<tr>
<td>deviceLimitExceeded</td>
<td>boolean</td>
<td>An indication as to whether the customer is consuming content on the maximum number of devices</td>
</tr>
<tr>
<td>entitlementAvailable</td>
<td>boolean</td>
<td>An indication as to whether the customer has access to the entitlement</td>
</tr>
</tbody></table>

<h2 id="delete-access">Delete Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/<span class="o">{</span>entitlementIdentifier<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns an empty JSON document:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In the event access should be removed from an account, this API method should be triggered</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE http://uat.mppglobal.com/api/accounts/{accountId}/entitlements/{entitlementIdentifier}</code></p>

<aside class="warning">Executing this API will not remove access from the account until the access rights of the account are checked again.</aside>

<h2 id="search-access">Search Access</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/entitlements/search?rowsPerPage<span class="o">=</span>10&amp;currentPage<span class="o">=</span>1&amp;exactMatch<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search?rowsPerPage=10&amp;currentPage=1&amp;exactMatch=false"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2973</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultsPerPage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open Access to the Tribune"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheTribuneOpen"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T00:00:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is available for all access for a specific account, regardless of whether it is active.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/entitlements/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>createDateMin</td>
<td>string</td>
<td>Optional</td>
<td>Earliest creation date to search</td>
</tr>
<tr>
<td>createDateMax</td>
<td>string</td>
<td>Optional</td>
<td>Latest creation date to search</td>
</tr>
<tr>
<td>startDateMin</td>
<td>string</td>
<td>Optional</td>
<td>Earliest Entitlement start date to search</td>
</tr>
<tr>
<td>startDateMax</td>
<td>string</td>
<td>Optional</td>
<td>Latest Entitlement start date to search</td>
</tr>
<tr>
<td>endDateMin</td>
<td>string</td>
<td>Optional</td>
<td>Earliest Entitlement expiration date to search</td>
</tr>
<tr>
<td>endDateMax</td>
<td>string</td>
<td>Optional</td>
<td>Latest Entitlement expiration date to search</td>
</tr>
<tr>
<td>entitlementIdentifier</td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td>rowsPerPage</td>
<td>integer</td>
<td>Optional</td>
<td>Number of items to return in the response</td>
</tr>
<tr>
<td>currentPage</td>
<td>integer</td>
<td>Optional</td>
<td>Page to return</td>
</tr>
<tr>
<td>exactMatch</td>
<td>boolean</td>
<td>Optional</td>
<td>Indication whether to exactly match the entitlementIdentifer (default to false)</td>
</tr>
</tbody></table>

<aside class="info">Passing no query parameters will return a 204.</aside>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entitlements</td>
<td>string</td>
<td>Optional</td>
<td>The list of current account entitlements</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>The name of entitlement</td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>Required</td>
<td>The identifier of entitlement</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>Required</td>
<td>The create date of the entitlement</td>
</tr>
<tr>
<td>endDate</td>
<td>string</td>
<td>Required</td>
<td>The expire date of the entitlement</td>
</tr>
</tbody></table>

          <h1 id="native-billing">Native Billing</h1>

<h2 id="validate-a-roku-purchase">Validate a Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://uat.mppglobal.com/api/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865","email":"john.smith@mppglobal.com","password":"SuperStrongP@ssword01","newAccountDetails":{"firstName":"John","lastName":"Smith"}}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://uat.mppglobal.com/api/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"http://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newAccountDetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">}}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SuperStrongP@ssword01</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newAccountDetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://uat.mppglobal.com/api/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"SuperStrongP@ssword01\",\"newAccountDetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"}}"</span>
  <span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This endpoint allows you to pass through the Roku transactionId alongside customer information and the eSuite platform will create an account before adding the subscription.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/native-billing/roku/</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rokuTransactionId</td>
<td>string</td>
<td>Optional</td>
<td>The roku transaction ID that is to be validated</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Optional</td>
<td>Email address of the customer&rsquo;s Roku billing account</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Optional</td>
<td>Customer&rsquo;s password</td>
</tr>
<tr>
<td>newAccountDetails</td>
<td>object</td>
<td>Optional</td>
<td>A sub-object of RokuValidateTransactionRequest, containing additional customer information</td>
</tr>
<tr>
<td>newAccountDetails &gt; firstName</td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s first name, as forwarded from Roku&rsquo;s native billing</td>
</tr>
<tr>
<td>newAccountDetails &gt; lastName</td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s last name, as forwarded from Roku&rsquo;s native billing</td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-roku-purchase">Validate Existing Account&rsquo;s Roku Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/roku <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>

  --data <span class="s1">'{"rokuTransactionId":"1244567865"}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"rokuTransactionId\":\"1244567865\"}}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">rokuTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1244567865</span><span class="se">\"</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">rokuTransactionId</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">1244567865</span><span class="se">\"</span><span class="s">}}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"rokuTransactionId\":\"1244567865 \"}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>this endpoint should be called when an existing account has made a purchase via Roku. Calling this endpoint will add the Roku subscription to their eSuite account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/roku</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rokuTransactionId</td>
<td>string</td>
<td>Optional</td>
<td>The roku transaction ID that is to be validated</td>
</tr>
</tbody></table>

<h2 id="validate-itunes-purchase">Validate iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://uat.mppglobal.com/api/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","email":"john.smith@mppglobal.com","password":"@ReallyStrongP@ssw0rd","newaccountdetails":{"firstName":"John","lastName":"Smith"},"currency":"GBP","price":12.5}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://uat.mppglobal.com/api/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"http://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">newaccountdetails</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">firstName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lastName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Smith</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">john.smith@mppglobal.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">password</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">@ReallyStrongP@ssw0rd</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">newaccountdetails</span><span class="se">\"</span><span class="s">:{</span><span class="se">\"</span><span class="s">firstName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">John</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">lastName</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Smith</span><span class="se">\"</span><span class="s">},</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://uat.mppglobal.com/api/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"email\":\"john.smith@mppglobal.com\",\"password\":\"@ReallyStrongP@ssw0rd\",\"newaccountdetails\":{\"firstName\":\"John\",\"lastName\":\"Smith\"},\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>For first time sign-up and subscribers, calling this endpoint containing information about the iTunes purchase and details of the customer will create and account as well as the subscription within eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/native-billing/itunes</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>receipt</td>
<td>string</td>
<td>Yes</td>
<td>The encrypted receipt returned from the iTunes stored when the app was purchased</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>No</td>
<td>An indication as to the price paid within iTunes</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>No</td>
<td>The currency used to purchase the iTunes subscription</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Optional</td>
<td>Email address of the customer&rsquo;s Roku billing account</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Optional</td>
<td>Customer&rsquo;s password</td>
</tr>
<tr>
<td>newAccountDetails</td>
<td>object</td>
<td>Optional</td>
<td>A sub-object of request, containing additional customer information</td>
</tr>
<tr>
<td>newAccountDetails &gt; firstName</td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s first name, as forwarded from iTunes&rsquo;s native billing</td>
</tr>
<tr>
<td>newAccountDetails &gt; lastName</td>
<td>string</td>
<td>Optional</td>
<td>The customer&rsquo;s last name, as forwarded from iTunes&rsquo;s native billing</td>
</tr>
</tbody></table>

<h2 id="validate-existing-accounts-itunes-purchase">Validate Existing Account&rsquo;s iTunes Purchase</h2>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url http://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/subscriptions/native-billing/itunes <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{"receipt":"AsedRFTCDsd....TGFESSCGcxcsd484","currency":"GBP","price":12.5}
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">receipt</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GBP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:12.5}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">receipt</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">AsedRFTCDsd....TGFESSCGcxcsd484</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">currency</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">GBP</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">price</span><span class="se">\"</span><span class="s">:12.5}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"receipt\":\"AsedRFTCDsd....TGFESSCGcxcsd484\",\"currency\":\"GBP\",\"price\":12.5}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>For existing accounts.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/api/accounts/{accountId}/subscriptions/native-billing/itunes</code></p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>receipt</td>
<td>string</td>
<td>Yes</td>
<td>The encrypted receipt returned from the iTunes stored when the app was purchased</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>No</td>
<td>An indication as to the price paid within iTunes</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>No</td>
<td>The currency used to purchase the iTunes subscription</td>
</tr>
</tbody></table>

          <h1 id="session-management">Session Management</h1>

<h2 id="retrieve-a-session">Retrieve a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-sessionid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BE52ADA2064C4F9A9D90F28D066D1RFT'</span><span class="p">,</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shortSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-20T13:28:30.897Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionActive"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longSessionExpiry"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-20T13:28:30.897Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Calling this endpoint will return information about the current state of the session token provided on the request.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/sessions/{sessionToken}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sessionToken</td>
<td>string</td>
<td>Yes</td>
<td>The session token that should be retrieved</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>An indication of the account the session is tied to</td>
</tr>
<tr>
<td>shortSessionActive</td>
<td>boolean</td>
<td>An indication as to whether the shortSession aspect of the session is still active</td>
</tr>
<tr>
<td>shortSessionExpiry</td>
<td>string</td>
<td>The date and time the shortSession will expire</td>
</tr>
<tr>
<td>longSessionActive</td>
<td>boolean</td>
<td>An indication as to whether the LongSession aspect of the session is still active</td>
</tr>
<tr>
<td>longSessionExpiry</td>
<td>string</td>
<td>The date and time the longSession will expire</td>
</tr>
</tbody></table>

<h2 id="delete-a-session">Delete a Session</h2>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/sessions/<span class="o">{</span>sessionToken<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/sessions/{sessionToken}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/sessions/{sessionToken}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/sessions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
      <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"{sessionToken}"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<p>If you would like to delete a session on eSuite, calling this endpoint will expire and remove any information stored within it.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/sessions/{sessionToken}</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sessionToken</td>
<td>string</td>
<td>Yes</td>
<td>The session token that should be deleted</td>
</tr>
</tbody></table>

          <h1 id="catalogue-management">Catalogue Management</h1>

<h2 id="retrieve-all-subscription-services">Retrieve All Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return all configured subscription services for your instance of eSuite.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/subscriptions</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptionsInfo</td>
<td>array[object]</td>
<td>Object containing all subscription services on the Client</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionId</td>
<td>string</td>
<td>The identifier of the subscription</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; resourceReference</td>
<td>string</td>
<td>The reference of the subscription</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroup</td>
<td>string</td>
<td>The subscription group the subscription belongs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroupTag</td>
<td>string</td>
<td>The subscription group tag the subscription belongs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroupStatus</td>
<td>string</td>
<td>The status of the subscription group</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionDescription</td>
<td>string</td>
<td>A description of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionTitle</td>
<td>string</td>
<td>A title of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionType</td>
<td>string</td>
<td>The type of subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionStatus</td>
<td>string</td>
<td>The status of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; initialPricingEnabled</td>
<td>boolean</td>
<td>An indication whether initial pricing is enabled</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo</td>
<td>object</td>
<td>Object containing trial information</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialEnabled</td>
<td>boolean</td>
<td>An indication whether trials are enabled</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialUnit</td>
<td>string</td>
<td>Duration type (month, day, year, etc.)</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialPeriod</td>
<td>integer</td>
<td>How long the duration should be</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; discountPercentage</td>
<td>number</td>
<td>How much the price will be discounted</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; nonPaymentTrial</td>
<td>boolean</td>
<td>An indication to whether payment details are required</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo</td>
<td>object</td>
<td>Object containing contract information</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; contractUnit</td>
<td>string</td>
<td>Type of contract (day, week, month, etc.)</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; contractPeriod</td>
<td>integer</td>
<td>Number of units the contract runs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; autoRenewDefault</td>
<td>string</td>
<td>Indication whether the subscription service will renew</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo</td>
<td>array[object]</td>
<td>The collection of all prices configured for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; currency</td>
<td>string</td>
<td>The currency the price is associated to</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; initialPrice</td>
<td>number</td>
<td>The price that will be paid on sign-up of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; priceIsGross</td>
<td>boolean</td>
<td>An indication as to whether the price returned is the gross or net price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; renewalPrice</td>
<td>number</td>
<td>The price that will be paid on subsequent renewal purchases</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; priceId</td>
<td>integer</td>
<td>The eSuite Identifer for the price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; taxCategory</td>
<td>string</td>
<td>Tax category</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; resourceReference</td>
<td>string</td>
<td>The identifier for the price that should be used on purchase calls</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; paymentMethod</td>
<td>string</td>
<td>The payment method associated to the specific price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; allowedPaymentMethods</td>
<td>array[string]</td>
<td>The collection of payment methods available on the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters</td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterName</td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterType</td>
<td>string</td>
<td>An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterValue</td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images</td>
<td>array[object]</td>
<td>The overarching object which contains all images for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; imageId</td>
<td>integer</td>
<td>The eSuite identifier for the image</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; displayName</td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; fileName</td>
<td>string</td>
<td>The file name associated to the image</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; default</td>
<td>boolean</td>
<td>An indication as to whether the image is the default image for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; location</td>
<td>string</td>
<td>The URL location the image is hosted at</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing</td>
<td>object</td>
<td>A breakdown of how many group licenses are associated to the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing &gt; standard</td>
<td>integer</td>
<td>The number of standard licenses associated to the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing &gt; overflow</td>
<td>integer</td>
<td>The number of overflow licenses associated to the subscription service</td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-subscription-services">Retrieve Filtered Subscription Services</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/subscriptions/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/subscriptions/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/subscriptions/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subscriptionsInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11165"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010SGFC5SYCG6AEM3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Magazine"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionGroupStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day Digital Monthly Subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SubscriptionPeriod"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subscriptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"initialPricingEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"trialEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Month"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trialPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discountPercentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonPaymentTrial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"contractInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"contractUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contractPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoRenewDefault"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pricingInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"initialPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceIsGross"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"renewalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16889</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010NWR3QDGG734QM2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eWallet"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"allowedPaymentMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DirectDebit"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThirdPartyRef"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1221332525"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestImage"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-eu-west-1.amazonaws.com/mpp-dev-one/433_62c5f972-80ad-4239-97fc-428eb93916e8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"groupLicensing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"standard"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"overflow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return you a subset of your configured subscription services, based on the query parameters provided.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/subscriptions/search</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>serviceIds</td>
<td>Array[integer]</td>
<td>Optional</td>
<td>A collection of subscription service Identifiers</td>
</tr>
<tr>
<td>subscriptionGroupTagName</td>
<td>string</td>
<td>Optional</td>
<td>Subscription service group name</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptionsInfo</td>
<td>array[object]</td>
<td>Object containing all subscription services on the Client</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionId</td>
<td>string</td>
<td>The identifier of the subscription</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; resourceReference</td>
<td>string</td>
<td>The reference of the subscription</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroup</td>
<td>string</td>
<td>The subscription group the subscription belongs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroupTag</td>
<td>string</td>
<td>The subscription group tag the subscription belongs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionGroupStatus</td>
<td>string</td>
<td>The status of the subscription group</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionDescription</td>
<td>string</td>
<td>A description of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionTitle</td>
<td>string</td>
<td>A title of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionType</td>
<td>string</td>
<td>The type of subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; subscriptionStatus</td>
<td>string</td>
<td>The status of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; initialPricingEnabled</td>
<td>boolean</td>
<td>An indication whether initial pricing is enabled</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo</td>
<td>object</td>
<td>Object containing trial information</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialEnabled</td>
<td>boolean</td>
<td>An indication whether trials are enabled</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialUnit</td>
<td>string</td>
<td>Duration type (month, day, year, etc.)</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; trialPeriod</td>
<td>integer</td>
<td>How long the duration should be</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; discountPercentage</td>
<td>number</td>
<td>How much the price will be discounted</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; trialInfo &gt; nonPaymentTrial</td>
<td>boolean</td>
<td>An indication to whether payment details are required</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo</td>
<td>object</td>
<td>Object containing contract information</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; contractUnit</td>
<td>string</td>
<td>Type of contract (day, week, month, etc.)</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; contractPeriod</td>
<td>integer</td>
<td>Number of units the contract runs</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; contractInfo &gt; autoRenewDefault</td>
<td>string</td>
<td>Indication whether the subscription service will renew</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo</td>
<td>array[object]</td>
<td>The collection of all prices configured for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; currency</td>
<td>string</td>
<td>The currency the price is associated to</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; initialPrice</td>
<td>number</td>
<td>The price that will be paid on sign-up of the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; priceIsGross</td>
<td>boolean</td>
<td>An indication as to whether the price returned is the gross or net price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; renewalPrice</td>
<td>number</td>
<td>The price that will be paid on subsequent renewal purchases</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; priceId</td>
<td>integer</td>
<td>The eSuite Identifer for the price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; taxCategory</td>
<td>string</td>
<td>Tax category</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; resourceReference</td>
<td>string</td>
<td>The identifier for the price that should be used on purchase calls</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; pricingInfo &gt; paymentMethod</td>
<td>string</td>
<td>The payment method associated to the specific price</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; allowedPaymentMethods</td>
<td>array[string]</td>
<td>The collection of payment methods available on the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters</td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterName</td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterType</td>
<td>string</td>
<td>An indication as to what data type the parameter should be displayed e.g. HTML, Decimal</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; customParameters &gt; parameterValue</td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images</td>
<td>array[object]</td>
<td>The overarching object which contains all images for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; imageId</td>
<td>integer</td>
<td>The eSuite identifier for the image</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; displayName</td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; fileName</td>
<td>string</td>
<td>The file name associated to the image</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; default</td>
<td>boolean</td>
<td>An indication as to whether the image is the default image for the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; images &gt; location</td>
<td>string</td>
<td>The URL location the image is hosted at</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing</td>
<td>object</td>
<td>A breakdown of how many group licenses are associated to the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing &gt; standard</td>
<td>integer</td>
<td>The number of standard licenses associated to the subscription service</td>
</tr>
<tr>
<td>subscriptionsInfo &gt; groupLicensing &gt; overflow</td>
<td>integer</td>
<td>The number of overflow licenses associated to the subscription service</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-products">Retrieve All Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return all configured products within your instance of eSuite, this endpoint should be called.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/products</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>products</td>
<td>array[object]</td>
<td>List of products</td>
</tr>
<tr>
<td>products &gt; productId</td>
<td>integer</td>
<td>Product identifier</td>
</tr>
<tr>
<td>products &gt; status</td>
<td>string</td>
<td>Product status</td>
</tr>
<tr>
<td>products &gt; title</td>
<td>string</td>
<td>Title</td>
</tr>
<tr>
<td>products &gt; description</td>
<td>string</td>
<td>Description</td>
</tr>
<tr>
<td>products &gt; pricing</td>
<td>array[object]</td>
<td>Pricing</td>
</tr>
<tr>
<td>products &gt; pricing &gt; currency</td>
<td>string</td>
<td>IsoCode</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo</td>
<td>array[object]</td>
<td>Purchase info</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod</td>
<td>array[object]</td>
<td>Payment method</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; grossAmount</td>
<td>number</td>
<td>Gross amount</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; paymentMethod</td>
<td>string</td>
<td>Payment method</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; priceId</td>
<td>string</td>
<td>Price id</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; resourceReference</td>
<td>string</td>
<td>Resource Reference for the PriceId</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo</td>
<td>object</td>
<td>Pricing role</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; roleId</td>
<td>string</td>
<td>Role identifier</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; clientRef</td>
<td>string</td>
<td>Client reference</td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; title</td>
<td>string</td>
<td>Title</td>
</tr>
<tr>
<td>products &gt; images</td>
<td>array[object]</td>
<td>Images of the product</td>
</tr>
<tr>
<td>products &gt; images &gt; imageId</td>
<td>integer</td>
<td>Image identifier</td>
</tr>
<tr>
<td>products &gt; images &gt; displayName</td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td>products &gt; images &gt; fileName</td>
<td>string</td>
<td>File name</td>
</tr>
<tr>
<td>products &gt; images &gt; default</td>
<td>boolean</td>
<td>Specify if image is default</td>
</tr>
<tr>
<td>products &gt; images &gt; location</td>
<td>string</td>
<td>Path to the image</td>
</tr>
<tr>
<td>products &gt; supplier</td>
<td>object</td>
<td>Suplier details</td>
</tr>
<tr>
<td>products &gt; supplier &gt; suppliedId</td>
<td>integer</td>
<td>Suplier identifier</td>
</tr>
<tr>
<td>products &gt; supplier &gt; name</td>
<td>string</td>
<td>Name</td>
</tr>
<tr>
<td>products &gt; type</td>
<td>object</td>
<td>Product type</td>
</tr>
<tr>
<td>products &gt; type &gt; typeId</td>
<td>integer</td>
<td>Type id</td>
</tr>
<tr>
<td>products &gt; type &gt; name</td>
<td>string</td>
<td>Type name</td>
</tr>
<tr>
<td>products &gt; customParameters</td>
<td>array[object]</td>
<td>Custom parameters</td>
</tr>
<tr>
<td>products &gt; customParameters &gt; parameterName</td>
<td>string</td>
<td>Name of the custom parameter</td>
</tr>
<tr>
<td>products &gt; customParameters &gt; parameterValue</td>
<td>string</td>
<td>Value of the custom parameter</td>
</tr>
<tr>
<td>products &gt; resourceReference</td>
<td>string</td>
<td>Resource Reference for the ProductId</td>
</tr>
</tbody></table>

<h2 id="retrieve-filtered-products">Retrieve Filtered Products</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/products/search <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/products/search"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/products/search"</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/products/search"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pricing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"purchaseInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"grossAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditDebitCard"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"priceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"roleInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"clientRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"suppliedId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"customParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parameterValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"resourceReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>To return only a subset of your product catalogoue, this endpoint should be called with the appropriate query string parameters.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/products/search</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productIds</td>
<td>array[integer]</td>
<td>Optional</td>
<td>A collection of product Identifiers</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Optional</td>
<td>The currency prices should be returned</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>products</td>
<td>array[object]</td>
<td>List of products</td>
<td></td>
</tr>
<tr>
<td>products &gt; productId</td>
<td>integer</td>
<td>Product identifier</td>
<td></td>
</tr>
<tr>
<td>products &gt; status</td>
<td>string</td>
<td>Product status</td>
<td></td>
</tr>
<tr>
<td>products &gt; title</td>
<td>string</td>
<td>Title</td>
<td></td>
</tr>
<tr>
<td>products &gt; description</td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing</td>
<td>array[object]</td>
<td>Pricing</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; currency</td>
<td>string</td>
<td>IsoCode</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo</td>
<td>array[object]</td>
<td>Purchase info</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod</td>
<td>array[object]</td>
<td>Payment method</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; grossAmount</td>
<td>number</td>
<td>Gross amount</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; paymentMethod</td>
<td>string</td>
<td>Payment method</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; priceId</td>
<td>string</td>
<td>Price id</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; paymentMethod &gt; resourceReference</td>
<td>string</td>
<td>Resource Reference for the PriceId</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo</td>
<td>object</td>
<td>Pricing role</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; roleId</td>
<td>string</td>
<td>Role identifier</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; clientRef</td>
<td>string</td>
<td>Client reference</td>
<td></td>
</tr>
<tr>
<td>products &gt; pricing &gt; purchaseInfo &gt; roleInfo &gt; title</td>
<td>string</td>
<td>Title</td>
<td></td>
</tr>
<tr>
<td>products &gt; images</td>
<td>array[object]</td>
<td>Images of the product</td>
<td></td>
</tr>
<tr>
<td>products &gt; images &gt; imageId</td>
<td>integer</td>
<td>Image identifier</td>
<td></td>
</tr>
<tr>
<td>products &gt; images &gt; displayName</td>
<td>string</td>
<td>Display name</td>
<td></td>
</tr>
<tr>
<td>products &gt; images &gt; fileName</td>
<td>string</td>
<td>File name</td>
<td></td>
</tr>
<tr>
<td>products &gt; images &gt; default</td>
<td>boolean</td>
<td>Specify if image is default</td>
<td></td>
</tr>
<tr>
<td>products &gt; images &gt; location</td>
<td>string</td>
<td>Path to the image</td>
<td></td>
</tr>
<tr>
<td>products &gt; supplier</td>
<td>object</td>
<td>Suplier details</td>
<td></td>
</tr>
<tr>
<td>products &gt; supplier &gt; suppliedId</td>
<td>integer</td>
<td>Suplier identifier</td>
<td></td>
</tr>
<tr>
<td>products &gt; supplier &gt; name</td>
<td>string</td>
<td>Name</td>
<td></td>
</tr>
<tr>
<td>products &gt; type</td>
<td>object</td>
<td>Product type</td>
<td></td>
</tr>
<tr>
<td>products &gt; type &gt; typeId</td>
<td>integer</td>
<td>Type id</td>
<td></td>
</tr>
<tr>
<td>products &gt; type &gt; name</td>
<td>string</td>
<td>Type name</td>
<td></td>
</tr>
<tr>
<td>products &gt; customParameters</td>
<td>array[object]</td>
<td>Custom parameters</td>
<td></td>
</tr>
<tr>
<td>products &gt; customParameters &gt; parameterName</td>
<td>string</td>
<td>Name of the custom parameter</td>
<td></td>
</tr>
<tr>
<td>products &gt; customParameters &gt; parameterValue</td>
<td>string</td>
<td>Value of the custom parameter</td>
<td></td>
</tr>
<tr>
<td>products &gt; resourceReference</td>
<td>string</td>
<td>Resource Reference for the ProductId</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="customer-support-logs">Customer Support Logs</h1>

<h2 id="create-support-log">Create Support Log</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"logType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SupportNote"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to access content."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due to the use of cellular data."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"systemAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12548695</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/support-logs <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"logType":"SupportNote","logStatus":"Open","logTitle":"Unable to access content.","logDetails":"Due to the use of cellular data.","systemAccountId":12548695}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"logType\":\"SupportNote\",\"logStatus\":\"Open\",\"logTitle\":\"Unable to access content.\",\"logDetails\":\"Due to the use of cellular data.\",\"systemAccountId\":12548695}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-sessionid"</span><span class="o">,</span> <span class="s">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"logType\":\"SupportNote\",\"logStatus\":\"Open\",\"logTitle\":\"Unable to access content.\",\"logDetails\":\"Due to the use of cellular data.\",\"systemAccountId\":12548695}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">logType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">SupportNote</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">logStatus</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Open</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">logTitle</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Unable to access content.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">logDetails</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Due to the use of cellular data.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">systemAccountId</span><span class="se">\"</span><span class="s2">:12548695}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">logType</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">SupportNote</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">logStatus</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Open</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">logTitle</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Unable to access content.</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">logDetails</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Due to the use of cellular data.</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">systemAccountId</span><span class="se">\"</span><span class="s">:12548695}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{\"logType\":\"SupportNote\",\"logStatus\":\"Open\",\"logTitle\":\"Unable to access content.\",\"logDetails\":\"Due to the use of cellular data.\",\"systemAccountId\":12548695}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 201 alongside a response Header of Location.</p>
</blockquote>

<p>This endpoint allows you to create a support log against a specific account. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://uat.mppglobal.com/api/accounts/{accountId}/support-logs</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logType</td>
<td>string</td>
<td>Yes</td>
<td>The type of log entry. Only SupportNote is accepted on the POST.</td>
</tr>
<tr>
<td>logStatus</td>
<td>string</td>
<td>Yes</td>
<td>Indication whether the log entry is open or closed.</td>
</tr>
<tr>
<td>logTitle</td>
<td>string</td>
<td>Yes</td>
<td>A summary of what the log entry details.</td>
</tr>
<tr>
<td>logDetails</td>
<td>string</td>
<td>Yes</td>
<td>Specific information about the log entry being added.</td>
</tr>
<tr>
<td>systemAccountId</td>
<td>integer</td>
<td>No</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-support-logs">Retrieve All Support Logs</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/support-logs <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"logType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SupportNote"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to access content."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due to the use of cellular data."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"systemAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1634375</span><span class="p">,</span><span class="w">
            </span><span class="s2">"supportLogReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010XABJN0X22IVB90"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastUpdatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"logType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SystemAccount"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This much"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"logDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer service credits addition. (10.00 EUR credit added to the customers account)."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"systemAccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"supportLogReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010XAHJ8U41PKNAE2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T09:25:51.927"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastUpdatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T09:25:51.927"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"totalNumberOfRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve all support logs for a specific account. This includes those created via the API and as system generated notes.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/support-logs/</code></p>

<h3 id="query-string-parameters">Query String Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageNumber</td>
<td>integer</td>
<td>No</td>
<td>Indication as to which page of results to return. Will default to 1.</td>
</tr>
<tr>
<td>recordsPerPage</td>
<td>integer</td>
<td>No</td>
<td>Indication as to how many results to return. Will default to 50.</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logs</td>
<td>array[objects]</td>
<td>The collection of support log entries.</td>
</tr>
<tr>
<td>logs &gt; logType</td>
<td>string</td>
<td>The type of log entry.</td>
</tr>
<tr>
<td>logs &gt; logStatus</td>
<td>string</td>
<td>Indication whether the log entry is open or closed.</td>
</tr>
<tr>
<td>logs &gt; logTitle</td>
<td>string</td>
<td>A summary of what the log entry details.</td>
</tr>
<tr>
<td>logs &gt; logDetails</td>
<td>string</td>
<td>Specific information about the log entry being added.</td>
</tr>
<tr>
<td>logs &gt; systemAccountId</td>
<td>integer</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>logs &gt; supportLogReference</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>logs &gt; createdDate</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>logs &gt; lastUpdatedDate</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>totalNumberOfRecords</td>
<td>integer</td>
<td>An indication as to how many support log entries are against the account.</td>
</tr>
<tr>
<td>pageNumber</td>
<td>integer</td>
<td>The current page number.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-support-log">Retrieve a Support Log</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/support-logs/<span class="o">{</span>supportLogReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-sessionid"</span><span class="p">:</span> <span class="s2">"a0c595bd26004ff4bb7d4cb1b1c81a6d"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"logType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SupportNote"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to access content."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due to the use of cellular data."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"systemAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1634375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supportLogReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010XABJN0X22IVB90"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastUpdatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to retrieve a specific support log, for a specific account. </p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}/</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logType</td>
<td>string</td>
<td>The type of log entry.</td>
</tr>
<tr>
<td>logStatus</td>
<td>string</td>
<td>Indication whether the log entry is open or closed.</td>
</tr>
<tr>
<td>logTitle</td>
<td>string</td>
<td>A summary of what the log entry details.</td>
</tr>
<tr>
<td>logDetails</td>
<td>string</td>
<td>Specific information about the log entry being added.</td>
</tr>
<tr>
<td>systemAccountId</td>
<td>integer</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>supportLogReference</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>createdDate</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
<tr>
<td>lastUpdatedDate</td>
<td>string</td>
<td>This parameter is provided to track the system account who created the log entry.</td>
</tr>
</tbody></table>

<h2 id="update-a-support-log">Update a Support Log</h2>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/support-logs/<span class="o">{</span>supportLogReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'[{"op":"replace","path":"/LogTitle","value":"A new log title"},{"op":"replace","path":"/LogDetails","value":"Re-write of the details"},{"op":"replace","path":"/LogStatus","value":"Closed"}]'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"[{\"op\":\"replace\",\"path\":\"/LogTitle\",\"value\":\"A new log title\"},{\"op\":\"replace\",\"path\":\"/LogDetails\",\"value\":\"Re-write of the details\"},{\"op\":\"replace\",\"path\":\"/LogStatus\",\"value\":\"Closed\"}]"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"[{\"op\":\"replace\",\"path\":\"/LogTitle\",\"value\":\"A new log title\"},{\"op\":\"replace\",\"path\":\"/LogDetails\",\"value\":\"Re-write of the details\"},{\"op\":\"replace\",\"path\":\"/LogStatus\",\"value\":\"Closed\"}]"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/LogTitle</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">A new log title</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/LogDetails</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Re-write of the details</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">replace</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">path</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">/LogStatus</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Closed</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/LogTitle</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">A new log title</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/LogDetails</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Re-write of the details</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">op</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">replace</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">path</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">/LogStatus</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Closed</span><span class="se">\"</span><span class="s">}]"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span><span class="p">,</span>
    <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"[{\"op\":\"replace\",\"path\":\"/LogTitle\",\"value\":\"A new log title\"},{\"op\":\"replace\",\"path\":\"/LogDetails\",\"value\":\"Re-write of the details\"},{\"op\":\"replace\",\"path\":\"/LogStatus\",\"value\":\"Closed\"}]"</span> 
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>In the event you need to update a support log entry, this end point should be called to edit non-system generated logs.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">PUT http://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}</code></p>

<h3 id="put-parameters">PUT Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array[objects]</td>
<td>Yes</td>
<td>A collection of updates that should be made to the resource</td>
<td></td>
</tr>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>The type of change that should be executed. add, replace and remove are available operations.</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>The name of the parameter that should be updated.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Yes</td>
<td>The new value to store against the parameter.</td>
</tr>
</tbody></table>

<h2 id="delete-a-support-log">Delete a Support Log</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"logType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SupportNote"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to access content."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due to the use of cellular data."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"systemAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1634375</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supportLogReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0010XABJN0X22IVB90"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastUpdatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T08:57:14.487"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="se">\</span>
  --url https://uat.mppglobal.com/api/accounts/<span class="o">{</span>accountId<span class="o">}</span>/support-logs/<span class="o">{</span>supportLogReference<span class="o">}</span> <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>

<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="s">"/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"async"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"crossDomain"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"x-tokenid"</span><span class="p">:</span> <span class="s2">"BE52ADA2064C4F9A9D90F28D066D1RFT"</span><span class="p">,</span>
    <span class="s2">"x-version"</span><span class="p">:</span> <span class="s2">"9.0.0"</span><span class="p">,</span>
    <span class="s2">"origin"</span><span class="p">:</span> <span class="s2">"https://www.mppglobal.com"</span>
  <span class="p">},</span>
  <span class="s2">"processData"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="s2">"{}"</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon completion.</p>
</blockquote>

<p>In the event a support log entry has been added in error, this endpoint will allow you to delete the resource. The endpoint will not allow you to delete a system generated note.</p>

<h3 id="url-endpoint">URL Endpoint</h3>

<p><code class="prettyprint">DELETE http://uat.mppglobal.com/api/accounts/{accountId}/support-logs/{supportLogReference}</code></p>

          <h1 id="analytics">Analytics</h1>

<h2 id="retrieve-analytics-data">Retrieve Analytics Data</h2>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientid: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientpassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --data <span class="s1">'{}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientpassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientid"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"undefined"</span><span class="p">,</span> <span class="s">"{}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientid"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientpassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/analytics/methodName?enddate=2099-05-18T00%3A00%3A00.000Z&amp;startdate=2017-05-18T00%3A00%3A00.000Z"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientpassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-clientid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientpassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span>
    <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/analytics/methodName?enddate=2099-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z&amp;startdate=2017-05-18T00</span><span class="si">%3</span><span class="s">A00</span><span class="si">%3</span><span class="s">A00.000Z"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Unavailable</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"parameterName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parameterValue"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint can be used to extract predefined datasets from eSuite for use in external dashboarding.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://uat.mppglobal.com/api/analytics/{method}</code></p>

<h3 id="query-string">Query string</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startdate</td>
<td>string</td>
<td>optional</td>
<td>DateTime (optional) for start of query</td>
</tr>
<tr>
<td>enddate</td>
<td>string</td>
<td>optional</td>
<td>DateTime (optional) for end of query</td>
</tr>
<tr>
<td>referencecurrency</td>
<td>string</td>
<td>optional</td>
<td>If the method returns a financial information. It is possible to restrict down by currency</td>
</tr>
<tr>
<td>timezoneoffset</td>
<td>integer</td>
<td>optional</td>
<td>All data stored in eSuite is stored in UTC. If you require it in your local time, provide your UTC offset e.g. 1</td>
</tr>
</tbody></table>

<h3 id="available-data-sources">Available Data Sources</h3>

<table><thead>
<tr>
<th>Friendly Name</th>
<th>Method Name</th>
</tr>
</thead><tbody>
<tr>
<td>Account authentication attempts (per day)</td>
<td>Dynamic_Account_Authentication_Attempts</td>
</tr>
<tr>
<td>Account authentication attempts (per hour)</td>
<td>Dynamic_Authentication_RequestsPerHour</td>
</tr>
<tr>
<td>Account Status</td>
<td>Dynamic_Accounts_ByStatus</td>
</tr>
<tr>
<td>Account creation profile</td>
<td>Dynamic_Accounts_CreatedByDay</td>
</tr>
<tr>
<td>Expiring Cards</td>
<td>Dynamic_Cards_Expiring_Next_Month</td>
</tr>
<tr>
<td>Example</td>
<td>Dynamic_Consumer_Payment_Methods</td>
</tr>
<tr>
<td>Payment card authorisation attempts</td>
<td>Dynamic_CreditDebitCard_Autorisations</td>
</tr>
<tr>
<td>Most redeemed Offers</td>
<td>Dynamic_Most_Redeemed_Offers</td>
</tr>
<tr>
<td>None Subscription Revenue (by day)</td>
<td>Dynamic_NonSubscriptions_RevenueByDay</td>
</tr>
<tr>
<td>None Subscription Revenue (by payment type)</td>
<td>Dynamic_NonSubscriptions_RevenueByPaymentType</td>
</tr>
<tr>
<td>Payment Attempts (by period)</td>
<td>Dynamic_Payment_Attempts_Per_Period</td>
</tr>
<tr>
<td>Promotion Code redemption (by day)</td>
<td>Dynamic_PromotionCodes_ByDay</td>
</tr>
<tr>
<td>Promotion Code redemption (by period)</td>
<td>Dynamic_PromotionCodes_RedeemedInPeriod</td>
</tr>
<tr>
<td>All revenue generated per day</td>
<td>Dynamic_Revenue_AllByDay</td>
</tr>
<tr>
<td>API Method Count</td>
<td>Dynamic_RPM_GetCountOfApiMethods</td>
</tr>
<tr>
<td>Top RPM Count</td>
<td>Dynamic_RPM_GetTop50Minutes</td>
</tr>
<tr>
<td>Active Subscription (by day)</td>
<td>Dynamic_Subscriptions_ActiveByDay</td>
</tr>
<tr>
<td>Active Subscription (by Subscription Service)</td>
<td>Dynamic_Subscriptions_ActiveByServiceId</td>
</tr>
<tr>
<td>Subscriptions added</td>
<td>Dynamic_Subscriptions_Added</td>
</tr>
<tr>
<td>Subscription Churn (by month)</td>
<td>Dynamic_Subscriptions_ChurnbyMonth</td>
</tr>
<tr>
<td>Subscription Churn (by reason)</td>
<td>Dynamic_Subscriptions_ChurnByReason</td>
</tr>
<tr>
<td>Subscription Churn (by Subscription Sevice)</td>
<td>Dynamic_Subscriptions_ChurnByService</td>
</tr>
<tr>
<td>Churn Prediction Precision (previous month)</td>
<td>Dynamic_Subscriptions_ChurnPredictionPrecisionV5LastMonth</td>
</tr>
<tr>
<td>Churn Prediction Precision (current month)</td>
<td>Dynamic_Subscriptions_ChurnPredictionPrecisionV5ThisMonth</td>
</tr>
<tr>
<td>Subscription revenue (by day)</td>
<td>Dynamic_Subscriptions_RevenueByDay</td>
</tr>
<tr>
<td>Subscription revenue (by payment type)</td>
<td>Dynamic_Subscriptions_RevenueByPaymentType</td>
</tr>
<tr>
<td>Top performing Subscriptions</td>
<td>Dynamic_Top_Subscription_Types</td>
</tr>
<tr>
<td>Voucher redemption</td>
<td>Dynamic_Voucher_Codes_Redeemed_Per_Period</td>
</tr>
<tr>
<td>eSuite Core API Requests (per minute)</td>
<td>RPM_Core_Get</td>
</tr>
</tbody></table>

          <h1 id="bulk-actions">Bulk Actions</h1>

<h2 id="create-access">Create Access</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"entitlementIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"specific-access"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-03T11:31:41.0353603Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T11:31:41.0353603Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">123456</span><span class="p">,</span><span class="mi">123457</span><span class="p">,</span><span class="mi">123458</span><span class="p">],</span><span class="w">
  </span><span class="s2">"clientUserIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"A123456"</span><span class="p">,</span><span class="s2">"A123457"</span><span class="p">,</span><span class="s2">"A123458"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://uat.mppglobal.com/api/bulk/entitlements <span class="se">\</span>
  --header <span class="s1">'x-clientId: 1001'</span> <span class="se">\</span>
  --header <span class="s1">'x-clientPassword: Str0ngP@ssword'</span> <span class="se">\</span>
  --header <span class="s1">'x-version: 9.0.0'</span> <span class="se">\</span>
  --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  --data <span class="s1">'{"entitlementIdentifier":"specific-access","startDate":"2017-07-03T11:31:41.0353603Z","endDate":"2017-07-13T11:31:41.0353603Z","accountIds":[123456,123457,123458],"clientUserIds":["A123456","A123457","A123458"]}'</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-version"</span><span class="p">,</span> <span class="s">"9.0.0"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientId"</span><span class="p">,</span> <span class="s">"1001"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-clientPassword"</span><span class="p">,</span> <span class="s">"Str0ngP@ssword"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">Unirest</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="s">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientId"</span><span class="o">,</span> <span class="s">"1001"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-clientPassword"</span><span class="o">,</span> <span class="s">"Str0ngP@ssword"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"x-version"</span><span class="o">,</span> <span class="s">"9.0.0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"{\"entitlementIdentifier\":\"specific-access\",\"startDate\":\"2017-07-03T11:31:41.0353603Z\",\"endDate\":\"2017-07-13T11:31:41.0353603Z\",\"accountIds\":[123456,123457,123458],\"clientUserIds\":[\"A123456\",\"A123457\",\"A123458\"]}"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">asString</span><span class="o">();</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://uat.mppglobal.com/api/bulk/entitlements"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientid"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'1001'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-clientPassword"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Str0ngP@ssword'</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-version"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'9.0.0'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">entitlementIdentifier</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">specific-access</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">startDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">endDate</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">accountIds</span><span class="se">\"</span><span class="s2">:[123456,123457,123458],</span><span class="se">\"</span><span class="s2">clientUserIds</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A123456</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123457</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">A123458</span><span class="se">\"</span><span class="s2">]}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"uat.mppglobal.com"</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">entitlementIdentifier</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">specific-access</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">startDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-03T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">endDate</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2017-07-13T11:31:41.0353603Z</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">accountIds</span><span class="se">\"</span><span class="s">:[123456,123457,123458],</span><span class="se">\"</span><span class="s">clientUserIds</span><span class="se">\"</span><span class="s">:[</span><span class="se">\"</span><span class="s">A123456</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123457</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">A123458</span><span class="se">\"</span><span class="s">]}"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> 
     <span class="s">'x-tokenid'</span><span class="p">:</span> <span class="s">"1001"</span><span class="p">,</span>
    <span class="s">'x-clientPassword'</span><span class="p">:</span> <span class="s">"Str0ngP@ssword"</span><span class="p">,</span>
    <span class="s">'x-version'</span><span class="p">:</span> <span class="s">"9.0.0"</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">"application/json"</span> <span class="p">}</span>

<span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/bulk/entitlements"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Not</span> <span class="nx">available</span>
</code></pre>
<blockquote>
<p>The above command returns a HTTP 204 upon success:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span></code></pre>
<p>This endpoint is available to allow you to bulk create access for multiple accounts in a single request.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://uat.mppglobal.com/bulk/entitlements/</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entitlementIdentifier</td>
<td>string</td>
<td>Yes</td>
<td>The access the account should given</td>
</tr>
<tr>
<td>startDate</td>
<td>dateTime</td>
<td>Yes</td>
<td>The date at which the access should become active</td>
</tr>
<tr>
<td>endDate</td>
<td>dateTime</td>
<td>Yes</td>
<td>The date at which access to the content should be deactivated.</td>
</tr>
<tr>
<td>accountIds</td>
<td>array[integer]</td>
<td>No*</td>
<td>A collection of all accounts that should have access given, based upon accountId.</td>
</tr>
<tr>
<td>clientUserIds</td>
<td>array[string]</td>
<td>No*</td>
<td>A collection of all accounts that should have access given, based upon ClientUserId</td>
</tr>
</tbody></table>

<p>* It is required that either an array of accountIds or clientUserIds must be passed but it is not required to pass both.</p>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>In the event an error occurs, an object will be returned:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"result"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Example String"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">This error section is a summary of the possible error codes you could recieve from the eSuite API. The API will return a specific error message alongside one of these codes to detail the specific error that has occurred.</aside>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is malformed in some way</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; The API key provided is not valid</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The resource is not accessible using the provided API key</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>412</td>
<td>Pre-Condition Failed &ndash; The request has failed basic validation</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="javascript">jQuery</a>
          </div>
      </div>
    </div>
  </body>
</html>
